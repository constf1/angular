function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){c=!0,i=t},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{mUt8:function(t,e,n){"use strict";n.r(e);var o,a,i,r=n("ofXK"),c=n("tyNb"),s=n("3Pt+"),l=n("tk/3"),u=n("pKmL"),d=n("hctd"),g=n("fXoL"),f="[svg-path-editor.background-image]",h=((o=function(){function t(){_classCallCheck(this,t),this._imageData="",this._imageData=this.loadSavedImage()}return _createClass(t,[{key:"loadImage",value:function(t){var e=this,n=t.target;if(n&&n.files[0]){var o=n.files[0];if(o.type.startsWith("image")){var a=new FileReader;a.onload=function(t){"string"==typeof a.result&&(e._imageData=a.result,e._imageData.length<65535?e.saveImage():e.clearSavedImage())},a.readAsDataURL(o)}}}},{key:"clearImage",value:function(){this._imageData="",this.clearSavedImage()}},{key:"clearSavedImage",value:function(){try{localStorage.removeItem(f)}catch(t){console.warn("localStorage error:",t)}}},{key:"saveImage",value:function(){try{localStorage.setItem(f,this._imageData)}catch(t){console.warn("localStorage error:",t)}}},{key:"loadSavedImage",value:function(){var t;try{var e=null===(t=localStorage)||void 0===t?void 0:t.getItem(f);if("string"==typeof e)return e}catch(n){console.warn("localStorage error:",n)}return""}},{key:"imageData",get:function(){return this._imageData}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275prov=g.Kb({token:o,factory:o.\u0275fac}),o),b=n("SeXe"),p={identity:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0",invert:"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0",blue:"0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0",gray:"0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 1 0",green:"0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0",magenta:"1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0",red:"1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0",yellow:"1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0",darken:".5 0 0 0 0 0 .5 0 0 0 0 0 .5 0 0 0 0 0 1 0",lighten:"1.5 0 0 0 0 0 1.5 0 0 0 0 0 1.5 0 0 0 0 0 1 0"},m={xOffset:0,yOffset:0,width:1024,height:1024,zoom:100,backgroundImageZoom:100,backgroundImageColorMatrixName:"identity",isBackgroundImageHidden:!1,isControlPoints:!0,controlPointsFillColor:"#ffff00",isPathStroke:!0,pathStrokeColor:"#ff00ff",isPathFill:!1,pathFillColor:"#04040f",sidenavModeSide:!1,sidenavClosed:!0,backgroundColor:"#282828"},v={xOffset:Number.MIN_SAFE_INTEGER,yOffset:Number.MIN_SAFE_INTEGER,width:1,height:1,zoom:25,backgroundImageZoom:1},y={xOffset:Number.MAX_SAFE_INTEGER,yOffset:Number.MAX_SAFE_INTEGER,width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER,zoom:400,backgroundImageZoom:1e4},C=((a=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,o;_classCallCheck(this,n),t=e.call(this,m);try{var a=null===(o=localStorage)||void 0===o?void 0:o.getItem("[svg-path-editor.settings]");if(a){var i=JSON.parse(a);if(i){var r,c=Object.assign({},m),s=_createForOfIteratorHelper(t.keys);try{for(s.s();!(r=s.n()).done;){var l=r.value;typeof c[l]==typeof i[l]&&(c[l]=i[l])}}catch(u){s.e(u)}finally{s.f()}t._set(c)}}}catch(d){console.warn("localStorage error:",d)}return t}return _createClass(n,[{key:"restoreDefaults",value:function(){this.set(m)}},{key:"_validate",value:function(t){for(var e=0,o=Object.keys(v);e<o.length;e++){var a=o[e];t[a]=Math.max(v[a],Math.min(y[a],t[a]||0))}return t.backgroundImageColorMatrixName in p||(t.backgroundImageColorMatrixName="identity"),_get(_getPrototypeOf(n.prototype),"_validate",this).call(this,t)}},{key:"set",value:function(t){var e=this,n=this._set(t);return n&&(this._timerId&&clearTimeout(this._timerId),this._timerId=setTimeout((function(){e._timerId=null;try{localStorage.setItem("[svg-path-editor.settings]",JSON.stringify(e.state))}catch(t){console.warn("localStorage error:",t)}}),1e3)),n}},{key:"imageColorMatrix",get:function(){return p[this.state.backgroundImageColorMatrixName]||p.identity}}]),n}(b.a)).\u0275fac=function(t){return new(t||a)},a.\u0275prov=g.Kb({token:a,factory:a.\u0275fac}),a),_={data:"",prev:null,next:null},k=((i=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,o;_classCallCheck(this,n),(t=e.call(this,_)).saveDelay=3e4,t._save=function(){t._timerId=null;try{localStorage.setItem("[svg-path-editor.path-data]",t.state.data)}catch(e){console.warn("localStorage error:",e)}};try{var a=null===(o=localStorage)||void 0===o?void 0:o.getItem("[svg-path-editor.path-data]");a&&t._set({data:a})}catch(i){console.warn("localStorage error:",i)}return t}return _createClass(n,[{key:"restoreDefaults",value:function(){this._set(_)}},{key:"undo",value:function(){var t=this.state,e=t.prev;e&&this._set({data:e.data,prev:e.prev,next:t})}},{key:"redo",value:function(){var t=this.state,e=t.next;e&&this._set({data:e.data,prev:t,next:e.next})}},{key:"unlink",value:function(){var t=this.state;(t.next||t.prev)&&this._set({data:t.data,prev:null,next:null})}},{key:"_set",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_set",this).call(this,t);return e&&(this._timerId||(this._timerId=setTimeout(this._save,this.saveDelay))),e}},{key:"pathData",get:function(){return this.state.data},set:function(t){var e=this.state;e.data!==t&&this._set({data:t,prev:e,next:null})}},{key:"canUndo",get:function(){return!!this.state.prev}},{key:"canRedo",get:function(){return!!this.state.next}},{key:"hasLink",get:function(){return!(!this.state.prev&&!this.state.next)}}]),n}(b.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=g.Kb({token:i,factory:i.\u0275fac}),i),P=n("dqHA"),M=n("KUwc"),x={get x(){return 0},set x(t){},get y(){return 0},set y(t){}};function T(t,e){t.x+=e.x,t.y+=e.y}function S(t){for(var e="",n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];for(var i=0,r=o;i<r.length;i++){var c=r[i];e+=" ".concat(c.x-t.x," ").concat(c.y-t.y)}return e}var I=function(){function t(e,n,o){_classCallCheck(this,t),this.prev=o,this.command="M",this._endPoint={x:e,y:n}}return _createClass(t,[{key:"getControlPoints",value:function(t){t.push(this._endPoint)}},{key:"paramsToString",value:function(t){return S(t,this._endPoint)}},{key:"translate",value:function(t){T(this._endPoint,t)}},{key:"toString",value:function(t){return t?this.command.toLowerCase()+this.paramsToString(this.startPoint):this.command+this.paramsToString(x)}},{key:"endPoint",get:function(){return this._endPoint}},{key:"startPoint",get:function(){var t;return(null===(t=this.prev)||void 0===t?void 0:t._endPoint)||x}}]),t}(),O=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a){var i;return _classCallCheck(this,n),(i=e.call(this,t,o,a)).command="L",i}return n}(I),U=function(){function t(e,n){_classCallCheck(this,t),this.x=e,this._node=n}return _createClass(t,[{key:"y",get:function(){return this._node.startPoint.y},set:function(t){}}]),t}(),w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,0,o)).command="H",a._endPoint=new U(a._endPoint.x,_assertThisInitialized(a)),a}return _createClass(n,[{key:"paramsToString",value:function(t){return" "+(this._endPoint.x-t.x)}}]),n}(I),B=function(){function t(e,n){_classCallCheck(this,t),this.y=e,this._node=n}return _createClass(t,[{key:"x",get:function(){return this._node.startPoint.x},set:function(t){}}]),t}(),F=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o){var a;return _classCallCheck(this,n),(a=e.call(this,0,t,o)).command="V",a._endPoint=new B(a._endPoint.y,_assertThisInitialized(a)),a}return _createClass(n,[{key:"paramsToString",value:function(t){return" "+(this._endPoint.y-t.y)}}]),n}(I),A=function(){function t(e){_classCallCheck(this,t),this._node=e}return _createClass(t,[{key:"startPoint",get:function(){for(var t=this._node.prev;t;t=t.prev)if("M"===t.command)return t.endPoint;return x}},{key:"x",get:function(){return this.startPoint.x},set:function(t){}},{key:"y",get:function(){return this.startPoint.y},set:function(t){}}]),t}(),D=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var o;return _classCallCheck(this,n),(o=e.call(this,0,0,t)).command="Z",o._endPoint=new A(_assertThisInitialized(o)),o}return _createClass(n,[{key:"paramsToString",value:function(t){return" "}},{key:"getControlPoints",value:function(t){}}]),n}(I),H=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,i,r){var c;return _classCallCheck(this,n),(c=e.call(this,a,i,r)).command="Q",c._controlPoint={x:t,y:o},c}return _createClass(n,[{key:"translate",value:function(t){T(this._endPoint,t),T(this._controlPoint,t)}},{key:"paramsToString",value:function(t){return S(t,this._controlPoint,this._endPoint)}},{key:"getControlPoints",value:function(t){t.push(this._controlPoint,this._endPoint)}},{key:"getControlHandles",value:function(){var t=this.startPoint,e=this.controlPoint,n=this.endPoint;return"M".concat(t.x," ").concat(t.y,"L").concat(e.x," ").concat(e.y,"L").concat(n.x," ").concat(n.y)}},{key:"controlPoint",get:function(){return this._controlPoint}}]),n}(I),R=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,i,r,c,s){var l;return _classCallCheck(this,n),(l=e.call(this,a,i,r,c,s)).command="C",l._firstControlPoint={x:t,y:o},l}return _createClass(n,[{key:"translate",value:function(t){T(this._endPoint,t),T(this._controlPoint,t),T(this._firstControlPoint,t)}},{key:"paramsToString",value:function(t){return S(t,this._firstControlPoint,this._controlPoint,this._endPoint)}},{key:"getControlPoints",value:function(t){t.push(this._firstControlPoint,this._controlPoint,this._endPoint)}},{key:"getControlHandles",value:function(){var t=this.startPoint,e=this.firstControlPoint,n=this.controlPoint,o=this.endPoint;return"M".concat(t.x," ").concat(t.y,"L").concat(e.x," ").concat(e.y,"M").concat(n.x," ").concat(n.y,"L").concat(o.x," ").concat(o.y)}},{key:"firstControlPoint",get:function(){return this._firstControlPoint}}]),n}(H),E=function(){function t(e,n){_classCallCheck(this,t),this._node=e,this.command=n}return _createClass(t,[{key:"x",get:function(){var t=this._node,e=t.startPoint.x;return t.prev instanceof H&&(t.prev.command===t.command||t.prev.command===this.command)&&(e+=e-t.prev.controlPoint.x),e},set:function(t){}},{key:"y",get:function(){var t=this._node,e=t.startPoint.y;return t.prev instanceof H&&(t.prev.command===t.command||t.prev.command===this.command)&&(e+=e-t.prev.controlPoint.y),e},set:function(t){}}]),t}(),L=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,i,r){var c;return _classCallCheck(this,n),(c=e.call(this,0,0,t,o,a,i,r)).command="S",c._firstControlPoint=new E(_assertThisInitialized(c),"C"),c}return _createClass(n,[{key:"paramsToString",value:function(t){return S(t,this._controlPoint,this._endPoint)}},{key:"getControlPoints",value:function(t){t.push(this._controlPoint,this._endPoint)}},{key:"getControlHandles",value:function(){var t=this.controlPoint,e=this.endPoint;return"M".concat(t.x," ").concat(t.y,"L").concat(e.x," ").concat(e.y)}},{key:"getReflectedControlHandles",value:function(){var t=this.startPoint,e=this.firstControlPoint;return"M".concat(t.x," ").concat(t.y,"L").concat(e.x," ").concat(e.y)}}]),n}(R),z=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a){var i;return _classCallCheck(this,n),(i=e.call(this,0,0,t,o,a)).command="T",i._controlPoint=new E(_assertThisInitialized(i),"Q"),i}return _createClass(n,[{key:"paramsToString",value:function(t){return S(t,this._endPoint)}},{key:"getControlPoints",value:function(t){t.push(this._endPoint)}},{key:"getControlHandles",value:function(){return""}},{key:"getReflectedControlHandles",value:function(){var t=this.startPoint,e=this.controlPoint,n=this.endPoint;return"M".concat(t.x," ").concat(t.y,"L").concat(e.x," ").concat(e.y,"L").concat(n.x," ").concat(n.y)}}]),n}(H),V=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,i,r,c,s,l){var u;return _classCallCheck(this,n),(u=e.call(this,c,s,l)).rx=t,u.ry=o,u.angle=a,u.largeArcFlag=i,u.sweepFlag=r,u.command="A",u}return _createClass(n,[{key:"paramsToString",value:function(t,e){return" ".concat(this.rx," ").concat(this.ry," ").concat(this.angle," ")+(!e===this.largeArcFlag?"1":"0")+(!e===this.sweepFlag?"1":"0")+S(t,this.endPoint)}},{key:"getReflectedControlHandles",value:function(){var t=this.startPoint,e=this.centerPoint,n=this.endPoint,o="M".concat(n.x," ").concat(n.y,"L").concat(e.x," ").concat(e.y,"L").concat(t.x," ").concat(t.y,"A").concat(this.paramsToString(x,!0)),a=this.angle*Math.PI/180,i=Math.cos(a),r=Math.sin(a),c=i*this.rx,s=r*this.rx,l="M".concat(e.x-c," ").concat(e.y-s,"l").concat(2*c," ").concat(2*s);return c=-r*this.ry,s=i*this.ry,o+l+"M".concat(e.x-c," ").concat(e.y-s,"l").concat(2*c," ").concat(2*s)}},{key:"centerPoint",get:function(){var t=this.startPoint,e=this.endPoint,n=t.x,o=t.y,a=e.x,i=e.y,r=this.largeArcFlag,c=this.sweepFlag,s=Math.abs(this.rx),l=Math.abs(this.ry);if(0===s||0===l)return{x:(n+a)/2,y:(o+i)/2};var u=this.angle*Math.PI/180,d=Math.cos(u),g=Math.sin(u),f=(n-a)/2,h=(o-i)/2,b=d*f+g*h,p=-g*f+d*h,m=(b*b*l*l+p*p*s*s)/(s*s*l*l);m>1&&(s*=Math.sqrt(m),l*=Math.sqrt(m));var v=(r===c?-1:1)*Math.sqrt(Math.max(s*s*l*l-s*s*p*p-l*l*b*b,0)/(s*s*p*p+l*l*b*b)),y=v*s*p/l,C=v*-l*b/s;return{x:(d*y-g*C||0)+(n+a)/2,y:(g*y+d*C||0)+(o+i)/2}}}]),n}(I),N=/([MLHVZCSQTA])/gi,j=/[01]/,q=/[+-]?(([0-9]+(\.[0-9]*)?)|\.[0-9]+)/,G=/(([0-9]+(\.[0-9]*)?)|\.[0-9]+)/,X={M:{rexps:[q,q],build:function(t,e){return new I(+t[0],+t[1],e)}},L:{rexps:[q,q],build:function(t,e){return new O(+t[0],+t[1],e)}},H:{rexps:[q],build:function(t,e){return new w(+t[0],e)}},V:{rexps:[q],build:function(t,e){return new F(+t[0],e)}},Z:{rexps:[],build:function(t,e){return new D(e)}},C:{rexps:[q,q,q,q,q,q],build:function(t,e){return new R(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5],e)}},S:{rexps:[q,q,q,q],build:function(t,e){return new L(+t[0],+t[1],+t[2],+t[3],e)}},Q:{rexps:[q,q,q,q],build:function(t,e){return new H(+t[0],+t[1],+t[2],+t[3],e)}},T:{rexps:[q,q],build:function(t,e){return new z(+t[0],+t[1],e)}},A:{rexps:[G,G,q,j,j,q,q],build:function(t,e){return new V(+t[0],+t[1],+t[2],"1"===t[3],"1"===t[4],+t[5],+t[6],e)}}},Z=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"moveTo",value:function(t){this.data=this.data.slice(t)}},{key:"read",value:function(t){t.lastIndex=0;var e=t.exec(this.data);if(null!==e){var n=e[0];return this.moveTo(e.index+n.length),n}return null}},{key:"readAll",value:function(t){var e,n=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(e=o.n()).done;){var a=e.value,i=this.read(a);if(null===i)return null;n.push(i)}}catch(r){o.e(r)}finally{o.f()}return n}},{key:"data",set:function(t){this._data=t.trim()},get:function(){return this._data}}]),t}(),$=function(){function t(){_classCallCheck(this,t),this._nodes=[],this._points=[]}return _createClass(t,[{key:"fromString",value:function(t){for(var e=0,n=this._nodes,o=t.split(N),a=new Z,i=2;i<o.length;i+=2){var r=o[i-1];for(a.data=o[i];;){var c=X[r.toUpperCase()],s=a.readAll(c.rexps);if(null===s)break;var l=c.build(s,n[e-1]);if(r.toLowerCase()===r&&(l.isRelative=!0,l.translate(l.startPoint)),n[e]=l,e++,!a.data||0===s.length)break;"M"===r?r="L":"m"===r&&(r="l")}}n.length=e,this.updateControls()}},{key:"convertTo",value:function(t){var e,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(e=n.n()).done;){e.value.isRelative=t}}catch(o){n.e(o)}finally{n.f()}}},{key:"toAbsolutePath",value:function(){return this._nodes.map((function(t){return t.toString()})).join("")}},{key:"toRelativePath",value:function(){return this._nodes.map((function(t){return t.toString(!0)})).join("")}},{key:"toString",value:function(t){return this._nodes.map((function(t){return t.toString(t.isRelative)})).join(t||"")}},{key:"updateControls",value:function(){this._points.length=0;var t,e=_createForOfIteratorHelper(this._nodes);try{for(e.s();!(t=e.n()).done;){t.value.getControlPoints(this._points)}}catch(n){e.e(n)}finally{e.f()}}},{key:"getControlPoints",value:function(){var t=this.firstSelection;if(t){var e=[];return t.getControlPoints(e),e}return this._points}},{key:"getControlHandles",value:function(){var t,e=!this.hasSelection,n="",o=_createForOfIteratorHelper(this._nodes);try{for(o.s();!(t=o.n()).done;){var a=t.value;(e||a.isSelected)&&a instanceof H&&(n+=a.getControlHandles())}}catch(i){o.e(i)}finally{o.f()}return n}},{key:"getReflectedControlHandles",value:function(){var t,e=!this.hasSelection,n="",o=_createForOfIteratorHelper(this._nodes);try{for(o.s();!(t=o.n()).done;){var a=t.value;(e||a.isSelected)&&(a instanceof L||a instanceof z||a instanceof V)&&(n+=a.getReflectedControlHandles())}}catch(i){o.e(i)}finally{o.f()}return n}},{key:"select",value:function(t,e){var n=this._nodes[t];n&&(n.isSelected=e)}},{key:"selectAll",value:function(t){var e,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(e=n.n()).done;){e.value.isSelected=t}}catch(o){n.e(o)}finally{n.f()}}},{key:"clearSelection",value:function(){this.selectAll(!1)}},{key:"getSelectedPath",value:function(){var t,e="",n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.isSelected){var a=o.startPoint,i=o.endPoint;if(o instanceof H){var r=o.controlPoint;if(o instanceof R){var c=o.firstControlPoint;e+="M".concat(a.x," ").concat(a.y,"C").concat(c.x," ").concat(c.y," ").concat(r.x," ").concat(r.y," ").concat(i.x," ").concat(i.y)}else e+="M".concat(a.x," ").concat(a.y,"Q").concat(r.x," ").concat(r.y," ").concat(i.x," ").concat(i.y)}else e+=o instanceof V?"M".concat(a.x," ").concat(a.y)+o.toString():"M".concat(a.x," ").concat(a.y,"L").concat(i.x," ").concat(i.y)}}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"moveSelectedNodes",value:function(t){var e,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.isSelected&&o.translate(t)}}catch(a){n.e(a)}finally{n.f()}}},{key:"getGroups",value:function(){var t,e,n=[],o=_createForOfIteratorHelper(this._nodes);try{for(o.s();!(e=o.n()).done;){var a=e.value;t&&"M"!==a.command?t.push(a):(t&&n.push(t),t=[a]),"Z"===a.command&&(n.push(t),t=void 0)}}catch(i){o.e(i)}finally{o.f()}return t&&n.push(t),n}},{key:"count",get:function(){return this._nodes.length}},{key:"selectedCount",get:function(){var t,e=0,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(t=n.n()).done;){t.value.isSelected&&e++}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"firstSelection",get:function(){var t,e=_createForOfIteratorHelper(this._nodes);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.isSelected)return n}}catch(o){e.e(o)}finally{e.f()}}},{key:"hasSelection",get:function(){return!!this.firstSelection}},{key:"isAllSelected",get:function(){var t,e=_createForOfIteratorHelper(this._nodes);try{for(e.s();!(t=e.n()).done;){if(!t.value.isSelected)return!1}}catch(n){e.e(n)}finally{e.f()}return!0}},{key:"isSomeSelected",get:function(){var t=this.selectedCount;return t>0&&t<this._nodes.length}}]),t}(),K=n("0IaG"),Q=n("bTqV"),Y=n("NFeN");function J(t,e){if(1&t&&(g.Ub(0,"div"),g.Ub(1,"mat-icon"),g.Cc(2,"sentiment_very_dissatisfied"),g.Tb(),g.Cc(3),g.Tb()),2&t){var n=g.gc();g.Bb(3),g.Ec(" ",n.errorMessage," ")}}function W(t,e){1&t&&(g.Ub(0,"div"),g.Cc(1,"Loading..."),g.Tb())}function tt(t,e){if(1&t&&g.Ac(0,W,2,0,"div",8),2&t){var n=g.gc(),o=g.rc(1);g.mc("ngIf",!n.errorMessage)("ngIfElse",o)}}function et(t,e){if(1&t){var n=g.Vb();g.Ub(0,"button",11),g.cc("click",(function(){g.tc(n);var t=e.$implicit;return g.gc(2).onItemClick(t)})),g.Ub(1,"div"),g.fc(),g.Ub(2,"svg",12),g.Pb(3,"path"),g.Tb(),g.Tb(),g.ec(),g.Ub(4,"span"),g.Cc(5),g.Tb(),g.Tb()}if(2&t){var o=e.$implicit,a=g.gc(2);g.Fb("sample-dialog-selection",o===a.selection),g.Bb(3),g.Cb("d",a.samples[o]),g.Bb(2),g.Dc(o)}}function nt(t,e){if(1&t&&(g.Ub(0,"div",9),g.Ac(1,et,6,4,"button",10),g.Tb()),2&t){var n=g.gc();g.Bb(1),g.mc("ngForOf",n.names)}}var ot,at=((ot=function(){function t(e){_classCallCheck(this,t),this._http=e}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._http.get("assets/svg-path-editor/samples.json").subscribe((function(e){t.names=Object.keys(e),t.samples=e}),(function(e){t.errorMessage="HTTP load failed!",console.error("HTTP load error:",e)}))}},{key:"onItemClick",value:function(t){this.selection=this.selection===t?"":t}},{key:"selectedPath",get:function(){return this.samples&&this.selection?this.samples[this.selection]:""}}]),t}()).\u0275fac=function(t){return new(t||ot)(g.Ob(l.a))},ot.\u0275cmp=g.Ib({type:ot,selectors:[["app-sample-dialog"]],decls:13,vars:4,consts:[["templateError",""],["templateLoading",""],["mat-dialog-title",""],[1,"mat-typography"],["class","sample-dialog-body",4,"ngIf","ngIfElse"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close","disabled"],[4,"ngIf","ngIfElse"],[1,"sample-dialog-body"],[3,"sample-dialog-selection","click",4,"ngFor","ngForOf"],[3,"click"],["viewBox","0 0 1024 1024"]],template:function(t,e){if(1&t&&(g.Ac(0,J,4,1,"ng-template",null,0,g.Bc),g.Ac(2,tt,1,2,"ng-template",null,1,g.Bc),g.Ub(4,"h2",2),g.Cc(5,"SVG Path Samples"),g.Tb(),g.Ub(6,"mat-dialog-content",3),g.Ac(7,nt,2,1,"div",4),g.Tb(),g.Ub(8,"mat-dialog-actions",5),g.Ub(9,"button",6),g.Cc(10,"Cancel"),g.Tb(),g.Ub(11,"button",7),g.Cc(12,"Import"),g.Tb(),g.Tb()),2&t){var n=g.rc(3);g.Bb(7),g.mc("ngIf",e.samples)("ngIfElse",n),g.Bb(4),g.mc("mat-dialog-close",e.selectedPath)("disabled",!e.selection)}},directives:[K.g,K.e,r.l,K.c,Q.a,K.d,Y.a,r.k],styles:[".sample-dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.sample-dialog-body[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:pointer;width:18em;height:12em;padding:.5em;margin:2px}.sample-dialog-body[_ngcontent-%COMP%] > button.sample-dialog-selection[_ngcontent-%COMP%]{background-color:rgba(0,0,255,.125)}.sample-dialog-body[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:10em;height:10em;margin:.25em}.sample-dialog-body[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:top}"]}),ot),it=n("XhcP"),rt=n("/t3+"),ct=n("1jcm"),st=n("7EHt");function lt(t,e){if(1&t){var n=g.Vb();g.Ub(0,"li",4),g.Ub(1,"button",5),g.cc("click",(function(){g.tc(n);var t=e.index;return g.gc().selectionChange.emit(t)})),g.Cc(2),g.Tb(),g.Tb()}if(2&t){var o=e.$implicit,a=e.index,i=g.gc();g.Bb(1),g.Cb("aria-selected",a===i.selection),g.Bb(1),g.Dc(o)}}var ut,dt=["*"],gt=((ut=function(){function t(){_classCallCheck(this,t),this.labels=[],this.selection=-1,this.selectionChange=new g.n}return _createClass(t,[{key:"items",set:function(t){this.labels="string"==typeof t?t.split("|"):t}}]),t}()).\u0275fac=function(t){return new(t||ut)},ut.\u0275cmp=g.Ib({type:ut,selectors:[["app-tab-group"]],inputs:{items:"items",selection:"selection"},outputs:{selectionChange:"selectionChange"},ngContentSelectors:dt,decls:5,vars:1,consts:[["role","tabgroup",1,"tab-group"],["role","tablist"],["role","presentation",4,"ngFor","ngForOf"],["role","tabpanel"],["role","presentation"],["role","tab",3,"click"]],template:function(t,e){1&t&&(g.lc(),g.Ub(0,"div",0),g.Ub(1,"ul",1),g.Ac(2,lt,3,2,"li",2),g.Tb(),g.Ub(3,"div",3),g.kc(4),g.Tb(),g.Tb()),2&t&&(g.Bb(2),g.mc("ngForOf",e.labels))},directives:[r.k],styles:["div.tab-group[role=tabgroup][_ngcontent-%COMP%]{margin-top:1em}div.tab-group[role=tabgroup][_ngcontent-%COMP%] > ul[role=tablist][_ngcontent-%COMP%]{display:flex;margin:0;padding:4px 0 0;list-style:none;border-bottom:1px solid #e3e3e3}div.tab-group[role=tabgroup][_ngcontent-%COMP%] > ul[role=tablist][_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;display:inline-block}div.tab-group[role=tabgroup][_ngcontent-%COMP%] > ul[role=tablist][_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   button[role=tab][_ngcontent-%COMP%]{cursor:pointer;font:inherit;display:inline-block;position:relative;text-decoration:none;box-sizing:border-box;border:0;background:inherit;padding:8px 15px 4px;margin-bottom:-1px;color:#5e5e5e}div.tab-group[role=tabgroup][_ngcontent-%COMP%] > ul[role=tablist][_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   button[role=tab][_ngcontent-%COMP%]:hover:not([aria-selected=true]){background-color:#f2f2f2;color:#0060b0}div.tab-group[role=tabgroup][_ngcontent-%COMP%] > ul[role=tablist][_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   button[role=tab][aria-selected=true][_ngcontent-%COMP%]{outline:inherit;padding-top:4px;padding-right:14px;padding-left:14px;color:#171717;border-color:#673ab7 #e3e3e3 hsla(0,0%,100%,.998);border-style:solid;border-width:4px 1px 1px}div.tab-group[role=tabgroup][_ngcontent-%COMP%] > div[role=tabpanel][_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #e3e3e3;border-top:none;padding:15px;border-bottom-right-radius:4px;border-bottom-left-radius:4px}"]}),ut),ft=n("kmnG"),ht=n("qFsG"),bt=n("jaxi"),pt=n("d3UM"),mt=n("FKr1");function vt(t,e){if(1&t){var n=g.Vb();g.Ub(0,"mat-button-toggle",8),g.cc("click",(function(){g.tc(n);var t=e.$implicit;return g.gc(2).zoom=t.value})),g.Cc(1),g.Tb()}if(2&t){var o=e.$implicit;g.mc("value",o.value),g.Bb(1),g.Ec("",o.label," ")}}function yt(t,e){if(1&t){var n=g.Vb();g.Ub(0,"div",4),g.Ub(1,"mat-form-field"),g.Ub(2,"mat-label"),g.Cc(3,"%"),g.Tb(),g.Ub(4,"input",5),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().zoom=t})),g.Tb(),g.Tb(),g.Ub(5,"mat-button-toggle-group",6),g.Ac(6,vt,2,2,"mat-button-toggle",7),g.Tb(),g.Tb()}if(2&t){var o=g.gc();g.Bb(4),g.mc("ngModel",o.zoom),g.Bb(1),g.mc("value",o.zoom),g.Bb(1),g.mc("ngForOf",o.zooms)}}function Ct(t,e){if(1&t){var n=g.Vb();g.Ub(0,"div",9),g.Ub(1,"p"),g.Cc(2,"The position and dimension, in user space, of an SVG viewport."),g.Tb(),g.Ub(3,"mat-form-field"),g.Ub(4,"mat-label"),g.Cc(5,"x:"),g.Tb(),g.Ub(6,"input",10),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().settings.set({xOffset:t-0})})),g.Tb(),g.Tb(),g.Ub(7,"mat-form-field"),g.Ub(8,"mat-label"),g.Cc(9,"y:"),g.Tb(),g.Ub(10,"input",10),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().settings.set({yOffset:t-0})})),g.Tb(),g.Tb(),g.Ub(11,"mat-form-field"),g.Ub(12,"mat-label"),g.Cc(13,"width:"),g.Tb(),g.Ub(14,"input",10),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().settings.set({width:t-0})})),g.Tb(),g.Tb(),g.Ub(15,"mat-form-field"),g.Ub(16,"mat-label"),g.Cc(17,"height:"),g.Tb(),g.Ub(18,"input",10),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().settings.set({height:t-0})})),g.Tb(),g.Tb(),g.Ub(19,"button",11),g.cc("click",(function(){return g.tc(n),g.gc().requestSmallestViewBox.emit()})),g.Ub(20,"mat-icon"),g.Cc(21,"border_outer"),g.Tb(),g.Cc(22,"Fit In "),g.Tb(),g.Tb()}if(2&t){var o=g.gc();g.Bb(6),g.mc("ngModel",o.settings.state.xOffset),g.Bb(4),g.mc("ngModel",o.settings.state.yOffset),g.Bb(4),g.mc("ngModel",o.settings.state.width),g.Bb(4),g.mc("ngModel",o.settings.state.height)}}function _t(t,e){if(1&t&&(g.Ub(0,"mat-option",6),g.Cc(1),g.Tb()),2&t){var n=e.$implicit;g.mc("value",n),g.Bb(1),g.Dc(n)}}function kt(t,e){if(1&t){var n=g.Vb();g.Ub(0,"div",12),g.Ub(1,"mat-form-field"),g.Ub(2,"mat-label"),g.Cc(3,"Color"),g.Tb(),g.Ub(4,"input",13),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().settings.set({backgroundColor:t})})),g.Tb(),g.Tb(),g.Ub(5,"div"),g.Ub(6,"label"),g.Ub(7,"mat-icon"),g.Cc(8,"photo_library"),g.Tb(),g.Cc(9,"Upload image: "),g.Ub(10,"input",14),g.cc("change",(function(t){return g.tc(n),g.gc().background.loadImage(t)})),g.Tb(),g.Tb(),g.Tb(),g.Ub(11,"div"),g.Ub(12,"mat-form-field"),g.Ub(13,"mat-label"),g.Cc(14,"width (%):"),g.Tb(),g.Ub(15,"input",15),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().settings.set({backgroundImageZoom:t-0})})),g.Tb(),g.Tb(),g.Tb(),g.Ub(16,"div"),g.Ub(17,"mat-slide-toggle",16),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().settings.set({isBackgroundImageHidden:t})})),g.Cc(18,"Hide"),g.Tb(),g.Tb(),g.Ub(19,"div"),g.Ub(20,"mat-form-field"),g.Ub(21,"mat-label"),g.Cc(22,"Color Matrix"),g.Tb(),g.Ub(23,"mat-select",17),g.cc("valueChange",(function(t){return g.tc(n),g.gc().settings.set({backgroundImageColorMatrixName:t})})),g.Ac(24,_t,2,2,"mat-option",18),g.Tb(),g.Tb(),g.Tb(),g.Tb()}if(2&t){var o=g.gc();g.Bb(4),g.mc("ngModel",o.settings.state.backgroundColor),g.Bb(6),g.mc("multiple",!1),g.Bb(5),g.mc("ngModel",o.settings.state.backgroundImageZoom),g.Bb(2),g.mc("ngModel",o.settings.state.isBackgroundImageHidden),g.Bb(6),g.mc("value",o.settings.state.backgroundImageColorMatrixName),g.Bb(1),g.mc("ngForOf",o.imageColorMatrixNames)}}var Pt,Mt=((Pt=function(){function t(e,n){_classCallCheck(this,t),this.settings=e,this.background=n,this.requestSmallestViewBox=new g.n,this.tabSelection=0,this.zooms=[{label:"1:4",value:25},{label:"1:2",value:50},{label:"1:1",value:100},{label:"2:1",value:200},{label:"4:1",value:400}],this.imageColorMatrixNames=Object.keys(p)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"zoom",get:function(){return this.settings.state.zoom},set:function(t){this.settings.set({zoom:t})}}]),t}()).\u0275fac=function(t){return new(t||Pt)(g.Ob(C),g.Ob(h))},Pt.\u0275cmp=g.Ib({type:Pt,selectors:[["app-menu-view"]],outputs:{requestSmallestViewBox:"requestSmallestViewBox"},decls:4,vars:4,consts:[["items","Zoom|Viewbox|Background",3,"selection","selectionChange"],["class","menu-view-zoom",4,"ngIf"],["class","menu-view-viewbox",4,"ngIf"],["class","menu-view-background",4,"ngIf"],[1,"menu-view-zoom"],["matInput","","name","fZoom","type","number","step","1","min","25","max","400",3,"ngModel","ngModelChange"],[3,"value"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"menu-view-viewbox"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-stroked-button","",3,"click"],[1,"menu-view-background"],["matInput","","type","color","placeholder","color",3,"ngModel","ngModelChange"],["type","file","placeholder","file...",3,"multiple","change"],["matInput","","type","number","min","1","step","1",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(g.Ub(0,"app-tab-group",0),g.cc("selectionChange",(function(t){return e.tabSelection=t})),g.Ac(1,yt,7,3,"div",1),g.Ac(2,Ct,23,4,"div",2),g.Ac(3,kt,25,6,"div",3),g.Tb()),2&t&&(g.mc("selection",e.tabSelection),g.Bb(1),g.mc("ngIf",0===e.tabSelection),g.Bb(1),g.mc("ngIf",1===e.tabSelection),g.Bb(1),g.mc("ngIf",2===e.tabSelection))},directives:[gt,r.l,ft.b,ft.e,ht.a,s.m,s.b,s.i,s.l,bt.b,r.k,bt.a,Q.a,Y.a,ct.a,pt.a,mt.i],styles:["div.menu-view-viewbox[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], div.menu-view-zoom[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{max-width:40%;margin-right:1em}div.menu-view-background[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-top:1em}"]}),Pt),xt=n("bSwM");function Tt(t,e){if(1&t){var n=g.Vb();g.Ub(0,"span",6),g.cc("click",(function(){g.tc(n);var t=e.index;return g.gc(2).onItemClick(t)})),g.Cc(1),g.Tb()}if(2&t){var o=e.$implicit;g.Fb("selected",o.isSelected),g.Bb(1),g.Dc(o.command)}}function St(t,e){if(1&t&&g.Ac(0,Tt,2,3,"span",5),2&t){var n=g.gc();g.mc("ngForOf",n.items)("ngForTrackBy",n.trackByIndex)}}function It(t,e){if(1&t){var n=g.Vb();g.Ub(0,"div"),g.Ub(1,"span",6),g.cc("click",(function(){return g.tc(n),g.gc().hideItems=!1})),g.Cc(2),g.Tb(),g.Tb()}if(2&t){var o=g.gc();g.Bb(1),g.Fb("selected",o.selectedCount===o.items.length),g.Bb(1),g.Ec("",o.items[0].command,"\u2026")}}function Ot(t,e){if(1&t){var n=g.Vb();g.Ub(0,"div",7),g.cc("click",(function(){g.tc(n);var t=g.gc();return t.hideItems=!t.hideItems})),g.Cc(1),g.Tb()}if(2&t){var o=g.gc();g.Bb(1),g.Ec(" ",o.hideItems?"\u2192":"\u2190","")}}var Ut,wt=((Ut=function(){function t(){_classCallCheck(this,t),this.hideItems=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onItemClick",value:function(t){var e=this.items[t];e&&(e.isSelected=!e.isSelected)}},{key:"setAll",value:function(t){var e,n=_createForOfIteratorHelper(this.items);try{for(n.s();!(e=n.n()).done;)e.value.isSelected=t}catch(o){n.e(o)}finally{n.f()}}},{key:"trackByIndex",value:function(t){return t}},{key:"selectedCount",get:function(){var t,e=0,n=_createForOfIteratorHelper(this.items);try{for(n.s();!(t=n.n()).done;)t.value.isSelected&&e++}catch(o){n.e(o)}finally{n.f()}return e}}]),t}()).\u0275fac=function(t){return new(t||Ut)},Ut.\u0275cmp=g.Ib({type:Ut,selectors:[["app-path-group"]],inputs:{items:"items"},decls:6,vars:5,consts:[["templatePathItems",""],[1,"path-group"],[2,"margin-right","0.5em",3,"checked","indeterminate","change"],[4,"ngIf","ngIfElse"],["style","cursor: pointer; margin-left: 0.05em",3,"click",4,"ngIf"],[3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],[2,"cursor","pointer","margin-left","0.05em",3,"click"]],template:function(t,e){if(1&t&&(g.Ac(0,St,1,2,"ng-template",null,0,g.Bc),g.Ub(2,"div",1),g.Ub(3,"mat-checkbox",2),g.cc("change",(function(t){return e.setAll(t.checked)})),g.Tb(),g.Ac(4,It,3,3,"div",3),g.Ac(5,Ot,2,1,"div",4),g.Tb()),2&t){var n=g.rc(1);g.Bb(3),g.mc("checked",e.selectedCount===e.items.length)("indeterminate",e.selectedCount>0&&e.selectedCount!==e.items.length),g.Bb(1),g.mc("ngIf",e.hideItems)("ngIfElse",n),g.Bb(1),g.mc("ngIf",e.items.length>1)}},directives:[xt.a,r.l,r.k],styles:[".path-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.path-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;min-width:1.125em;height:1.125em;text-align:center}.path-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#00f;-webkit-text-decoration:underline #00f;text-decoration:underline #00f}.path-group[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#ff0;text-transform:lowercase}"]}),Ut);function Bt(t,e){if(1&t){var n=g.Vb();g.Ub(0,"div"),g.Ub(1,"mat-form-field",22),g.Ub(2,"mat-label"),g.Cc(3,"SVG path data:"),g.Tb(),g.Ub(4,"textarea",23),g.cc("ngModelChange",(function(t){return g.tc(n),g.gc().onInputChange(t)})),g.Tb(),g.Tb(),g.Ub(5,"div"),g.Ub(6,"button",24),g.cc("click",(function(){return g.tc(n),g.gc().convertInput(!1)})),g.Cc(7,"Absolute"),g.Tb(),g.Ub(8,"button",24),g.cc("click",(function(){return g.tc(n),g.gc().convertInput(!0)})),g.Cc(9,"Relative"),g.Tb(),g.Ub(10,"button",24),g.cc("click",(function(){return g.tc(n),g.gc().compactInput()})),g.Cc(11,"Compact"),g.Tb(),g.Tb(),g.Tb()}if(2&t){var o=g.gc();g.Bb(4),g.mc("ngModel",o.pathInput)}}function Ft(t,e){1&t&&g.Pb(0,"app-path-group",28),2&t&&g.mc("items",e.$implicit)}function At(t,e){if(1&t){var n=g.Vb();g.Ub(0,"div"),g.Ub(1,"mat-checkbox",25),g.cc("change",(function(t){return g.tc(n),g.gc().pathModel.selectAll(t.checked)})),g.Cc(2,"Select All"),g.Tb(),g.Ub(3,"div",26),g.Ac(4,Ft,1,1,"app-path-group",27),g.Tb(),g.Tb()}if(2&t){var o=g.gc();g.Bb(1),g.mc("checked",o.pathModel.isAllSelected)("indeterminate",o.pathModel.isSomeSelected),g.Bb(3),g.mc("ngForOf",o.pathModel.getGroups())("ngForTrackBy",o.trackByIndex)}}function Dt(t,e){if(1&t&&(g.fc(),g.Pb(0,"image",29)),2&t){var n=g.gc();g.Fb("hidden",n.settings.state.isBackgroundImageHidden),g.Cb("width",n.settings.state.backgroundImageZoom+"%")("href",n.background.imageData)}}function Ht(t,e){if(1&t){var n=g.Vb();g.fc(),g.Ub(0,"circle",34),g.cc("mousedown",(function(t){g.tc(n);var o=e.$implicit;return g.gc(2).controlPointMouseDown(t,o)})),g.Tb()}if(2&t){var o=e.$implicit;g.Cb("cx",o.x)("cy",o.y)}}function Rt(t,e){if(1&t&&(g.fc(),g.Ub(0,"g"),g.Ub(1,"g",30),g.Pb(2,"path"),g.Pb(3,"path",31),g.Pb(4,"path",31),g.Tb(),g.Ub(5,"g",32),g.Ac(6,Ht,1,2,"circle",33),g.Tb(),g.Tb()),2&t){var n=g.gc();g.Bb(2),g.Cb("d",n.pathModel.getControlHandles()),g.Bb(1),g.Cb("d",n.pathModel.getReflectedControlHandles()),g.Bb(1),g.Cb("d",n.dragPath)("stroke",n.settings.state.controlPointsFillColor),g.Bb(1),g.Cb("fill",n.settings.state.controlPointsFillColor),g.Bb(1),g.mc("ngForOf",n.pathModel.getControlPoints())("ngForTrackBy",n.trackByIndex)}}function Et(t,e){if(1&t){var n=g.Vb();g.fc(),g.ec(),g.Ub(0,"button",35),g.cc("click",(function(){return g.tc(n),g.gc().settings.set({sidenavClosed:!1})})),g.Ub(1,"mat-icon"),g.Cc(2,"double_arrow"),g.Tb(),g.Tb()}}function Lt(t){return t.replace(/\s*([MLHVZCSQTA])\s*/gim,"$1").replace(/\s+(\-)/gim,"$1")}var zt,Vt=((zt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,i,r){var c;return _classCallCheck(this,n),(c=e.call(this)).settings=t,c.history=o,c.background=a,c._dialog=i,c._renderer2=r,c._dragListener=new P.a,c.pathTabSelector=0,c.pathInput="",c.pathModel=new $,c.svgStyles={},c}return _createClass(n,[{key:"setSmallestViewBox",value:function(t){if(t&&"function"==typeof t.getBBox){var e=t.getBBox(),n=Math.floor(e.x),o=Math.floor(e.y),a=Math.ceil(e.width),i=Math.ceil(e.height);a>0&&i>0&&this.settings.set({xOffset:n,yOffset:o,width:a,height:i})}}},{key:"selectTab",value:function(t){t!==this.pathTabSelector&&(this.pathTabSelector=t,this.pathModel.clearSelection())}},{key:"onDragMove",value:function(){var t=this._dragListener.data,e=t.point,n=e.x,o=e.y,a=this.settings.state.zoom;if(e.x=t.startX+Math.floor(100*this._dragListener.deltaX/a),e.y=t.startY+Math.floor(100*this._dragListener.deltaY/a),e.x!==n||e.y!==o){var i=this.pathModel.firstSelection;if(i&&i.endPoint===e){var r={x:e.x-n,y:e.y-o};e.x=n,e.y=o,this.pathModel.moveSelectedNodes(r)}}}},{key:"onDragEnd",value:function(){var t=this._dragListener.data,e=t.point;e.x===t.startX&&e.y===t.startY||(this.pathInput=this.pathModel.toString("\n"),this.history.pathData=this.pathData)}},{key:"ngOnInit",value:function(){var t=this;this._addSubscription(this._dragListener.dragChange.subscribe((function(e){switch(e){case"DragMove":t.onDragMove();break;case"DragStop":t.onDragEnd()}}))),this._addSubscription(this.settings.subscribe((function(e){t.svgStyles={width:e.width+"px",height:e.height+"px",transform:"scale(".concat(e.zoom/100,")"),"background-color":e.backgroundColor}}))),this.onInputChange(this.history.pathData||"m205 698c-17-194 169-280 169-408s-24-259 127-274s177 84 174 243s218 217 164 452c43 15 31 74 55 97s50 71-18 97s-75 47-107 77s-129 64-154-28c-45 7-47-8-95-7s-59 10-108 13c-35 78-151 26-174 13s-94-9-124-25s-23-52-12-83s-26-87 30-107s40-29 73-60zm-9 30c-20 39-66 34-76 51s-12 23-4 64s-18 40-7 78s104 16 156 50s139 24 141-36s-70-102-90-157s-74-120-120-50zm103-60c-56-80 35-193 26-195s-63 84-59 160s86 96 111 126s59 83-4 85q20 22 31 40a150 100-8 00 217-10c33-30 4-182 71-192c-4-74 116-10 116 7s4 21 10 16s12-38-59-66c20-83-54-183-71-182s85 65 51 175q-9-4-22-3c-21-119-82-163-117-316q-12 18-37 30t-30 15q-55 33-90 4t-40-28c-5 121-100 220-104 334zm390 28c-44 17-26 115-47 172s-23 102 16 124s80 6 119-34s68-55 102-69q57-20 4-74c-30-41-15-64-32-82s-28-14-50-12q-88 76-112-25zm9-3c12 73 93 20 85-3s-89-65-85 3m-100-403c-5-29-46-27-77-47s-66-11-84 6s-48 34-48 50s16 25 43 45s41 39 90 11s79-30 76-65zm-14-29a51 65 2 10-86-34l24 9a23 36 0 11 37 17zm-120-34a38 56-1 10-55 38l15-11a16 28-4 11 18-17zm-61 65c81 80 122 15 173-2v5c-52 27-103 80-174 3z")}},{key:"controlPointMouseDown",value:function(t,e){0===t.button&&(t.preventDefault(),this._dragListener.mouseStart(t,this._renderer2,{point:e,startX:e.x,startY:e.y}))}},{key:"convertInput",value:function(t){this.pathModel.convertTo(t),this.pathInput=this.pathModel.toString("\n")}},{key:"compactInput",value:function(){this.pathInput=Lt(this.pathInput)}},{key:"onInputChange",value:function(t){t!==this.pathInput&&(this.pathInput=t,this.pathModel.fromString(t),this.history.pathData=this.pathData)}},{key:"onUndo",value:function(){this.history.canUndo&&(this.history.undo(),this.onInputChange(this.history.pathData))}},{key:"onRedo",value:function(){this.history.canRedo&&(this.history.redo(),this.onInputChange(this.history.pathData))}},{key:"openSampleDialog",value:function(){var t=this;this._dialog.open(at).afterClosed().subscribe((function(e){"string"==typeof e&&e.length>0&&t.onInputChange(e)}))}},{key:"trackByIndex",value:function(t){return t}},{key:"viewBox",get:function(){var t=this.settings.state;return"".concat(t.xOffset," ").concat(t.yOffset," ").concat(t.width," ").concat(t.height)}},{key:"pathData",get:function(){return Lt(this.pathModel.toAbsolutePath())}},{key:"isDragging",get:function(){return this._dragListener.isDragging}},{key:"dragPath",get:function(){if(this._dragListener.isDragging){var t=this._dragListener.data,e=t.point;return"M".concat(t.startX," ").concat(t.startY,"L").concat(e.x," ").concat(e.y,"m-3 0h6m-3-3v6")}return""}}]),n}(M.a)).\u0275fac=function(t){return new(t||zt)(g.Ob(C),g.Ob(k),g.Ob(h),g.Ob(K.b),g.Ob(g.E))},zt.\u0275cmp=g.Ib({type:zt,selectors:[["app-svg-path-editor"]],features:[g.yb],decls:85,vars:31,consts:[[3,"mode","opened","openedChange"],["color","primary"],["mat-icon-button","",3,"click"],[1,"flex-space-filler-1"],["color","primary",3,"checked","change"],["mat-stroked-button","",3,"click"],[2,"display","flex","flex-direction","row"],["mat-stroked-button","",3,"disabled","click"],[3,"requestSmallestViewBox"],[1,"form-field-and-toggle"],["matInput","","type","color","placeholder","color",3,"disabled","ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["items","Raw Data|Command Selector",3,"selection","selectionChange"],[4,"ngIf"],[3,"ngStyle"],["id","filterBackgroundImage"],["in","SourceGraphic","type","matrix"],["filter","url(#filterBackgroundImage)","x","0","y","0",3,"hidden",4,"ngIf"],["opacity","0.9","stroke-width","1"],["pathRef",""],["opacity","0.6","fill","none","stroke-width","3"],["class","sidenav-open-button","mat-icon-button","","color","primary","style","position: absolute; left: 0; top: 0",3,"click",4,"ngIf"],[2,"width","100%","margin-top","1em","margin-bottom","1em"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","4","matAutosizeMaxRows","16","placeholder","Place any SVG path data here",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary",3,"click"],[3,"checked","indeterminate","change"],[2,"border-top","1px solid lightgray","margin-top","4px","padding-top","5px"],[3,"items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"items"],["filter","url(#filterBackgroundImage)","x","0","y","0"],["opacity","0.6","stroke-width","0.8","stroke","lightgrey","fill","none"],["stroke-dasharray","2"],[1,"control-points"],["r","5",3,"mousedown",4,"ngFor","ngForOf","ngForTrackBy"],["r","5",3,"mousedown"],["mat-icon-button","","color","primary",1,"sidenav-open-button",2,"position","absolute","left","0","top","0",3,"click"]],template:function(t,e){if(1&t){var n=g.Vb();g.Ub(0,"mat-sidenav-container"),g.Ub(1,"mat-sidenav",0),g.cc("openedChange",(function(t){return e.settings.set({sidenavClosed:!t})})),g.Ub(2,"mat-toolbar",1),g.Ub(3,"button",2),g.cc("click",(function(){return e.settings.set({sidenavClosed:!0})})),g.Ub(4,"mat-icon"),g.Cc(5,"close"),g.Tb(),g.Tb(),g.Pb(6,"span",3),g.Ub(7,"span"),g.Cc(8,"SVG Path Editor"),g.Tb(),g.Pb(9,"span",3),g.Ub(10,"mat-slide-toggle",4),g.cc("change",(function(t){return e.settings.set({sidenavModeSide:t.checked})})),g.Tb(),g.Tb(),g.Ub(11,"mat-accordion"),g.Ub(12,"mat-expansion-panel"),g.Ub(13,"mat-expansion-panel-header"),g.Ub(14,"mat-icon"),g.Cc(15,"import_export"),g.Tb(),g.Cc(16,"File "),g.Tb(),g.Ub(17,"button",5),g.cc("click",(function(){return e.openSampleDialog()})),g.Ub(18,"mat-icon"),g.Cc(19,"developer_board"),g.Tb(),g.Cc(20,"Samples "),g.Tb(),g.Tb(),g.Ub(21,"mat-expansion-panel"),g.Ub(22,"mat-expansion-panel-header"),g.Ub(23,"mat-icon"),g.Cc(24,"edit_road"),g.Tb(),g.Cc(25,"Edit "),g.Tb(),g.Ub(26,"div",6),g.Ub(27,"button",7),g.cc("click",(function(){return e.onUndo()})),g.Ub(28,"mat-icon"),g.Cc(29,"undo"),g.Tb(),g.Cc(30,"Undo "),g.Tb(),g.Ub(31,"button",7),g.cc("click",(function(){return e.onRedo()})),g.Ub(32,"mat-icon"),g.Cc(33,"redo"),g.Tb(),g.Cc(34,"Redo "),g.Tb(),g.Pb(35,"span",3),g.Ub(36,"button",7),g.cc("click",(function(){return e.history.unlink()})),g.Ub(37,"mat-icon"),g.Cc(38,"link_off"),g.Tb(),g.Cc(39,"Unlink "),g.Tb(),g.Tb(),g.Tb(),g.Ub(40,"mat-expansion-panel"),g.Ub(41,"mat-expansion-panel-header"),g.Ub(42,"mat-icon"),g.Cc(43,"visibility"),g.Tb(),g.Cc(44,"View "),g.Tb(),g.Ub(45,"app-menu-view",8),g.cc("requestSmallestViewBox",(function(){g.tc(n);var t=g.rc(81);return e.setSmallestViewBox(t)})),g.Tb(),g.Tb(),g.Ub(46,"mat-expansion-panel"),g.Ub(47,"mat-expansion-panel-header"),g.Ub(48,"mat-icon"),g.Cc(49,"design_services"),g.Tb(),g.Cc(50,"Path "),g.Tb(),g.Ub(51,"div",9),g.Ub(52,"mat-form-field"),g.Ub(53,"mat-label"),g.Cc(54,"Color"),g.Tb(),g.Ub(55,"input",10),g.cc("ngModelChange",(function(t){return e.settings.set({pathStrokeColor:t})})),g.Tb(),g.Tb(),g.Ub(56,"mat-slide-toggle",11),g.cc("ngModelChange",(function(t){return e.settings.set({isPathStroke:t})})),g.Cc(57,"Stroke"),g.Tb(),g.Tb(),g.Ub(58,"div",9),g.Ub(59,"mat-form-field"),g.Ub(60,"mat-label"),g.Cc(61,"Color"),g.Tb(),g.Ub(62,"input",10),g.cc("ngModelChange",(function(t){return e.settings.set({pathFillColor:t})})),g.Tb(),g.Tb(),g.Ub(63,"mat-slide-toggle",11),g.cc("ngModelChange",(function(t){return e.settings.set({isPathFill:t})})),g.Cc(64,"Fill"),g.Tb(),g.Tb(),g.Ub(65,"div",9),g.Ub(66,"mat-form-field"),g.Ub(67,"mat-label"),g.Cc(68,"Color"),g.Tb(),g.Ub(69,"input",10),g.cc("ngModelChange",(function(t){return e.settings.set({controlPointsFillColor:t})})),g.Tb(),g.Tb(),g.Ub(70,"mat-slide-toggle",11),g.cc("ngModelChange",(function(t){return e.settings.set({isControlPoints:t})})),g.Cc(71,"Control Points"),g.Tb(),g.Tb(),g.Ub(72,"app-tab-group",12),g.cc("selectionChange",(function(t){return e.selectTab(t)})),g.Ac(73,Bt,12,1,"div",13),g.Ac(74,At,5,4,"div",13),g.Tb(),g.Tb(),g.Tb(),g.Tb(),g.Ub(75,"mat-sidenav-content"),g.fc(),g.Ub(76,"svg",14),g.Ub(77,"filter",15),g.Pb(78,"feColorMatrix",16),g.Tb(),g.Ac(79,Dt,1,4,"image",17),g.Pb(80,"path",18,19),g.Pb(82,"path",20),g.Ac(83,Rt,7,7,"g",13),g.Tb(),g.Ac(84,Et,3,0,"button",21),g.Tb(),g.Tb()}2&t&&(g.Bb(1),g.mc("mode",e.settings.state.sidenavModeSide?"side":"over")("opened",!e.settings.state.sidenavClosed),g.Bb(9),g.mc("checked",e.settings.state.sidenavModeSide),g.Bb(17),g.mc("disabled",!e.history.canUndo),g.Bb(4),g.mc("disabled",!e.history.canRedo),g.Bb(5),g.mc("disabled",!e.history.hasLink),g.Bb(19),g.mc("disabled",!e.settings.state.isPathStroke)("ngModel",e.settings.state.pathStrokeColor),g.Bb(1),g.mc("ngModel",e.settings.state.isPathStroke),g.Bb(6),g.mc("disabled",!e.settings.state.isPathFill)("ngModel",e.settings.state.pathFillColor),g.Bb(1),g.mc("ngModel",e.settings.state.isPathFill),g.Bb(6),g.mc("disabled",!e.settings.state.isControlPoints)("ngModel",e.settings.state.controlPointsFillColor),g.Bb(1),g.mc("ngModel",e.settings.state.isControlPoints),g.Bb(2),g.mc("selection",e.pathTabSelector),g.Bb(1),g.mc("ngIf",0===e.pathTabSelector),g.Bb(1),g.mc("ngIf",1===e.pathTabSelector),g.Bb(2),g.Fb("dragging",e.isDragging),g.mc("ngStyle",e.svgStyles),g.Cb("viewBox",e.viewBox),g.Bb(2),g.Cb("values",e.settings.imageColorMatrix),g.Bb(1),g.mc("ngIf",e.background.imageData),g.Bb(1),g.Cb("stroke",e.settings.state.isPathStroke?e.settings.state.pathStrokeColor:"none")("fill",e.settings.state.isPathFill?e.settings.state.pathFillColor:"none")("d",e.pathData),g.Bb(2),g.Cb("stroke",e.settings.state.pathStrokeColor)("d",e.pathModel.getSelectedPath()),g.Bb(1),g.mc("ngIf",e.settings.state.isControlPoints),g.Bb(1),g.mc("ngIf",e.settings.state.sidenavClosed))},directives:[it.b,it.a,rt.a,Q.a,Y.a,ct.a,st.a,st.c,st.d,Mt,ft.b,ft.e,ht.a,s.b,s.i,s.l,gt,r.l,it.c,r.m,ht.c,xt.a,r.k,wt],styles:["mat-sidenav-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#282828}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:360px}div.form-field-and-toggle[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{max-width:40%}div.form-field-and-toggle[_ngcontent-%COMP%] > mat-slide-toggle[_ngcontent-%COMP%]{min-width:50%;margin-left:1em}div.form-field-and-toggle[_ngcontent-%COMP%] > mat-slide-toggle[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}@-webkit-keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}.sidenav-open-button[_ngcontent-%COMP%]{-webkit-animation:keyframes-fade-in 3s ease 1;animation:keyframes-fade-in 3s ease 1;background-color:rgba(240,248,255,.31)}image.hidden[_ngcontent-%COMP%]{visibility:hidden}div.path-commands[_ngcontent-%COMP%]{margin-top:1em;padding:.5em;max-height:24em;overflow-y:auto}div.path-commands[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;width:1.2em;height:1.2em;border:1px solid grey;border-radius:.6em;text-align:center}div.path-commands[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{border-color:#bb0;color:#bb0}div.path-commands[_ngcontent-%COMP%] > span.selected[_ngcontent-%COMP%]{background-color:#ff0}svg[_ngcontent-%COMP%]{transform-origin:0 0;transition:transform .2s ease-out}svg[_ngcontent-%COMP%]   g.control-points[_ngcontent-%COMP%] > circle[_ngcontent-%COMP%]{cursor:pointer;stroke:#000;stroke-opacity:.75;fill-opacity:.5}svg.dragging[_ngcontent-%COMP%]{cursor:none}svg.dragging[_ngcontent-%COMP%]   g.control-points[_ngcontent-%COMP%] > circle[_ngcontent-%COMP%]{cursor:none;stroke:#f0f;stroke-opacity:.5;fill-opacity:0}"]}),zt);n.d(e,"SvgPathEditorModule",(function(){return qt}));var Nt,jt=[{path:"",component:Vt}],qt=((Nt=function t(){_classCallCheck(this,t)}).\u0275mod=g.Mb({type:Nt}),Nt.\u0275inj=g.Lb({factory:function(t){return new(t||Nt)},providers:[h,C,k],imports:[[c.c.forChild(jt),r.c,s.d,l.b,d.a,u.a],c.c]}),Nt)}}]);