(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"6I+0":function(t,e,n){t.exports=n.p+"1-es2015.48cc153ac6af965d46b1.worker.js"},C9RU:function(t,e,n){"use strict";n.r(e),n.d(e,"SchoolModule",function(){return Wn});var i=n("ofXK"),s=n("tk/3"),o=n("3Pt+"),a=n("tyNb"),r=n("hctd"),c=n("pKmL"),l=n("fXoL"),d=n("Bd3B"),h=n("fKvJ"),u=n("voYn"),m=n("bgvp"),g=n("dPmG");function p(t,e){return{name:"addition",operator:{name:"plus",notation:"+"},first:{name:"augend",value:t},second:{name:"addend",value:e},result:{name:"sum",value:t+e}}}function f(t){const e=Object(g.k)(0,t+1),n=Object(g.k)(0,t+1);return e+n>t?e>n?p(e-n,n):p(e,n-e):p(e,n)}function b(t,e){return{name:"subtraction",operator:{name:"minus",notation:"-"},first:{name:"minuend",value:t},second:{name:"subtrahend",value:e},result:{name:"difference",value:t-e}}}function x(t){const e=Object(g.k)(0,t+1),n=Object(g.k)(0,t+1);return e>n?b(e,n):b(n,e)}function v(t,e){const n=Object(g.k)(1,t+1),i=Object(g.k)(1,Math.min(t,Math.floor(e/n))+1);return{name:"division",operator:{name:"divide",notation:":"},first:{name:"dividend",value:s=i*n},second:{name:"divisor",value:o=Math.random()<.5?i:n},result:{name:"quotient",value:s/o}};var s,o}function y(t,e){return{name:"multiplication",operator:{name:"multiply",notation:"\xb7"},first:{name:"multiplier",value:t},second:{name:"multiplicand",value:e},result:{name:"product",value:t*e}}}function w(t,e){const n=Object(g.k)(1,t+1),i=Object(g.k)(1,Math.min(t,Math.floor(e/n))+1);return Math.random()<.5?y(i,n):y(n,i)}function k(t,e){return"first"===e?`? ${t.operator.notation} ${t.second.value} = ${t.result.value}`:"second"===e?`${t.first.value} ${t.operator.notation} ? = ${t.result.value}`:"result"===e?`${t.first.value} ${t.operator.notation} ${t.second.value} = ?`:`${t.first.value} ${t.operator.notation} ${t.second.value} = ${t.result.value}`}var M=n("0IaG"),C=n("bTqV");const _=[[["","appContentSvg",""]],"*"],O=["[appContentSvg]","*"];function S(t,e){return`translate(${24*t}px, ${24*e}px)`}let P=(()=>{class t{constructor(){this.rowNum=41,this.colNum=34}get width(){return 24*this.colNum}get height(){return 24*this.rowNum}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-squared-paper"]],inputs:{rowNum:"rowNum",colNum:"colNum"},ngContentSelectors:O,decls:11,vars:6,consts:[[1,"squared-paper"],[1,"squared-paper-bg"],["id","patternSquaredPaper","x","0","y","0","width","24","height","24","patternUnits","userSpaceOnUse"],["fill","none","stroke","#00f","stroke-width",".25","d","M0 0h24v24H0z"],["width","100%","height","100%","fill","url(#patternSquaredPaper)"],["transform","scale(24)"],[1,"squared-paper-fg"]],template:function(t,e){1&t&&(l.jc(_),l.Tb(0,"div",0),l.Tb(1,"div",1),l.dc(),l.Tb(2,"svg"),l.Tb(3,"defs"),l.Tb(4,"pattern",2),l.Ob(5,"path",3),l.Sb(),l.Sb(),l.Ob(6,"rect",4),l.Tb(7,"g",5),l.ic(8),l.Sb(),l.Sb(),l.Sb(),l.cc(),l.Tb(9,"div",6),l.ic(10,1),l.Sb(),l.Sb()),2&t&&(l.vc("width",e.width,"px")("height",e.height,"px"),l.Bb(2),l.Cb("width",e.width)("height",e.height))},styles:[".squared-paper[_ngcontent-%COMP%]{background-color:#f5f5f5;font-family:Fira Mono,monospace;font-size:20px;font-weight:500;line-height:24px;position:relative}.squared-paper-bg[_ngcontent-%COMP%]{height:100%;width:100%}.squared-paper-fg[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0}.squared-paper-col-3[_ngcontent-%COMP%], .squared-paper-col-12[_ngcontent-%COMP%], .squared-paper-col-15[_ngcontent-%COMP%], .squared-paper-col-30[_ngcontent-%COMP%]{display:inline-block}.squared-paper-col-3[_ngcontent-%COMP%]{width:72px}.squared-paper-col-12[_ngcontent-%COMP%]{width:288px}.squared-paper-col-15[_ngcontent-%COMP%]{width:360px}.squared-paper-col-30[_ngcontent-%COMP%]{width:720px}"]}),t})();function T(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",14),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-addition-animate-augend")}),l.Ac(1),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.augendTransform),l.Bb(1),l.Bc(t.augendText)}}function I(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",15),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-addition-animate-addend")}),l.Ac(1),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.addendTransform),l.Bb(1),l.Bc(t.addendText)}}function B(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",16),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-addition-animate-sum")}),l.Ac(1),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.sumTransform),l.Bb(1),l.Cc("",t.sumText," ")}}function A(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",17),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-addition-animate-sum-ones")}),l.Ac(1,"\u0435\u0434\u0438\u043d\u0438\u0446\u044b "),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.sumOnesTransform)}}function $(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",17),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-addition-animate-sum-tens")}),l.Ac(1,"\u0434\u0435\u0441\u044f\u0442\u043a\u0438 "),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.sumTensTransform)}}function N(t,e){return`translate(${24*(2+t)}px, ${24*(2+e)}px)`}function z(t){const e=+t;return isNaN(e)?0:e}let F=(()=>{class t{constructor(){this.augend=0,this.addend=0,this.hiddenTerm=-1,this.rowNum=4,this.animationName="",this.reset()}ngOnChanges(t){this.update()}ngOnInit(){}setAnimation(t){this.animationName=t?t===this.animationName?t+" simple-addition-animation-restart":t:""}reset(){this.augendPath=this.addendPath=this.sumPath=this.sumTensPath=this.sumOnesPath="M0 0z",this.rowNum=4,this.augendTransform=this.addendTransform=this.sumTransform=this.sumOnesTransform=this.sumTensTransform=""}update(){this.reset();const t=z(this.augend),e=z(this.addend),n=t+e,i=t%10,s=e%10,o=n%10,a=Math.floor(t/10),r=Math.floor(e/10),c=Math.floor(n/10);if(t>0){const t=i,e=a;e>0?(this.augendPath=t>0?`M0 0h10v${e}h${t-10}v1h${-t}z`:`M0 0h10v${e}h-10z`,this.augendTransform=N(5,(t>5?0:-.5)+e/2)):(this.augendPath=`M0 0h${t}v1h${-t}v-1z`,this.augendTransform=N(t/2,0))}if(e>0){const t=Math.min(e,10-i),n=(e-t)%10,s=Math.floor((e-t)/10);if(this.addendPath=`M${i} ${a}h${t}v${s+1}`,s>0)this.addendTransform=N(5,a+(s+(t>5?0:1)+(n>5?1:0))/2);else{const e=t+n-10;if(e>=2)this.addendTransform=N(n-e/2,a+.5);else if(t>n)this.addendTransform=N(i+t/2,a);else{const t=Math.max(n/2,n-1);this.addendTransform=N(t,a+1)}}this.addendPath+=n>0?`h${n-10}v1h${-n}v${-s-1}h${10-t}z`:s>0?`h-10v${-s}h${10-t}z`:`h${-t}z`}if(n>0){const t=c;if(this.sumTransform=N(t<10?11:10,t+1),t>0){this.rowNum+=t;const e=(t-2)/2;this.sumTensPath=`M10 0a.5 .5 0 0 1 .5 .5v${e}a.5 .5 0 0 0 .5 .5a.5 .5 0 0 0 -.5 .5v${e}a.5 .5 0 0 1 -.5 .5m1 ${-1-e}h.5v${e+2}m-.1 -.4l.1 .4 .1 -.4`,this.sumTensTransform=N(11.5,Math.floor(e))}const e=o;if(e>0){this.rowNum+=3;const n=(e-2)/2;this.sumOnesPath=`M0 ${t+1}a.5 .5 0 0 0 .5 .5h${n}a.5 .5 0 0 1 .5 .5a.5 .5 0 0 1 .5 -.5h${n}a.5 .5 0 0 0 .5 -.5m${-1-n} 1v.5h${13.5+n-e}v-.5m-.1 .4l.1 -.4 .1 .4`,this.sumOnesTransform=N(n,t+3)}this.sumPath=t>0?e>0?`M0 0h10v${t}h${e-10}v1h${-e}z`:`M0 0h10v${t}h-10z`:`M0 0h${e}v1h${-e}v-1z`}this.augendText=0===this.hiddenTerm?"?":(10*a+i).toString(),this.addendText=1===this.hiddenTerm?"?":(10*r+s).toString(),this.sumText=2===this.hiddenTerm?"?":(10*c+o).toString()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-simple-addition"]],inputs:{augend:"augend",addend:"addend",hiddenTerm:"hiddenTerm"},features:[l.zb],decls:15,vars:12,consts:[["colNum","18",3,"rowNum"],["appContentSvg","",3,"ngClass"],["transform","translate(2 2)"],["stroke-width","0.1"],["id","augendPath","fill","#00f1","stroke","#008e"],["id","addendPath","fill","#f001","stroke","#800e"],["id","sumPath","fill","none","stroke","#080e","stroke-width","0.2","stroke-dasharray","40","stroke-dashoffset","40"],["fill","none","stroke","#444b","stroke-width","0.1"],["id","sumTensPath"],["id","sumOnesPath"],["class","simple-addition-box simple-addition-augend",3,"transform","click",4,"ngIf"],["class","simple-addition-box simple-addition-addend",3,"transform","click",4,"ngIf"],["class","simple-addition-box simple-addition-sum",3,"transform","click",4,"ngIf"],["class","simple-addition-box simple-addition-info",3,"transform","click",4,"ngIf"],[1,"simple-addition-box","simple-addition-augend",3,"click"],[1,"simple-addition-box","simple-addition-addend",3,"click"],[1,"simple-addition-box","simple-addition-sum",3,"click"],[1,"simple-addition-box","simple-addition-info",3,"click"]],template:function(t,e){1&t&&(l.Tb(0,"app-squared-paper",0),l.dc(),l.Tb(1,"svg",1),l.Tb(2,"g",2),l.Tb(3,"g",3),l.Ob(4,"path",4),l.Ob(5,"path",5),l.Sb(),l.Ob(6,"path",6),l.Tb(7,"g",7),l.Ob(8,"path",8),l.Ob(9,"path",9),l.Sb(),l.Sb(),l.Sb(),l.yc(10,T,2,3,"div",10),l.yc(11,I,2,3,"div",11),l.yc(12,B,2,3,"div",12),l.yc(13,A,2,2,"div",13),l.yc(14,$,2,2,"div",13),l.Sb()),2&t&&(l.kc("rowNum",e.rowNum),l.Bb(1),l.kc("ngClass",e.animationName),l.Bb(3),l.Cb("d",e.augendPath),l.Bb(1),l.Cb("d",e.addendPath),l.Bb(1),l.Cb("d",e.sumPath),l.Bb(2),l.Cb("d",e.sumTensPath),l.Bb(1),l.Cb("d",e.sumOnesPath),l.Bb(1),l.kc("ngIf",e.augendTransform),l.Bb(1),l.kc("ngIf",e.addendTransform),l.Bb(1),l.kc("ngIf",e.sumTransform),l.Bb(1),l.kc("ngIf",e.sumOnesTransform),l.Bb(1),l.kc("ngIf",e.sumTensTransform))},directives:[P,i.j,i.l],styles:[".simple-addition-box[_ngcontent-%COMP%]{background-color:rgba(34,34,34,.13333333333333333);border-radius:12px;cursor:pointer;left:-12px;min-width:24px;position:absolute;text-align:center;top:0;transition:box-shadow .3s ease-in-out}.simple-addition-box[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 4px rgba(0,0,0,.5333333333333333)}.simple-addition-augend[_ngcontent-%COMP%]{background-color:rgba(0,0,136,.13333333333333333);color:rgba(0,0,136,.9333333333333333)}.simple-addition-addend[_ngcontent-%COMP%]{background-color:rgba(136,0,0,.13333333333333333);color:rgba(136,0,0,.9333333333333333)}.simple-addition-sum[_ngcontent-%COMP%]{background-color:rgba(34,34,34,.13333333333333333);color:rgba(34,34,34,.9333333333333333);left:-6px;letter-spacing:12px;min-width:48px;padding-left:12px;text-align:right}.simple-addition-info[_ngcontent-%COMP%]{padding-left:6px;padding-right:6px}@-webkit-keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@-webkit-keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}.simple-addition-animate-addend[_ngcontent-%COMP%]   #addendPath[_ngcontent-%COMP%], .simple-addition-animate-augend[_ngcontent-%COMP%]   #augendPath[_ngcontent-%COMP%], .simple-addition-animate-sum[_ngcontent-%COMP%]   #sumPath[_ngcontent-%COMP%], .simple-addition-animate-sum-ones[_ngcontent-%COMP%]   #sumOnesPath[_ngcontent-%COMP%], .simple-addition-animate-sum-tens[_ngcontent-%COMP%]   #sumTensPath[_ngcontent-%COMP%]{-webkit-animation:animationTerm 4s linear 1;animation:animationTerm 4s linear 1}.simple-addition-animate-addend.simple-addition-animation-restart[_ngcontent-%COMP%]   #addendPath[_ngcontent-%COMP%], .simple-addition-animate-augend.simple-addition-animation-restart[_ngcontent-%COMP%]   #augendPath[_ngcontent-%COMP%], .simple-addition-animate-sum-ones.simple-addition-animation-restart[_ngcontent-%COMP%]   #sumOnesPath[_ngcontent-%COMP%], .simple-addition-animate-sum-tens.simple-addition-animation-restart[_ngcontent-%COMP%]   #sumTensPath[_ngcontent-%COMP%], .simple-addition-animate-sum.simple-addition-animation-restart[_ngcontent-%COMP%]   #sumPath[_ngcontent-%COMP%]{-webkit-animation-name:animationTermRestart;animation-name:animationTermRestart}"]}),t})();function q(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",9),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-multiplication-animate-multiplier")}),l.Ac(1),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.multiplierTransform),l.Bb(1),l.Cc(" ",t.multiplierText,"")}}function j(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",10),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-multiplication-animate-multiplicand")}),l.Ac(1),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.multiplicandTransform),l.Bb(1),l.Cc(" ",t.multiplicandText,"")}}function L(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",11),l.ac("click",function(){return l.rc(t),l.ec().setAnimation("simple-multiplication-animate-product")}),l.Ac(1),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.productTransform),l.Bb(1),l.Cc("",t.productText," ")}}function D(t,e){return S(t+2,e+2)}function R(t){const e=+t;return isNaN(e)?0:e}let V=(()=>{class t{constructor(){this.multiplier=0,this.multiplicand=0,this.hiddenTerm=-1,this.colNum=4,this.rowNum=4,this.animationName="",this.clear()}setAnimation(t){this.animationName=t?t===this.animationName?t+" simple-multiplication-animation-restart":t:""}ngOnInit(){}ngOnChanges(t){this.clear();const e=R(this.multiplier),n=R(this.multiplicand),i=e*n;i>0&&(this.productPath=`M0 0h${e}v${n}h${-e}z`,this.productText=2===this.hiddenTerm?"?":""+i,this.productTransform=D(e/2,n/2),this.multiplierPath=`M0 ${n}a.5 .5 0 0 0 .5 .5h${e/2-1}a.5 .5 0 0 1 .5 .5a.5 .5 0 0 1 .5 -.5h${e/2-1}a.5 .5 0 0 0 .5 -.5`,this.multiplierText=0===this.hiddenTerm?"?":""+e,this.multiplierTransform=D(e/2,n+1.5),this.multiplicandPath=`M${e} 0a.5 .5 0 0 1 .5 .5v${n/2-1}a.5 .5 0 0 0 .5 .5a.5 .5 0 0 0 -.5 .5v${n/2-1}a.5 .5 0 0 1 -.5 .5`,this.multiplicandText=1===this.hiddenTerm?"?":""+n,this.multiplicandTransform=D(e+1.5,n/2),this.colNum+=e+1,this.rowNum+=n+1)}clear(){this.multiplierPath=this.multiplicandPath=this.productPath="M0 0z",this.multiplierText=this.multiplierTransform=this.multiplicandText=this.multiplicandTransform=this.productText=this.productTransform=void 0,this.colNum=4,this.rowNum=4}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-simple-multiplication"]],inputs:{multiplier:"multiplier",multiplicand:"multiplicand",hiddenTerm:"hiddenTerm"},features:[l.zb],decls:9,vars:9,consts:[[3,"rowNum","colNum"],["appContentSvg","",3,"ngClass"],["transform","translate(2 2)"],["id","productPath","fill","#0f04","stroke","#444e","stroke-width","0.1"],["id","multiplierPath","fill","none","stroke","#444e","stroke-width","0.1"],["id","multiplicandPath","fill","none","stroke","#444e","stroke-width","0.1"],["class","simple-multiplication-box simple-multiplication-multiplier",3,"transform","click",4,"ngIf"],["class","simple-multiplication-box simple-multiplication-multiplicand",3,"transform","click",4,"ngIf"],["class","simple-multiplication-box simple-multiplication-product",3,"transform","click",4,"ngIf"],[1,"simple-multiplication-box","simple-multiplication-multiplier",3,"click"],[1,"simple-multiplication-box","simple-multiplication-multiplicand",3,"click"],[1,"simple-multiplication-box","simple-multiplication-product",3,"click"]],template:function(t,e){1&t&&(l.Tb(0,"app-squared-paper",0),l.dc(),l.Tb(1,"svg",1),l.Tb(2,"g",2),l.Ob(3,"path",3),l.Ob(4,"path",4),l.Ob(5,"path",5),l.Sb(),l.Sb(),l.yc(6,q,2,3,"div",6),l.yc(7,j,2,3,"div",7),l.yc(8,L,2,3,"div",8),l.Sb()),2&t&&(l.kc("rowNum",e.rowNum)("colNum",e.colNum),l.Bb(1),l.kc("ngClass",e.animationName),l.Bb(2),l.Cb("d",e.productPath),l.Bb(1),l.Cb("d",e.multiplierPath),l.Bb(1),l.Cb("d",e.multiplicandPath),l.Bb(1),l.kc("ngIf",e.multiplierText),l.Bb(1),l.kc("ngIf",e.multiplicandText),l.Bb(1),l.kc("ngIf",e.productText))},directives:[P,i.j,i.l],styles:[".simple-multiplication-box[_ngcontent-%COMP%]{background-color:rgba(34,34,34,.13333333333333333);border-radius:12px;cursor:pointer;left:-12px;min-width:24px;position:absolute;text-align:center;top:-12px;transition:box-shadow .3s ease-in-out}.simple-multiplication-box[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 4px rgba(0,0,0,.5333333333333333)}.simple-multiplication-product[_ngcontent-%COMP%]{background-color:rgba(34,34,34,.13333333333333333);color:rgba(68,68,68,.9333333333333333)}.simple-multiplication-multiplier[_ngcontent-%COMP%]{background-color:rgba(136,0,136,.13333333333333333);color:rgba(136,0,136,.9333333333333333)}.simple-multiplication-multiplicand[_ngcontent-%COMP%]{background-color:rgba(221,17,51,.13333333333333333);color:rgba(221,17,51,.9333333333333333)}@-webkit-keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@-webkit-keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}.simple-multiplication-animate-multiplicand[_ngcontent-%COMP%]   #multiplicandPath[_ngcontent-%COMP%], .simple-multiplication-animate-multiplier[_ngcontent-%COMP%]   #multiplierPath[_ngcontent-%COMP%], .simple-multiplication-animate-product[_ngcontent-%COMP%]   #productPath[_ngcontent-%COMP%]{-webkit-animation:animationTerm 4s linear 1;animation:animationTerm 4s linear 1}.simple-multiplication-animate-multiplicand.simple-multiplication-animation-restart[_ngcontent-%COMP%]   #multiplicandPath[_ngcontent-%COMP%], .simple-multiplication-animate-multiplier.simple-multiplication-animation-restart[_ngcontent-%COMP%]   #multiplierPath[_ngcontent-%COMP%], .simple-multiplication-animate-product.simple-multiplication-animation-restart[_ngcontent-%COMP%]   #productPath[_ngcontent-%COMP%]{-webkit-animation-name:animationTermRestart;animation-name:animationTermRestart}"]}),t})();function E(t,e){if(1&t&&l.Ob(0,"app-simple-addition",5),2&t){const t=l.ec();l.kc("augend",t.firstTermValue)("addend",t.secondTermValue)("hiddenTerm",t.hiddenTerm)}}function W(t,e){if(1&t&&l.Ob(0,"app-simple-multiplication",6),2&t){const t=l.ec();l.kc("multiplier",t.firstTermValue)("multiplicand",t.secondTermValue)("hiddenTerm",t.hiddenTerm)}}let U=(()=>{class t{constructor(t){this.item=t,this.title="",this.content="",this.contentType=null,this.firstTermValue=0,this.secondTermValue=0,this.hiddenTerm=-1}ngOnInit(){const t=this.item.inputIndex,e=this.item.expression;if(this.title=k(e,t),"addition"===e.name){this.firstTermValue=e.first.value,this.secondTermValue=e.second.value,this.content=function(t,e){return"first"===e?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0435\u0440\u0432\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0441\u0443\u043c\u043c\u044b \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0432\u0442\u043e\u0440\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435.":"second"===e?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0432\u0442\u043e\u0440\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0441\u0443\u043c\u043c\u044b \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u043f\u0435\u0440\u0432\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435.":"result"===e?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0441\u0443\u043c\u043c\u0443 (?), \u043d\u0430\u0434\u043e \u0441\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u043e\u0435 \u0438 \u0432\u0442\u043e\u0440\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0435.":`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0441\u0443\u043c\u043c\u0443 (${t.result.value}), \u043d\u0430\u0434\u043e \u0441\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u043e\u0435 (${t.first.value}) \u0438 \u0432\u0442\u043e\u0440\u043e\u0435 (${t.second.value}) \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0435.`}(e,t),this.contentType="addition";const n=function(t,e){const{first:n,second:i,result:s}=t,o=i.value===s.value,a=n.value===s.value;return o&&a?"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043b\u044c \u043d\u0435 \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0439, \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f!":o&&"first"===e||a&&"second"===e?`\u041a\u0430\u043a\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u0447\u0438\u0441\u043b\u0443 ${s.value} \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c?`:o&&"first"!==e?"\u0415\u0441\u043b\u0438 \u043a \u043d\u0443\u043b\u044e \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0438\u0441\u043b\u043e, \u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u0442\u043e \u0436\u0435 \u0441\u0430\u043c\u043e\u0435 \u0447\u0438\u0441\u043b\u043e.":a&&"second"!==e?"\u0415\u0441\u043b\u0438 \u043a \u043b\u044e\u0431\u043e\u043c\u0443 \u0447\u0438\u0441\u043b\u0443 \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c 0 \u0442\u043e \u044d\u0442\u043e \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e, \u0447\u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043a \u043d\u0435\u043c\u0443 \u043d\u0435 \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c!":null}(e,t);n?(this.content=n,this.hiddenTerm=-1):this.hiddenTerm="first"===t?0:"second"===t?1:2}else if("subtraction"===e.name){this.firstTermValue=e.result.value,this.secondTermValue=e.second.value,this.contentType="addition",this.content=function(t,e){return"first"===e?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0441\u043b\u043e\u0436\u0438\u0442\u044c \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u0438 \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435.":"second"===e?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0433\u043e \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c.":"result"===e?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0433\u043e \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435.":`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c (${t.result.value}), \u043d\u0430\u0434\u043e \u0438\u0437 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0433\u043e (${t.first.value}) \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435 (${t.second.value}).`}(e,t);const n=function(t,e){const{first:n,second:i,result:s}=t;return n.value===i.value?0===n.value?"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043b\u044c \u043d\u0435 \u043e\u0442\u043d\u0438\u043c\u0430\u0439, \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f!":"\u0420\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u0434\u0432\u0443\u0445 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0432\u043d\u0430 \u043d\u0443\u043b\u044e.":0===i.value?"second"===e?`\u041a\u0430\u043a\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043d\u044f\u0442\u044c \u043e\u0442 \u0447\u0438\u0441\u043b\u0430 ${s.value} \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c?`:"\u041f\u0440\u0438 \u0432\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0438 \u043d\u0443\u043b\u044f \u0438\u0437 \u043b\u044e\u0431\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u044d\u0442\u043e \u0441\u0430\u043c\u043e\u0435 \u0447\u0438\u0441\u043b\u043e!":null}(e,t);n?(this.content=n,this.hiddenTerm=-1):this.hiddenTerm="first"===t?2:"second"===t?1:0}else"multiplication"===e.name?(this.firstTermValue=e.first.value,this.secondTermValue=e.second.value,this.contentType="multiplication",this.content=function(t,e){return"first"===e?`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (?), \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 (${t.result.value}) \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (${t.second.value}).`:"second"===e?`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (?), \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 (${t.result.value}) \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (${t.first.value}).`:"result"===e?`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b (?), \u043d\u0430\u0434\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (${t.first.value}) \u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (${t.second.value}).`:"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b, \u043d\u0430\u0434\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c \u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c."}(e,t),this.hiddenTerm="first"===t?0:"second"===t?1:2):"division"===e.name&&(this.firstTermValue=e.result.value,this.secondTermValue=e.second.value,this.contentType="multiplication",this.content=function(t,e){return"first"===e?`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0435\u043b\u0438\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0447\u0430\u0441\u0442\u043d\u043e\u0435 (${t.result.value}) \u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c (${t.second.value}).`:"second"===e?`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c (?), \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0438\u043c\u043e\u0435 (${t.first.value}) \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0447\u0430\u0441\u0442\u043d\u043e\u0435 (${t.result.value}).`:"result"===e?`\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0438\u043c\u043e\u0435 (${t.first.value}) \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c (${t.second.value}).`:"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0435, \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0438\u043c\u043e\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c."}(e,t),this.hiddenTerm="first"===t?2:"second"===t?1:0)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(M.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-math-expression-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],[3,"augend","addend","hiddenTerm",4,"ngIf"],[3,"multiplier","multiplicand","hiddenTerm",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],[3,"augend","addend","hiddenTerm"],[3,"multiplier","multiplicand","hiddenTerm"]],template:function(t,e){1&t&&(l.Tb(0,"h2",0),l.Ac(1),l.Sb(),l.Tb(2,"mat-dialog-content"),l.Tb(3,"p"),l.Ac(4),l.Sb(),l.yc(5,E,1,3,"app-simple-addition",1),l.yc(6,W,1,3,"app-simple-multiplication",2),l.Sb(),l.Tb(7,"mat-dialog-actions",3),l.Tb(8,"button",4),l.Ac(9,"\u041f\u043e\u043d\u044f\u0442\u043d\u043e!"),l.Sb(),l.Sb()),2&t&&(l.Bb(1),l.Bc(e.title),l.Bb(3),l.Bc(e.content),l.Bb(1),l.kc("ngIf",e.hiddenTerm>=0&&"addition"===e.contentType),l.Bb(1),l.kc("ngIf",e.hiddenTerm>=0&&"multiplication"===e.contentType))},directives:[M.h,M.e,i.l,M.c,C.a,M.d,F,V],styles:[""]}),t})();var H=n("NFeN"),Y=n("jhN1");function Q(t,e){if(1&t){const t=l.Ub();l.Tb(0,"button",1),l.ac("click",function(){l.rc(t);const n=e.index;return l.ec().selectionChange.emit(n)}),l.Ac(1),l.Sb()}if(2&t){const t=e.$implicit;l.Bb(1),l.Bc(t)}}let X=(()=>{class t{constructor(){this.buttonNames=[],this.selectionChange=new l.n}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-numpad"]],inputs:{buttonNames:"buttonNames"},outputs:{selectionChange:"selectionChange"},decls:1,vars:1,consts:[["type","button","mat-button","",3,"click",4,"ngFor","ngForOf"],["type","button","mat-button","",3,"click"]],template:function(t,e){1&t&&l.yc(0,Q,2,1,"button",0),2&t&&l.kc("ngForOf",e.buttonNames)},directives:[i.k,C.a],styles:[".mat-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{color:inherit}"]}),t})();const K=["itemInputs"];function G(t,e){1&t&&(l.Tb(0,"span",14),l.Ac(1,"\u2714"),l.Sb())}function J(t,e){if(1&t){const t=l.Ub();l.Tb(0,"label",15),l.ac("click",function(){l.rc(t);const e=l.ec().index;return l.ec().noteRequest.emit(e)}),l.Ac(1,"\u2217"),l.Sb()}}function Z(t,e){if(1&t&&(l.Rb(0),l.Tb(1,"span",17),l.Ac(2),l.Sb(),l.Tb(3,"span",19),l.Ac(4,"="),l.Sb(),l.Qb()),2&t){const t=l.ec(2).$implicit;l.Bb(1),l.kc("title",t.expression.second.name),l.Bb(1),l.Bc(t.expression.second.value)}}function tt(t,e){if(1&t&&(l.Tb(0,"label",16),l.Tb(1,"span",17),l.Ac(2),l.Sb(),l.Tb(3,"span",17),l.Ac(4),l.Sb(),l.yc(5,Z,5,2,"ng-container",18),l.Sb()),2&t){const t=l.ec().$implicit;l.kc("for",t.inputName),l.Bb(1),l.kc("title",t.expression.first.name),l.Bb(1),l.Bc(t.expression.first.value),l.Bb(1),l.kc("title",t.expression.operator.name),l.Bb(1),l.Bc(t.expression.operator.notation),l.Bb(1),l.kc("ngIf","second"!==t.inputIndex)}}function et(t,e){if(1&t&&(l.Rb(0),l.Tb(1,"span",17),l.Ac(2),l.Sb(),l.Tb(3,"span",17),l.Ac(4),l.Sb(),l.Qb()),2&t){const t=l.ec(2).$implicit;l.Bb(1),l.kc("title",t.expression.operator.name),l.Bb(1),l.Bc(t.expression.operator.notation),l.Bb(1),l.kc("title",t.expression.second.name),l.Bb(1),l.Bc(t.expression.second.value)}}function nt(t,e){if(1&t&&(l.Tb(0,"label",16),l.yc(1,et,5,4,"ng-container",18),l.Tb(2,"span",19),l.Ac(3,"="),l.Sb(),l.Tb(4,"span",17),l.Ac(5),l.Sb(),l.Sb()),2&t){const t=l.ec().$implicit;l.kc("for",t.inputName),l.Bb(1),l.kc("ngIf","second"!==t.inputIndex),l.Bb(3),l.kc("title",t.expression.result.name),l.Bb(1),l.Bc(t.expression.result.value)}}function it(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",4),l.Tb(1,"div",5),l.Tb(2,"span",6),l.yc(3,G,2,0,"span",7),l.yc(4,J,2,0,"label",8),l.Sb(),l.Sb(),l.Tb(5,"div",9),l.Tb(6,"div",10),l.yc(7,tt,6,6,"label",11),l.Tb(8,"input",12,13),l.ac("ngModelChange",function(n){l.rc(t);const i=e.$implicit,s=e.index,o=l.ec();return i.inputValue=n,o.itemChange.emit(s)})("keyup.Enter",function(){l.rc(t);const n=e.index;return l.ec().onInputEnter(n)})("focus",function(n){l.rc(t);const i=e.index,s=l.ec(),o=l.pc(1);return s.onInputFocus(n,o,i)}),l.Sb(),l.yc(10,nt,6,4,"label",11),l.Sb(),l.Sb(),l.Sb()}if(2&t){const t=e.$implicit,n=l.ec();l.Bb(3),l.kc("ngIf",t.isChecked&&t.isValid),l.Bb(1),l.kc("ngIf",t.hasNote),l.Bb(3),l.kc("ngIf","first"!==t.inputIndex),l.Bb(1),l.Fb("invalid",t.isChecked&&!t.isValid),l.kc("id",t.inputName)("name",t.inputName)("readonly",!n.active||t.isReadonly)("ngModel",t.inputValue),l.Cb("maxlength",t.inputLength),l.Bb(2),l.kc("ngIf","result"!==t.inputIndex)}}function st(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",23),l.Tb(1,"app-numpad",24),l.ac("selectionChange",function(e){return l.rc(t),l.ec(2).onInputNext(e)}),l.Sb(),l.Sb()}if(2&t){const t=l.ec(2);l.Bb(1),l.kc("buttonNames",t.buttons)}}function ot(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",20),l.Tb(1,"div",21),l.ac("click",function(){l.rc(t);const e=l.ec();return e.showKeyboard=!e.showKeyboard}),l.Tb(2,"mat-icon"),l.Ac(3),l.Sb(),l.Sb(),l.yc(4,st,2,1,"div",22),l.Sb()}if(2&t){const t=l.ec();l.vc("transform",t.keyboardTransform),l.Bb(3),l.Bc(t.toggleKeyboardIcon),l.Bb(1),l.kc("ngIf",t.showKeyboard)}}let at=(()=>{class t{constructor(){this.active=!0,this.itemChange=new l.n,this.noteRequest=new l.n,this.buttons=["1","2","3","4","5","6","7","8","9","0","\u2190","OK"],this.showKeyboard=!1,this.keyboardTransform="",this.inputIndex=-1}get toggleKeyboardIcon(){return this.showKeyboard?"keyboard_hide":"keyboard"}ngAfterViewInit(){this.nextItemRequestFocus(0)}ngOnChanges(t){const e=t.items;e&&(this.keyboardTransform="",this.inputIndex=-1,e.firstChange||setTimeout(()=>{this.nextItemRequestFocus(0)},100))}ngOnInit(){}onInputEnter(t){if(t>=0&&t<this.items.length){const e=this.items[t].inputValue;if(e&&!isNaN(+e))return this.nextItemRequestFocus(t+1)}return!0}onInputFocus(t,e,n){this.inputIndex=n;const i=t.target;if(e&&i){const t=e.getBoundingClientRect(),n=i.getBoundingClientRect();this.keyboardTransform=`translate(${n.left-t.left}px, ${n.bottom-t.top}px)`}}onInputNext(t){const e=this.buttons[t];if(isNaN(+e))"\u2190"===e?this.onInputBack():"OK"===e&&(this.showKeyboard=this.onInputEnter(this.inputIndex));else if(this.inputIndex>=0&&this.inputIndex<this.items.length){const t=this.items[this.inputIndex];(!t.isReadonly||t.inputValue.length<t.inputLength)&&(t.inputValue=t.inputValue+e,this.itemChange.emit(this.inputIndex))}}onInputBack(){if(this.inputIndex>=0&&this.inputIndex<this.items.length){const t=this.items[this.inputIndex],e=t.inputValue.length;!t.isReadonly&&e>0&&(t.inputValue=t.inputValue.substring(0,e-1),this.itemChange.emit(this.inputIndex))}}nextItemRequestFocus(t){const e=this.inputList.toArray(),n=e.length;for(let i=0;i<n;i++){const s=e[(t+i)%n].nativeElement;if(s&&!s.value)return setTimeout(()=>{s.focus()}),!0}return!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-math-input-group"]],viewQuery:function(t,e){if(1&t&&l.Fc(K,1),2&t){let t;l.oc(t=l.bc())&&(e.inputList=t)}},inputs:{active:"active",items:"items"},outputs:{itemChange:"itemChange",noteRequest:"noteRequest"},features:[l.zb],decls:4,vars:2,consts:[[1,"math-input-group"],["main",""],["class","math-input-group-item",4,"ngFor","ngForOf"],["class","math-input-group-keyboard",3,"transform",4,"ngIf"],[1,"math-input-group-item"],[1,"math-input-group-col-20"],[1,"math-input-group-item-pref"],["class","math-input-group-mark",4,"ngIf"],["class","math-input-group-note",3,"click",4,"ngIf"],[1,"math-input-group-col-80"],[1,"math-input-group-item-main"],[3,"for",4,"ngIf"],["type","text","placeholder","?","autocomplete","off",3,"id","name","readonly","ngModel","ngModelChange","keyup.Enter","focus"],["itemInputs",""],[1,"math-input-group-mark"],[1,"math-input-group-note",3,"click"],[3,"for"],[3,"title"],[4,"ngIf"],["title","equals"],[1,"math-input-group-keyboard"],[1,"math-input-group-keyboard-icon",3,"click"],["class","math-input-group-keyboard-dial",4,"ngIf"],[1,"math-input-group-keyboard-dial"],[3,"buttonNames","selectionChange"]],template:function(t,e){1&t&&(l.Tb(0,"div",0,1),l.yc(2,it,11,11,"div",2),l.yc(3,ot,5,4,"div",3),l.Sb()),2&t&&(l.Bb(2),l.kc("ngForOf",e.items),l.Bb(1),l.kc("ngIf",e.active&&e.keyboardTransform))},directives:[i.k,i.l,o.b,o.e,o.i,o.l,H.a,X],styles:['.math-input-group[_ngcontent-%COMP%]{margin-right:96px;position:relative}.math-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;font:inherit;letter-spacing:inherit;margin-left:-6px;margin-right:6px;padding:0 0 0 6px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="1"][_ngcontent-%COMP%]{width:18px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="2"][_ngcontent-%COMP%]{width:42px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="3"][_ngcontent-%COMP%]{width:66px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="4"][_ngcontent-%COMP%]{width:90px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="5"][_ngcontent-%COMP%]{width:114px}.math-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#fed;letter-spacing:normal;outline:thin dashed #00f}.math-input-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{-webkit-text-decoration:solid red line-through;text-decoration:solid red line-through}.math-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.math-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{text-shadow:1px 1px 2px #cba}.math-input-group[_ngcontent-%COMP%]   .math-input-group-item[_ngcontent-%COMP%]{display:inline-block;margin-bottom:24px;width:50%}.math-input-group[_ngcontent-%COMP%]   .math-input-group-col-20[_ngcontent-%COMP%]{display:inline-block;width:20%}.math-input-group[_ngcontent-%COMP%]   .math-input-group-col-80[_ngcontent-%COMP%]{display:inline-block;width:80%}.math-input-group[_ngcontent-%COMP%]   .math-input-group-mark[_ngcontent-%COMP%]{color:red}.math-input-group[_ngcontent-%COMP%]   .math-input-group-note[_ngcontent-%COMP%]{color:#008}.math-input-group[_ngcontent-%COMP%]   .math-input-group-item-pref[_ngcontent-%COMP%]{margin-left:24px}.math-input-group[_ngcontent-%COMP%]   .math-input-group-item-main[_ngcontent-%COMP%], .math-input-group[_ngcontent-%COMP%]   .math-input-group-item-pref[_ngcontent-%COMP%]{letter-spacing:12px;padding-left:6px}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard[_ngcontent-%COMP%]{left:0;pointer-events:none;position:absolute;top:0;transition:transform .6s ease-in-out}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard-icon[_ngcontent-%COMP%]{color:#bbf;cursor:pointer;height:24px;pointer-events:auto;transition:color .6s ease-in-out}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard-icon[_ngcontent-%COMP%]:hover{color:#008}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard-dial[_ngcontent-%COMP%]{background-color:#ddf;border:1px solid #bbf;border-radius:4px;box-shadow:2px 2px 4px #888;color:#008;left:24px;padding:2px;pointer-events:auto;position:relative;top:-24px;width:192px}']}),t})(),rt=(()=>{class t{constructor(t){this._ref=t}ngAfterViewInit(){setTimeout(()=>{var t;const e=null===(t=this._ref)||void 0===t?void 0:t.nativeElement;e&&e.focus()})}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(l.l))},t.\u0275dir=l.Ib({type:t,selectors:[["","appFocus",""]]}),t})();var ct=n("STbY");const lt=["menuButton"];function dt(t,e){if(1&t&&(l.Tb(0,"button",14),l.Tb(1,"mat-icon"),l.Ac(2,"face"),l.Sb(),l.Sb()),2&t){const t=l.ec();l.kc("disabled",!("active"===t.primeStatus&&t.canPrimeSubmit))}}function ht(t,e){if(1&t){const t=l.Ub();l.Tb(0,"mat-icon",15),l.ac("click",function(){l.rc(t);const e=l.ec();return e.victoryAnimation=!e.victoryAnimation}),l.Sb()}if(2&t){const t=l.ec();l.Fb("animate",t.victoryAnimation),l.kc("ngClass",t.victoryClass)}}function ut(t,e){if(1&t){const t=l.Ub();l.Rb(0),l.Tb(1,"button",16,17),l.Tb(3,"mat-icon"),l.Ac(4,"face"),l.Sb(),l.Sb(),l.Tb(5,"mat-menu",18,19),l.Tb(7,"button",20),l.ac("click",function(){return l.rc(t),l.ec().onRefresh()}),l.Tb(8,"mat-icon",21),l.Ac(9,"refresh"),l.Sb(),l.Tb(10,"span"),l.Ac(11),l.Sb(),l.Sb(),l.Sb(),l.Qb()}if(2&t){const t=l.pc(6),e=l.ec();l.Bb(1),l.kc("matMenuTriggerFor",t),l.Bb(10),l.Bc(e.refreshButtonLabel)}}function mt(t,e){if(1&t&&(l.Tb(0,"span",22),l.Ac(1),l.Sb()),2&t){const t=l.ec();l.Bb(1),l.Bc(t.scoreMessage)}}function gt(t,e){if(1&t){const t=l.Ub();l.Tb(0,"form",5,23),l.ac("ngSubmit",function(){l.rc(t);const e=l.pc(1);return l.ec().onExtraSubmit(e)}),l.Tb(2,"div",7),l.Ac(3),l.Sb(),l.Tb(4,"app-math-input-group",24),l.ac("itemChange",function(e){return l.rc(t),l.ec().onExtraItemChange(e)})("noteRequest",function(e){return l.rc(t),l.ec().requestNoteFor(e)}),l.Sb(),l.Tb(5,"div",9),l.Tb(6,"button",25),l.Tb(7,"mat-icon"),l.Ac(8,"child_care"),l.Sb(),l.Sb(),l.Tb(9,"label"),l.Ac(10),l.Sb(),l.Sb(),l.Sb()}if(2&t){const t=l.ec();l.Bb(3),l.Bc(t.extraMessage),l.Bb(1),l.kc("items",t.extraItems)("active","active"===t.extraStatus),l.Bb(2),l.kc("disabled","active"!==t.extraStatus),l.Bb(3),l.Cb("for","done"===t.extraStatus?"onPrimeSubmitButton":"onExtraSubmitButton"),l.Bb(1),l.Bc(t.extraSubmitLabel)}}function pt(t){return t.replace(/[^0-9]/g,"")}const ft=["first","second","result"],bt="[School.Math.Grade-3.Mental-math]";let xt=(()=>{class t{constructor(t,e,n,i){this._dialog=i,this.primeMessage="\u041d\u0430\u0439\u0434\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f.",this.extraMessage="\u0420\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438:",this.canPrimeSubmit=!1,this.scoreMessage="",this.score=0,this.autoplay=new h.a,this.todayVictories=0,this.victoryAnimation=!1,this.expressionTypes=["a","s","m","d"],e.addSvgIcon("icon_sun",n.bypassSecurityTrustResourceUrl("assets/school/sun.svg"));const s=null==t?void 0:t.snapshot.queryParams.mode;if(s){const t=s.match(/([asmdASMD][0-9]*)/g);(null==t?void 0:t.length)>0&&(this.expressionTypes=t)}}init(){this.autoplay.stop(),this.canPrimeSubmit=!1,this.score=0,this.scoreMessage="",this.primeStatus="active",this.primeItems=[],this.extraStatus=void 0,this.extraItems=void 0;for(let t=0;t<100&&this.primeItems.length<10;t++){const t=Object(d.d)(this.expressionTypes);let e=+t.substring(1);switch(e=e?Math.max(Math.min(e,100),10):100,t[0]){case"a":this._addPrimeItem(f(e));break;case"s":this._addPrimeItem(x(e));break;case"m":this._addPrimeItem(w(10,e));break;case"d":this._addPrimeItem(v(10,e));break;case"A":this._addPrimeItem(f(e),"result");break;case"S":this._addPrimeItem(x(e),"result");break;case"M":this._addPrimeItem(w(10,e),"result");break;case"D":this._addPrimeItem(v(10,e),"result")}}}_addPrimeItem(t,e){const n=k(t);if(!this.primeItems.find(t=>k(t.expression)===n)){const n="mathExpression"+this.primeItems.length,i="",s=e||Object(d.d)(ft),o=t[s].value.toString().length;this.primeItems.push({inputName:n,inputValue:i,inputIndex:s,inputLength:o,expression:t})}}ngOnInit(){this.init();const t=localStorage.getItem(bt);if(t){const e=JSON.parse(t);if(e){const t=e[Object(m.a)("YYYY-MM-DD")];"number"==typeof t&&t>this.todayVictories&&(this.todayVictories=t,this.victoryClass="step"+Math.min(5,this.todayVictories))}}}ngOnDestroy(){this.autoplay.stop()}onRefresh(){this.init()}getPrimeSubmitStatus(){if("active"!==this.primeStatus)return!1;for(const t of this.primeItems)if(!t.inputValue||isNaN(+t.inputValue))return!1;return!0}get primeSubmitLabel(){switch(this.primeStatus){case"active":return this.canPrimeSubmit?"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043c?":"?";case"validation":return"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c...";case"done":return"\u041e\u0446\u0435\u043d\u043a\u0430: "}}get extraSubmitLabel(){switch(this.extraStatus){case"active":return"?";case"validation":return"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u044e...";case"done":return"!"}}get refreshButtonLabel(){return this.score>=1?"\u0415\u0449\u0451 \u0440\u0430\u0437?":"\u041f\u0435\u0440\u0435\u0438\u0433\u0440\u0430\u0442\u044c!"}getScore(){let t=0;for(const e of this.primeItems)e.isValid&&t++;return t/this.primeItems.length}onPrimeChecked(){this.primeStatus="done",this.victoryAnimation=!1,this.scoreMessage="",this.score=this.getScore()}onPrimeEnded(){const t=this.primeItems.filter(t=>!t.isValid).map(t=>Object.assign(Object.assign({},t),{isChecked:!1,inputValue:"",inputName:t.inputName+"Extra",hasNote:!0}));if(t.length>0)this.extraItems=t,this.extraStatus="active";else{this.todayVictories++,this.victoryClass="step"+Math.min(5,this.todayVictories),this.victoryAnimation=!0;try{const t=Object(m.a)("YYYY-MM-DD");localStorage.setItem(bt,JSON.stringify({[t]:this.todayVictories}))}catch(e){console.warn("localStorage error:",e)}}}onExtraSubmit(t){this.extraStatus="validation";const e=this.extraItems;let n=0;this.autoplay.timeout=200,this.autoplay.play(()=>{for(;n<e.length;){const t=e[n++];if(!t.isChecked&&t.inputValue){t.expression[t.inputIndex].value===+t.inputValue?(t.isValid=t.isChecked=t.isReadonly=!0,t.hasNote=!1):t.inputValue="";break}}return!(n>=e.length&&(e.find(t=>!t.isChecked)?this.extraStatus="active":(this.extraStatus="done",this.requestMenuButtonFocus()),1))})}onPrimeSubmit(t){if(!this.getPrimeSubmitStatus())return void console.warn("Cannot submit:",t.value);this.primeStatus="validation";const e=this.primeItems;let n=0;this.autoplay.timeout=250,this.autoplay.play(()=>{if(n<e.length){const t=e[n++];t.isChecked=!0,t.isValid=t.expression[t.inputIndex].value===+t.inputValue}if(n>=e.length){this.onPrimeChecked();const t=function(t){if(1===t){const t=["","\u0417\u0434\u043e\u0440\u043e\u0432\u043e!","\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u043e!","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u041c\u043e\u043b\u043e\u0434\u0435\u0446!","\u0423\u043c\u043d\u0438\u0446\u0430!","\u0423\u043c\u043d\u0438\u0447\u043a\u0430!!!","\u0425\u0432\u0430\u043b\u044e!","\u0411\u0440\u0430\u0432\u043e!","\u0422\u0430\u043b\u0430\u043d\u0442!","\u041f\u0440\u0435\u0432\u043e\u0441\u0445\u043e\u0434\u043d\u043e!","\u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c!","\u0417\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e!","\u0427\u0443\u0434\u0435\u0441\u043d\u043e!"];return"5+ "+Object(d.d)(t)}if(t>=.98)return"5+";if(t>.9)return"5";if(t>.8)return"5-";if(t>.7)return"4";if(t>.6)return"4-";if(t>.5)return"3";if(t>.4)return"3-";if(t>.3)return"2";if(t>=.2)return"2-";{const t=["","","","","\u041f\u043b\u043e\u0445\u043e.","\u041e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e.","\u0423\u0436\u0430\u0441\u043d\u043e.","\u0423\u0436\u0430\u0441!","\u0411\u0435\u0437\u043e\u0431\u0440\u0430\u0437\u043d\u043e!","\u041e\u0439 \u043a\u0430\u043a \u043f\u043b\u043e\u0445\u043e!","\u041d\u0435\u043a\u0440\u0430\u0441\u0438\u0432\u043e.","\u042f \u0432 \u0448\u043e\u043a\u0435!","\u0416\u0443\u0442\u044c!","\u0412\u0437\u0433\u043b\u044f\u043d\u0438 \u043a\u0430\u043a \u043d\u0435\u0445\u043e\u0440\u043e\u0448\u043e."];return"1 "+Object(d.d)(t)}}(this.score);return this.autoplay.timeout=100,this.autoplay.play(()=>{const e=Object(u.a)(this.scoreMessage,t);return this.scoreMessage=e.length<t.length?t.substring(0,e.length+1):t,this.scoreMessage!==t||(this.onPrimeEnded(),!1)}),!1}return!0})}onPrimeItemChange(t){const e=this.primeItems[t];if(e){const t=pt(e.inputValue).substring(0,e.inputLength);t!==e.inputValue?(this.canPrimeSubmit=!1,setTimeout(()=>{e.inputValue=t,this.canPrimeSubmit=this.getPrimeSubmitStatus()},100)):this.canPrimeSubmit=this.getPrimeSubmitStatus()}}onExtraItemChange(t){const e=this.extraItems[t];if(e){const t=pt(e.inputValue).substring(0,e.inputLength);t!==e.inputValue&&setTimeout(()=>{e.inputValue=t},100)}}requestMenuButtonFocus(){setTimeout(()=>{var t;const e=null===(t=this.menuButtonRef)||void 0===t?void 0:t.nativeElement;e&&e.focus()})}requestNoteFor(t){const e=this.extraItems[t];e&&this._dialog.open(U,{data:Object.assign({},e)})}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(a.a),l.Nb(H.c),l.Nb(Y.b),l.Nb(M.b))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-mental-math"]],viewQuery:function(t,e){if(1&t&&l.Fc(lt,1,l.l),2&t){let t;l.oc(t=l.bc())&&(e.menuButtonRef=t.first)}},decls:18,vars:9,consts:[["formPrimeSubmitButton",""],["appContentSvg",""],["x1","30","x2","30","y1","0","y2","41","stroke-width","0.1","stroke","#f00","fill","none"],[2,"position","absolute","right","0","top","0"],["class","mental-math-trophy","svgIcon","icon_sun",3,"ngClass","animate","click",4,"ngIf"],[3,"ngSubmit"],["formPrime","ngForm"],[1,"mental-math-topic"],[3,"items","active","itemChange"],[1,"mental-math-submit"],[4,"ngIf","ngIfElse"],["for","onPrimeSubmitButton"],["class","mental-math-teacher",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["id","onPrimeSubmitButton","mat-icon-button","","color","primary","aria-label","submission button","type","submit",3,"disabled"],["svgIcon","icon_sun",1,"mental-math-trophy",3,"ngClass","click"],["id","onPrimeSubmitButton","mat-icon-button","","color","warn","aria-label","refresh button","type","button","appFocus","",3,"matMenuTriggerFor"],["menuButton",""],["yPosition","above"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["color","primary"],[1,"mental-math-teacher"],["formExtra","ngForm"],[3,"items","active","itemChange","noteRequest"],["id","onExtraSubmitButton","mat-icon-button","","color","primary","aria-label","submission button","type","submit",3,"disabled"]],template:function(t,e){if(1&t){const t=l.Ub();l.yc(0,dt,3,1,"ng-template",null,0,l.zc),l.Tb(2,"app-squared-paper"),l.dc(),l.Tb(3,"svg",1),l.Ob(4,"line",2),l.Sb(),l.cc(),l.Tb(5,"div",3),l.yc(6,ht,1,3,"mat-icon",4),l.Sb(),l.Tb(7,"form",5,6),l.ac("ngSubmit",function(){l.rc(t);const n=l.pc(8);return e.onPrimeSubmit(n)}),l.Tb(9,"div",7),l.Ac(10),l.Sb(),l.Tb(11,"app-math-input-group",8),l.ac("itemChange",function(t){return e.onPrimeItemChange(t)}),l.Sb(),l.Tb(12,"div",9),l.yc(13,ut,12,2,"ng-container",10),l.Tb(14,"label",11),l.Ac(15),l.Sb(),l.yc(16,mt,2,1,"span",12),l.Sb(),l.Sb(),l.yc(17,gt,11,6,"form",13),l.Sb()}if(2&t){const t=l.pc(1);l.Bb(6),l.kc("ngIf",e.todayVictories>0),l.Bb(4),l.Bc(e.primeMessage),l.Bb(1),l.kc("items",e.primeItems)("active","active"===e.primeStatus),l.Bb(2),l.kc("ngIf","done"===e.primeStatus)("ngIfElse",t),l.Bb(2),l.Bc(e.primeSubmitLabel),l.Bb(1),l.kc("ngIf","done"===e.primeStatus),l.Bb(1),l.kc("ngIf",e.extraItems)}},directives:[P,i.l,o.q,o.j,o.k,at,C.a,H.a,i.j,rt,ct.d,ct.a,ct.b],styles:[".mental-math-submit[_ngcontent-%COMP%]{height:72px}.mental-math-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:4px}.mental-math-submit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;margin-left:6px;vertical-align:top}.mental-math-submit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{text-shadow:1px 1px 2px #cba}.mental-math-topic[_ngcontent-%COMP%]{margin:24px 96px 24px 0;padding-left:6px;text-indent:48px}.mental-math-trophy[_ngcontent-%COMP%]{display:block;height:96px;width:96px}.mental-math-teacher[_ngcontent-%COMP%]{color:red;font-family:Pacifico,cursive;font-size:32px;font-weight:400;letter-spacing:normal;vertical-align:top}"]}),t})();var vt=n("keE2"),yt=n("SeXe");const wt=["very easy","easy","norm","hard","very hard"],kt={crosswordDifficulty:0,crosswordMaxHeight:24,crosswordMaxWidth:24},Mt={crosswordDifficulty:wt.length-1,crosswordMaxHeight:72,crosswordMaxWidth:72};function Ct(t,e){return Math.round((t+e)/2)}const _t={crosswordDataTreeState:"",crosswordDifficulty:Ct(kt.crosswordDifficulty,Mt.crosswordDifficulty),crosswordMaxHeight:Ct(kt.crosswordMaxHeight,Mt.crosswordMaxHeight),crosswordMaxWidth:Ct(kt.crosswordMaxWidth,Mt.crosswordMaxWidth),sidenavModeSide:!0,sidenavClosed:!1};let Ot=(()=>{class t extends yt.a{constructor(){super(_t),this.loadLocal("[crossword.settings]",_t)}restoreDefaults(){this.set(_t)}set(t){const e=this._set(t);return e&&this.saveLocal("[crossword.settings]"),e}_validate(t){for(const e of Object.keys(kt)){const n=t[e];t[e]="number"==typeof n&&!isNaN(n)&&isFinite(n)?Math.max(kt[e],Math.min(Mt[e],n)):_t[e]}return super._validate(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac}),t})();class St{constructor(){this.lastFrameTime=0,this.animation=(t,e)=>{const{width:n,height:i}=e.canvas;if(this.lastFrameTime){const e=Math.min(t-this.lastFrameTime,50)/1e3;this.update(e,n,i)}e.save(),this.clear(e,n,i),this.draw(e,n,i),e.restore(),this.lastFrameTime=t}}}let Pt=(()=>{class t{constructor(t,e){this.spawn(t,e)}spawn(e,n){this.hue=t.nextHue,t.nextHue=(t.nextHue+1)%360,this.radius=this.radius0=Object(g.k)(6,20),this.age=-3*Object(g.b)(.8,0,.2,1,Math.random()),this.ttl=4+6*Math.random(),this.x=e/2,this.y=n;const i=Math.atan2(e/2,n)*Math.random(),s=Math.min(e,n)/10*(1+1.75*Math.random());this.vy=-s*Math.cos(i)-20,this.vx=s*Math.sin(i),Math.random()<.5&&(this.vx=-this.vx),this.x+=this.vx,this.fx=0,this.fy=0}update(t,e){if(this.age+=t,this.age>=0&&this.age<this.ttl){const n=this.age/this.ttl;if(this.radius=Math.max(1,(1-Object(g.b)(.14,.68,.76,.94,n))*this.radius0),this.x+=this.vx*t,this.y+=this.vy*t,this.vx+=this.fx*t,this.vy+=this.fy*t,this.fx=0,this.fy=0,e){const t=.5;let n=t*(e.x-this.x),i=t*(e.y-this.y);n*this.vx+i*this.vy<0&&(n*=Math.abs(n),i*=Math.abs(i)),this.fx+=n,this.fy+=i}else this.fy+=10;const i=-.0025;this.fx+=i*this.vx*Math.abs(this.vx),this.fy+=i*this.vy*Math.abs(this.vy)}}}return t.nextHue=200,t})();class Tt extends St{constructor(){super(...arguments),this.particleCount=200,this.particleChance=.98765,this.particles=[],this.nextBurstDelta=3}clear(t,e,n){t.globalCompositeOperation="source-over",t.fillStyle=this.lastFrameTime>0?"rgba(0, 0, 0, 0.08)":"#222",t.fillRect(0,0,e,n)}draw(t,e,n){t.globalCompositeOperation="lighter";for(const i of this.particles)i.age>=0&&i.age<i.ttl&&(t.fillStyle=`hsla(${i.hue}, 80%, 40%, 1)`,t.beginPath(),t.arc(i.x,i.y,i.radius,0,2*Math.PI),t.fill(),t.closePath())}spawnParticles(t,e,n){for(const i of this.particles)if(i.age>i.ttl&&(t>0&&i.spawn(e,n),--t<=0))return;for(;t-- >0&&this.particles.length<this.particleCount;)this.particles.push(new Pt(e,n))}update(t,e,n){this.particles.length>this.particleCount&&(this.particles.length=this.particleCount);let i=this.particleCount-this.particles.length;for(const s of this.particles)s.update(t,this.mouse),s.age>s.ttl&&i++;if(this.nextBurstDelta-=t,i>0)if(this.nextBurstDelta<=0){const t=Math.min(50,Math.max(Math.floor(this.particleCount/3),1)),s=Math.min(i,t);this.spawnParticles(Object(g.k)(1+Math.floor(s/2),1+s),e,n),this.nextBurstDelta=3+5*Math.random()}else i>this.particleCount/2&&Math.random()>this.particleChance&&this.spawnParticles(1,e,n)}}class It{constructor(t,e){this.x=t,this.y=e,this.x0=this.x,this.y0=this.y,this.angle=2*Math.PI*Math.random()}update(t,e,n){this.x0=this.x,this.y0=this.y,n&&(this.angle=Math.atan2(n.x-this.x,n.y-this.y)),this.angle+=.11*Math.PI*(Math.random()-.5);const i=t*(e+.25*e*(Math.random()-.5));this.x+=i*Math.sin(this.angle),this.y+=i*Math.cos(this.angle)}cage(t,e,n,i){this.x<t?(this.angle=Math.PI*(.05+.9*Math.random()),this.x=t):this.x>n?(this.angle=Math.PI*(1.05+.9*Math.random()),this.x=n):this.y<e?(this.angle=Math.PI*(.9*Math.random()-.45),this.y=e):this.y>i&&(this.angle=Math.PI*(.9*Math.random()-.45),this.y=i)}}class Bt extends St{constructor(){super(...arguments),this.particleCount=250,this.particles=[],this.hue=Math.floor(360*Math.random()),this.speed=100}clear(t,e,n){t.globalCompositeOperation="source-over",t.fillStyle=this.lastFrameTime>0?"rgba(0, 0, 0, .035)":"#222",t.fillRect(0,0,e,n)}draw(t,e,n){t.globalCompositeOperation="lighter",t.shadowBlur=5,t.shadowColor=`hsl(${this.hue},100%,62%)`,t.strokeStyle=`hsl(${this.hue},100%,50%)`,t.lineWidth=1,t.beginPath();for(const i of this.particles)t.moveTo(i.x0,i.y0),t.lineTo(i.x,i.y);t.stroke(),t.closePath()}update(t,e,n){++this.hue>=360&&(this.hue=0),this.particles.length<this.particleCount?this.particles.push(this.spawn(e,n)):this.particles.length>this.particleCount&&(this.particles.length=this.particleCount);for(const i of this.particles)i.update(t,this.speed,this.mouse),this.loose||i.cage(0,0,e,n)}spawn(t,e){const n=Math.random()<.5?0:t;return new It(n,e)}}class At{constructor(t,e){this.attractor=new Pt(t,e),this.lines=new Bt,this.lines.loose=!0,this.lines.spawn=(t,e)=>new It(t/2,e),this.reset(t,e)}reset(t,e){this.attractor.spawn(t,e),this.lines.mouse=void 0,this.lines.particles.length=0,this.lines.particleCount=Object(g.k)(20,30),this.speed=Object(g.k)(800,1600)}update(t,e,n,i){const s=this.attractor;s.age<s.ttl&&s.update(t,i),s.age>s.ttl?this.reset(e,n):(s.ttl-s.age>.25?(this.lines.speed=Math.max(this.speed/this.attractor.radius,500),this.lines.mouse=s):(this.lines.mouse=i,this.lines.speed=this.speed),this.lines.update(t,e,n))}}class $t extends St{constructor(){super(...arguments),this.particleCount=5,this.particles=[]}clear(t,e,n){t.globalCompositeOperation="source-over",t.fillStyle=this.lastFrameTime>0?"rgba(0, 0, 0, .035)":"#222",t.fillRect(0,0,e,n)}draw(t,e,n){for(const i of this.particles)i.attractor.age>=0&&i.lines.draw(t,e,n)}update(t,e,n){this.particles.length<this.particleCount?this.particles.push(new At(e,n)):this.particles.length>this.particleCount&&(this.particles.length=this.particleCount);for(const i of this.particles)i.update(t,e,n,this.mouse)}}const Nt=["\u0411\u0440\u0430\u0432\u043e!","\u0412\u043e\u0442 \u0438 \u043d\u0430 \u043c\u043e\u0435\u0439 \u0443\u043b\u0438\u0446\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a!","\u0412\u044b\u0441\u0448\u0438\u0439 \u043a\u043b\u0430\u0441\u0441!.. \u0417\u0434\u043e\u0440\u043e\u0432\u043e!","\u0412\u044b\u0448\u0435 \u0432\u0441\u044f\u043a\u0438\u0445 \u043f\u043e\u0445\u0432\u0430\u043b!","\u0414\u0438\u0432\u043e \u0434\u0438\u0432\u043d\u043e\u0435!","\u0417\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e!","\u0417\u0434\u043e\u0440\u043e\u0432\u043e!","\u041a\u043e\u043f\u0435\u0435\u0447\u043a\u0430 \u0432 \u043a\u043e\u043f\u0435\u0435\u0447\u043a\u0443!","\u041c\u043e\u043b\u043e\u0434\u0435\u0446!","\u041d\u0435 \u0432 \u0431\u0440\u043e\u0432\u044c, \u0430 \u0432 \u0433\u043b\u0430\u0437!","\u041d\u0435 \u0436\u0438\u0437\u043d\u044c, \u0430 \u043c\u0430\u043b\u0438\u043d\u0430!","\u041d\u0435\u0436\u0434\u0430\u043d\u043d\u043e-\u043d\u0435\u0433\u0430\u0434\u0430\u043d\u043d\u043e...","\u041d\u0435\u0442 \u0441\u043b\u043e\u0432!","\u041d\u0438 \u0432 \u0441\u043a\u0430\u0437\u043a\u0435 \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u043d\u0438 \u043f\u0435\u0440\u043e\u043c \u043e\u043f\u0438\u0441\u0430\u0442\u044c...","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u041e\u0447\u0435\u043d\u044c \u0445\u043e\u0440\u043e\u0448\u043e!","\u041f\u0440\u0435\u0432\u043e\u0441\u0445\u043e\u0434\u043d\u043e!","\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u043e!","\u0421\u0432\u0435\u0440\u0448\u0438\u043b\u043e\u0441\u044c! \u041d\u0435 \u0432\u0435\u0440\u044e \u0433\u043b\u0430\u0437\u0430\u043c \u0441\u0432\u043e\u0438\u043c!","\u0421\u0434\u0435\u043b\u0430\u043d\u043e \u043d\u0430 \u0441\u043e\u0432\u0435\u0441\u0442\u044c!","\u0421\u0438\u043b\u044c\u043d\u043e!","\u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c!","\u0422\u0430\u043b\u0430\u043d\u0442!","\u0422\u0430\u043b\u0430\u0301\u043d\u0442\u0438\u0449\u0435!","\u0422\u043e\u043b\u043a\u043e\u0432\u043e!","\u0423\u043c\u043d\u0438\u0446\u0430!","\u0423\u043c\u043d\u0438\u0447\u043a\u0430!!!","\u0425\u0432\u0430\u043b\u044e!","\u0427\u0443\u0434\u0435\u0441\u0430 \u0434\u0430 \u0438 \u0442\u043e\u043b\u044c\u043a\u043e!","\u0427\u0443\u0434\u0435\u0441\u043d\u043e!","\u0427\u0443\u0434\u043e!","\u042d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0447\u0443\u0434\u043e!"],zt=["\u0414\u0443\u043c\u0430\u044e, \u043c\u043e\u0433\u043b\u043e \u0431\u044b\u0442\u044c \u043b\u0443\u0447\u0448\u0435.","\u041c\u043e\u0433\u043b\u043e \u0431\u044b\u0442\u044c \u043b\u0443\u0447\u0448\u0435.","\u041d\u0435\u043f\u043b\u043e\u0445\u0430\u044f \u043f\u043e\u043f\u044b\u0442\u043a\u0430, \u043d\u043e...","\u041d\u0435\u043f\u043b\u043e\u0445\u043e.","\u0425\u043e\u0440\u043e\u0448\u043e, \u043d\u043e..."],Ft=["\u041d\u0430 \u0442\u0440\u043e\u0435\u0447\u043a\u0443.","\u041d\u0435 \u0430\u0445\u0442\u0438!","\u041d\u0435 \u0434\u043e \u0441\u043c\u0435\u0445\u0443.","\u041d\u0435 \u0441\u043e\u0432\u0441\u0435\u043c \u0442\u043e, \u0447\u0442\u043e \u0445\u043e\u0442\u0435\u043b\u043e\u0441\u044c \u0431\u044b...","\u041d\u0438\u0436\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u0433\u043e.","\u0421 \u0433\u043e\u0440\u0435\u043c \u043f\u043e\u043f\u043e\u043b\u0430\u043c...","\u0421\u0440\u0435\u0434\u043d\u0435.","\u0427\u0435\u0441\u0442\u043d\u043e \u0433\u043e\u0432\u043e\u0440\u044f, \u043d\u0435 \u043e\u0447\u0435\u043d\u044c.","\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u043e\u0447\u0435\u043d\u044c."],qt=["\u0410 \u0432\u043e\u0442 \u044d\u0442\u043e \u043d\u0438\u043a\u0443\u0434\u0430 \u043d\u0435 \u0433\u043e\u0434\u0438\u0442\u0441\u044f.","\u041a\u0443\u0440\u0430\u043c \u043d\u0430 \u0441\u043c\u0435\u0445!","\u041d\u0435\u0442, \u044d\u0442\u043e \u043d\u0438\u043a\u0443\u0434\u0430 \u043d\u0435 \u0433\u043e\u0434\u0438\u0442\u0441\u044f.","\u041d\u0443, \u044d\u0442\u043e \u043d\u0438\u043a\u0443\u0434\u0430 \u043d\u0435 \u0433\u043e\u0434\u0438\u0442\u0441\u044f.","\u041e\u0431\u0438\u0434\u043d\u043e.","\u041f\u043b\u043e\u0445\u043e.","\u0422\u0430\u043a \u0434\u0435\u043b\u043e \u043d\u0435 \u043f\u043e\u0439\u0434\u0451\u0442!"],jt=["\u0413\u043b\u0430\u0437\u0430 \u0431\u044b \u043c\u043e\u0438 \u043d\u0435 \u0433\u043b\u044f\u0434\u0435\u043b\u0438!","\u041a\u0443\u0440\u0430\u043c \u043d\u0430 \u0441\u043c\u0435\u0445!","\u041d\u0443 \u043e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445\u043e.","\u041e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445\u043e.","\u041f\u043b\u043e\u0445\u043e! \u041f\u043b\u043e\u0445\u043e! \u041f\u043b\u043e\u0445\u043e!","\u0421\u043a\u0432\u0435\u0440\u043d\u043e!","\u0425\u0432\u0430\u0442\u0438\u0442, \u044d\u0442\u043e \u043d\u0438\u043a\u0443\u0434\u0430 \u043d\u0435 \u0433\u043e\u0434\u0438\u0442\u0441\u044f!","\u042d\u0442\u043e\u0433\u043e \u0435\u0449\u0451 \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u043b\u043e."],Lt=["\u0411\u0435\u0434\u0430, \u0434\u0430 \u0438 \u0442\u043e\u043b\u044c\u043a\u043e!","\u0411\u0435\u0437\u043e\u0431\u0440\u0430\u0437\u043d\u043e!","\u0412\u0437\u0433\u043b\u044f\u043d\u0438 \u043a\u0430\u043a \u043f\u043b\u043e\u0445\u043e.","\u0414\u0430\u043b\u044c\u0448\u0435 \u0435\u0445\u0430\u0442\u044c \u043d\u0435\u043a\u0443\u0434\u0430!","\u0414\u0435\u043b\u043e \u0434\u0440\u044f\u043d\u044c!","\u0416\u0443\u0442\u044c!","\u041d\u0435\u043a\u0440\u0430\u0441\u0438\u0432\u043e.","\u041e\u0439 \u043a\u0430\u043a \u043f\u043b\u043e\u0445\u043e!","\u041e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e.","\u0421\u043e\u0432\u0441\u0435\u043c \u043f\u043b\u043e\u0445\u043e, \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u044b\u0445\u043e\u0434\u0438\u0442.","\u0423\u0436\u0430\u0441!","\u0423\u0436\u0430\u0441\u043d\u043e.","\u042f \u0432 \u0448\u043e\u043a\u0435!"],Dt=["\u0412\u0435\u043b\u0438\u043a\u043e\u043b\u0435\u043f\u043d\u043e!","\u0412\u044b\u0448\u0435 \u0432\u0441\u044f\u043a\u0438\u0445 \u043f\u043e\u0445\u0432\u0430\u043b!","\u0413\u0440\u0430\u043d\u0434\u0438\u043e\u0437\u043d\u043e!","\u0415\u0449\u0435 \u043b\u0443\u0447\u0448\u0435, \u0447\u0435\u043c \u043f\u0440\u0435\u0436\u0434\u0435!","\u0417\u0434\u043e\u0440\u043e\u0432\u043e!","\u0418\u043c\u0435\u043d\u043d\u043e \u044d\u0442\u043e\u0433\u043e \u043c\u044b \u0434\u0430\u0432\u043d\u043e \u0436\u0434\u0430\u043b\u0438!","\u041a\u0430\u043a \u0432 \u0441\u043a\u0430\u0437\u043a\u0435!","\u041a\u043b\u0430\u0441\u0441\u043d\u043e!","\u041a\u0440\u0430\u0441\u043e\u0442\u0430!","\u041c\u043e\u0438 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f!","\u041d\u0430\u0443\u0447\u0438 \u043c\u0435\u043d\u044f \u0434\u0435\u043b\u0430\u0442\u044c \u0442\u0430\u043a \u0436\u0435!","\u041d\u0435\u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c\u043e!","\u041d\u0435\u043f\u043e\u0434\u0440\u0430\u0436\u0430\u0435\u043c\u043e!","\u041d\u0435\u0441\u0440\u0430\u0432\u043d\u0435\u043d\u043d\u043e!","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u041e\u0447\u0435\u043d\u044c \u043f\u0440\u0438\u044f\u0442\u043d\u043e \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u0443\u043c\u043d\u044b\u043c \u0440\u0435\u0431\u0451\u043d\u043a\u043e\u043c.","\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e!","\u041f\u043e\u0440\u0430\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e!","\u041f\u043e\u0442\u0440\u044f\u0441\u0430\u044e\u0449\u0435!","\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u043e!","\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u043e\u0435 \u043d\u0430\u0447\u0430\u043b\u043e!","\u0420\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0442\u043e\u0431\u043e\u0439 \u043f\u0440\u043e\u0441\u0442\u043e \u0440\u0430\u0434\u043e\u0441\u0442\u044c!","\u0421 \u043a\u0430\u0436\u0434\u044b\u043c \u0434\u043d\u0435\u043c \u0443 \u0442\u0435\u0431\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0432\u0441\u0451 \u043b\u0443\u0447\u0448\u0435!","\u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c!","\u0422\u0430\u043b\u0430\u043d\u0442\u043b\u0438\u0432\u043e!","\u0422\u0432\u043e\u0439 \u043c\u043e\u0437\u0433 \u043f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u043b \u043d\u0430 \u0441\u043b\u0430\u0432\u0443.","\u0422\u044b \u043d\u0430 \u0432\u0435\u0440\u043d\u043e\u043c \u043f\u0443\u0442\u0438!","\u0422\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0447\u0443\u0434\u043e!","\u0423 \u0442\u0435\u0431\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c!","\u0423\u0434\u0438\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e!","\u0423\u0445!!!","\u0424\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430!","\u042d\u0442\u043e \u0437\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e!","\u042d\u0442\u043e \u043a\u0430\u043a \u0440\u0430\u0437 \u0442\u043e, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e!","\u042d\u0442\u043e \u0442\u0440\u043e\u0433\u0430\u0435\u0442 \u043c\u0435\u043d\u044f \u0434\u043e \u0433\u043b\u0443\u0431\u0438\u043d\u044b \u0434\u0443\u0448\u0438!","\u042f \u0432\u0435\u0440\u044e \u0432 \u0442\u0435\u0431\u044f.","\u042f \u0433\u043e\u0440\u0436\u0443\u0441\u044c \u0442\u0435\u043c, \u0447\u0442\u043e \u0442\u0435\u0431\u0435 \u044d\u0442\u043e \u0443\u0434\u0430\u043b\u043e\u0441\u044c!","\u042f \u0437\u043d\u0430\u043b\u0430, \u0447\u0442\u043e \u0442\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e.","\u042f \u0442\u043e\u0431\u043e\u0439 \u0433\u043e\u0440\u0436\u0443\u0441\u044c!"],Rt=["\u0411\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a!","\u0412 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a!","\u0412\u0441\u0451 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e, \u043e\u0448\u0438\u0431\u043e\u043a \u043d\u0435\u0442!","\u041d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438!","\u041e\u0448\u0438\u0431\u043e\u043a \u043d\u0435\u0442!"],Vt=["\u0410\u0445!","\u0412\u043e\u0442 \u044d\u0442\u043e \u0434\u0430!","\u0417\u0434\u043e\u0440\u043e\u0432\u043e.","\u041a\u043b\u0430\u0441\u0441!","\u041a\u043e\u043c\u0430\u0440 \u043d\u043e\u0441\u0430 \u043d\u0435 \u043f\u043e\u0434\u0442\u043e\u0447\u0438\u0442!","\u041c\u043d\u0435 \u0434\u0430\u0436\u0435 \u043d\u0435 \u0432\u0435\u0440\u0438\u0442\u0441\u044f.","\u041d\u0430\u043a\u043e\u043d\u0435\u0446-\u0442\u043e!","\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c!","\u0423\u0440\u0430!","\u0423\u0445 \u0442\u044b!","\u0427\u0443\u0434\u0435\u0441\u043d\u043e!","\\\ud83d\ude0d/"],Et=["\u0412\u0441\u0435\u0433\u043e \u043b\u0438\u0448\u044c \u043e\u0434\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.","\u0412\u0441\u0435\u0433\u043e \u043e\u0434\u043d\u0430 \u043e\u0448\u0438\u0431\u043e\u0447\u043a\u0430!","\u0415\u0441\u0442\u044c \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043e\u0447\u043a\u0430...","\u041d\u0430\u0434\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0434\u043d\u0443 \u043e\u0448\u0438\u0431\u043a\u0443.","\u041d\u043e \u0435\u0441\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0430.","\u041d\u0443, \u0441 \u043a\u0435\u043c \u043d\u0435 \u0431\u044b\u0432\u0430\u0435\u0442... \u041e\u0434\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.","\u041e\u0434\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.","\u041e\u0448\u0438\u0431\u043a\u0430.","\u041f\u0440\u043e\u0441\u0442\u043e \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0438 \u0432\u0441\u0451.","\u0422\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!","\u0423 \u043d\u0430\u0441 \u0432\u044b\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043e\u0447\u043a\u0430!"],Wt=["\u041e\u0434\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430?","\u0412\u0441\u0435\u0433\u043e \u043e\u0434\u043d\u0430!","\u0422\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430!","\u042f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044e!","\u042f... \u044f \u0435\u0451 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044e!"],Ut=["\u042f \u0432\u0441\u0451 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044e.","\u042f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044e!","\u042f... \u044f \u0432\u0441\u0451 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044e!"],Ht=["$ \u043e\u0448\u0438\u0431\u043a\u0438.","\u0423 \u0442\u0435\u0431\u044f $ \u043e\u0448\u0438\u0431\u043a\u0438.","\u0426\u0435\u043b\u044b\u0445 $ \u043e\u0448\u0438\u0431\u043a\u0438."],Yt=["\u041c\u043d\u043e\u0433\u043e \u043e\u0448\u0438\u0431\u043e\u043a!","\u041e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e \u043e\u0448\u0438\u0431\u043e\u043a!","\u041e\u0448\u0438\u0431\u043a\u0438, \u043e\u0448\u0438\u0431\u043a\u0438, \u043a\u0440\u0443\u0433\u043e\u043c \u043e\u0434\u043d\u0438 \u043e\u0448\u0438\u0431\u043a\u0438."],Qt=["\u0413\u0440\u0430\u043c\u043e\u0442\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c:","\u0414\u0430\u0432\u0430\u0439 \u0432\u043c\u0435\u0441\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u043c:","\u0417\u0430\u043f\u043e\u043c\u043d\u0438 \u0438 \u043f\u0438\u0448\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:","\u0417\u0430\u043f\u043e\u043c\u043d\u0438:","\u041c\u044b \u043f\u0438\u0448\u0435\u043c:","\u041d\u0430\u0434\u043e \u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c:","\u041f\u0438\u0448\u0435\u043c \u0433\u0440\u0430\u043c\u043e\u0442\u043d\u043e:","\u041f\u043e\u0432\u0442\u043e\u0440\u044f\u0439 \u0437\u0430 \u043c\u043d\u043e\u0439:","\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c:","\u0421\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0438\u0441\u0430\u0442\u044c:"],Xt=["\u0415\u0449\u0451 \u0440\u0430\u0437 \u043f\u043e\u0432\u0442\u043e\u0440\u0438 \u0438 \u0445\u043e\u0440\u043e\u0448\u0435\u043d\u044c\u043a\u043e \u0437\u0430\u043f\u043e\u043c\u043d\u0438.","\u0417\u0430\u043f\u043e\u043c\u043d\u0438 \u044d\u0442\u0438 \u0441\u043b\u043e\u0432\u0430.","\u0417\u0430\u043f\u043e\u043c\u043d\u0438 \u044d\u0442\u043e \u0445\u043e\u0440\u043e\u0448\u0435\u043d\u044c\u043a\u043e.","\u0417\u0430\u043f\u043e\u043c\u043d\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u0443\u0442\u0430\u0439.","\u0417\u0430\u043f\u043e\u043c\u043d\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438 \u043d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0438\u043a\u043e\u0433\u0434\u0430!","\u0417\u0430\u043f\u043e\u043c\u043d\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430.","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043c\u043d\u0438 \u0438 \u043d\u0435 \u0434\u0435\u043b\u0430\u0439 \u0442\u0430\u043a\u0438\u0445 \u043e\u0448\u0438\u0431\u043e\u043a!","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043c\u043d\u0438!","\u0421\u0442\u0430\u0440\u0430\u0439\u0441\u044f \u043d\u0430 \u0441\u043e\u0432\u0435\u0441\u0442\u044c! \u0412\u043e\u0434\u0430 \u043a\u0430\u043c\u0435\u043d\u044c \u0442\u043e\u0447\u0438\u0442.","\u0421\u0442\u0430\u0440\u0430\u0439\u0441\u044f! \u0411\u0435\u0437 \u0442\u0440\u0443\u0434\u0430 \u043d\u0435 \u0432\u044b\u043b\u043e\u0432\u0438\u0448\u044c \u0438 \u0440\u044b\u0431\u043a\u0443 \u0438\u0437 \u043f\u0440\u0443\u0434\u0430.","\u0422\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0441\u0451, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043c\u043d\u0438."];function Kt(t){let e=0;for(const n of t)n.realAnswer!==n.userAnswer&&e++;return e}class Gt{constructor(){this.items=[],this.selection=0}get currentItem(){return this.items[this.selection]}next(){this.selection=Math.min(this.selection+1,this.items.length)}prev(){this.selection=Math.max(this.selection-1,0)}addTeacher(t){this.items.push({who:"teacher",message:t})}addStudent(t){this.items.push({who:"student",message:t})}onStart(t){}onProgress(t){}onEnd(t){const e=Kt(t),n=t.length;var i;this.addTeacher(1==(i=(n-e)/n)?Object(d.d)(Nt):i>.9?Object(d.d)(zt):i>.8?Object(d.d)(Ft):i>.7?Object(d.d)(qt):i>.6?Object(d.d)(jt):Object(d.d)(Lt)),0===e?(this.addTeacher(Object(d.d)(Rt)),this.addTeacher(Object(d.d)(Dt)),this.addStudent(Object(d.d)(Vt))):1===e?(this.addTeacher(Object(d.d)(Et)),this.addStudent(Object(d.d)(Wt))):e>=2&&e<=4?(this.addTeacher(Object(d.d)(Ht).replace("$",""+e)),this.addStudent(Object(d.d)(Ut))):(this.addTeacher(Object(d.d)(Yt)),this.addStudent(Object(d.d)(Ut))),e>0&&this.markErrors(t)}markErrors(t){this.addTeacher(Object(d.d)(Qt));for(const e of t)e.userAnswer!==e.realAnswer&&(this.addTeacher(`<mark>${e.realAnswer}</mark>`),this.addStudent(`<strong>${e.realAnswer}</strong>`));this.addTeacher(Object(d.d)(Xt))}}const Jt={dances:[{src:"kitten-dance.webp",frames:[{left:116,right:270,top:560,bottom:588,width:180},{left:600,right:710,top:560,bottom:588,width:180},{left:180,right:284,top:530,bottom:568,width:150},{left:618,right:720,top:530,bottom:568,width:150},{left:226,right:330,top:512,bottom:540,width:110},{left:622,right:750,top:512,bottom:540,width:110},{left:212,right:738,top:418,width:100}]},{src:"rabbit-dance.webp",frames:[{left:100,right:280,top:554,bottom:582,width:200},{left:580,right:676,top:554,bottom:582,width:200},{left:200,right:280,top:530,bottom:568,width:160},{left:618,right:712,top:530,bottom:568,width:160},{left:218,right:338,top:500,bottom:520,width:140},{left:584,right:724,top:500,bottom:528,width:140},{left:210,right:710,top:403,width:120}]},{src:"doggy-dance.webp",frames:[{left:230,right:730,top:420,width:100},{left:224,right:320,top:510,bottom:554,width:120},{left:620,right:754,top:510,bottom:554,width:120},{left:200,right:292,top:554,bottom:578,width:140},{left:620,right:736,top:554,bottom:578,width:140},{left:180,right:290,top:580,bottom:610,width:160},{left:610,right:712,top:580,bottom:610,width:160}]}],jumps:[{src:"kitten-jump.webp",frames:[{left:870,top:117,width:58},{left:966,top:464,width:52},{left:60,right:68,top:22,width:72},{left:900,top:450,width:60},{left:108,top:230,width:100},{left:846,right:954,top:0,width:68},{left:228,right:742,top:400,width:80},{left:0,right:862,top:550,width:160}]},{src:"doggy-jump.webp",frames:[{left:870,top:117,width:58},{left:966,top:464,width:52},{left:130,right:136,top:17,width:80},{left:900,top:450,width:60},{left:108,top:230,width:100},{left:846,right:954,top:0,width:68},{left:228,right:742,top:400,width:80},{left:0,right:862,top:550,width:160}]},{src:"rabbit-jump.webp",frames:[{left:870,top:114,width:58},{left:970,top:460,width:48},{left:138,right:142,top:10,width:72},{left:898,top:435,width:60},{left:108,top:230,width:84},{left:846,right:964,top:0,width:58},{left:228,right:742,top:382,width:80},{left:0,right:862,top:510,width:160}]}],looks:[{src:"foxy-look.webp",frames:[{left:846,top:0,width:64},{left:228,top:394,width:80},{left:0,top:530,bottom:556,width:100},{left:0,top:560,bottom:586,width:120}]},{src:"tortoise-look.webp",frames:[{left:690,top:398,width:140},{left:690,top:556,width:200}]},{src:"rabbit-sneeze.webp",frames:[{left:676,top:388,width:150},{left:692,top:540,bottom:584,width:180},{left:904,top:0,width:120}]}],booms:[{src:"boom-1.webp",frames:[{left:0,right:588,top:0,bottom:588,width:588}]}]},Zt="assets/school/missing-letters/",te=["snare-flute","sneaky-xylophone","silly-baritone","swell-trombone","gramophone-1"];let ee=(()=>{class t{constructor(t,e){this._ref=t,this._zone=e,this._frameRequestId=0,this._frameCallback=t=>{l.A.assertNotInAngularZone(),this._frameRequestId=0,!this.pauseAnimation&&this.animationCallback&&(this.animationCallback(t,this._context2D),this._requestAnimationFrame())}}_requestAnimationFrame(){this._frameRequestId=requestAnimationFrame(this._frameCallback)}_startAnimation(){this._context2D&&!this.pauseAnimation&&this._zone.runOutsideAngular(()=>{this._frameRequestId||this._requestAnimationFrame()})}_stopAnimation(){this._frameRequestId&&(cancelAnimationFrame(this._frameRequestId),this._frameRequestId=0)}ngAfterViewInit(){var t;const e=null===(t=this._ref)||void 0===t?void 0:t.nativeElement;e&&"function"==typeof e.getContext&&(this._context2D=e.getContext("2d"),this._startAnimation())}ngOnDestroy(){this._stopAnimation()}ngOnChanges(){this.pauseAnimation?this._stopAnimation():this._startAnimation()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(l.l),l.Nb(l.A))},t.\u0275dir=l.Ib({type:t,selectors:[["","appCanvasAnimation",""]],inputs:{animationCallback:"animationCallback",pauseAnimation:"pauseAnimation"},features:[l.zb]}),t})();function ne(t,e){if(1&t&&(l.Tb(0,"span",2),l.Tb(1,"span",3),l.Ac(2),l.Sb(),l.Tb(3,"span",4),l.Ac(4),l.Sb(),l.Sb()),2&t){const t=l.ec();l.Bb(2),l.Bc(t.prefix),l.Bb(1),l.Fb("simple-diff-insert",!t.remove),l.Bb(1),l.Bc(t.insert)}}let ie=(()=>{class t{constructor(){this.clear()}clear(){this.prefix=this.suffix=this.remove=this.insert=""}ngOnChanges(){this.clear();const t=this.pastValue||"",e=this.nextValue||"";if(t===e)this.prefix=t;else{const n=Object(u.a)(t,e),i=n.length,s=Object(u.b)(t,e,i),o=s.length;this.prefix=n,this.suffix=s,this.remove=t.substring(i,t.length-o),this.insert=e.substring(i,e.length-o).replace(/\s+/g,"\xa0")}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-simple-diff"]],inputs:{pastValue:"pastValue",nextValue:"nextValue",hideChange:"hideChange"},features:[l.zb],decls:6,vars:6,consts:[[1,"simple-diff-frame"],["class","simple-diff-block",4,"ngIf"],[1,"simple-diff-block"],[2,"visibility","hidden"],[2,"display","inline-block"]],template:function(t,e){1&t&&(l.Tb(0,"span",0),l.yc(1,ne,5,4,"span",1),l.Ac(2),l.Tb(3,"span"),l.Ac(4),l.Sb(),l.Ac(5),l.Sb()),2&t&&(l.Bb(1),l.kc("ngIf",e.insert&&!e.hideChange),l.Bb(1),l.Cc(" ",e.prefix,""),l.Bb(1),l.Fb("simple-diff-error",!e.hideChange),l.Bb(1),l.Bc(e.remove),l.Bb(1),l.Cc("",e.suffix,"\n"))},directives:[i.l],styles:['@charset "UTF-8";@-webkit-keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes keyframes-error-in{0%{-webkit-text-decoration-color:rgba(255,0,0,0);text-decoration-color:rgba(255,0,0,0)}99%{-webkit-text-decoration-color:rgba(255,0,0,0);text-decoration-color:rgba(255,0,0,0)}to{-webkit-text-decoration-color:red;text-decoration-color:red}}@keyframes keyframes-error-in{0%{-webkit-text-decoration-color:rgba(255,0,0,0);text-decoration-color:rgba(255,0,0,0)}99%{-webkit-text-decoration-color:rgba(255,0,0,0);text-decoration-color:rgba(255,0,0,0)}to{-webkit-text-decoration-color:red;text-decoration-color:red}}span.simple-diff-frame[_ngcontent-%COMP%]{display:inline-block;position:relative}span.simple-diff-frame[_ngcontent-%COMP%]   span.simple-diff-insert[_ngcontent-%COMP%]{left:-.35em;position:relative;top:0}span.simple-diff-frame[_ngcontent-%COMP%]   span.simple-diff-insert[_ngcontent-%COMP%]:after{content:"\u2713";left:.05em;position:absolute;top:.44em}span.simple-diff-frame[_ngcontent-%COMP%]   span.simple-diff-error[_ngcontent-%COMP%]{-webkit-animation:keyframes-error-in 1s ease 0s 1 normal backwards;animation:keyframes-error-in 1s ease 0s 1 normal backwards;-webkit-text-decoration:red solid line-through;text-decoration:red solid line-through}span.simple-diff-frame[_ngcontent-%COMP%]   span.simple-diff-block[_ngcontent-%COMP%]{-webkit-animation:keyframes-fade-in 1s ease 1s 1 normal backwards;animation:keyframes-fade-in 1s ease 1s 1 normal backwards;color:red;display:inline-block;left:0;position:absolute;top:-.85em;width:-webkit-max-content;width:-moz-max-content;width:max-content}']}),t})();const se=["imageRef"];function oe(t,e){if(1&t&&l.Ob(0,"canvas",16),2&t){const t=l.ec(),e=l.pc(3);l.vc("left",e.offsetLeft,"px")("top",e.offsetTop,"px"),l.kc("animationCallback",t.sfx.animation)("width",e.offsetWidth)("height",e.offsetHeight)}}function ae(t,e){if(1&t&&l.Ob(0,"app-simple-diff",17),2&t){const t=e.$implicit;l.kc("pastValue",t.userAnswer)("nextValue",t.realAnswer)}}function re(t,e){if(1&t&&(l.Tb(0,"span"),l.Tb(1,"span"),l.Ac(2),l.Sb(),l.Tb(3,"span",18),l.Ac(4),l.Sb(),l.Tb(5,"span"),l.Ac(6),l.Sb(),l.Sb()),2&t){const t=l.ec();l.Fb("missing-letters-input",!t.isAnswered),l.Bb(2),l.Bc(t.quizPrefix),l.Bb(2),l.Bc(t.quizUserAnswer),l.Bb(2),l.Bc(t.quizSuffix)}}function ce(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",19),l.ac("click",function(){return l.rc(t),l.ec().onAudioClick()}),l.Sb()}if(2&t){const t=l.ec();l.Fb("active",t.isAudioPlaying)}}function le(t,e){if(1&t){const t=l.Ub();l.Tb(0,"button",20),l.ac("click",function(){return l.rc(t),l.ec().onStart()}),l.Ac(1,"START"),l.Sb()}}function de(t,e){if(1&t){const t=l.Ub();l.Tb(0,"button",22),l.ac("click",function(){l.rc(t);const n=e.$implicit,i=l.ec(2),s=l.pc(3);return i.onAnswer(n,s)}),l.Ac(1),l.Sb()}if(2&t){const t=e.$implicit,n=l.ec(2);l.kc("disabled",n.isAnswered),l.Bb(1),l.Bc(t||"_")}}function he(t,e){if(1&t&&(l.Rb(0),l.yc(1,de,2,2,"button",21),l.Qb()),2&t){const t=l.ec();l.Bb(1),l.kc("ngForOf",t.questions)("ngForTrackBy",t.trackByIndex)}}function ue(t,e){if(1&t){const t=l.Ub();l.Tb(0,"button",20),l.ac("click",function(){return l.rc(t),l.ec().onRestart()}),l.Ac(1,"RESTART"),l.Sb()}}function me(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",23),l.ac("click",function(){return l.rc(t),l.ec().chatBot.next()}),l.Tb(1,"div"),l.Ob(2,"div",24),l.Sb(),l.Sb()}if(2&t){const t=e.ngIf;l.Bb(1),l.Db("teacher"===t.who?"missing-letters-teacher":"missing-letters-student"),l.Bb(1),l.kc("innerHTML",t.message,l.sc)}}let ge=(()=>{class t{constructor(t,e){this._http=t,this._route=e,this.imageStyles={display:"none"},this.quizes=[],this.answers=[],this.quizPrefix="",this.quizSuffix="",this.quizUserAnswer="",this.quizRealAnswer="",this.questions=[],this.chatBot=new Gt,this.audio=new Audio,this.audioPlaybackRate=1,this.isAudioEnabled=!0,this.isAudioPlaying=!1,this.state="loading",this.fontSize=24,this.fontSizeMin=12,this.fontSizeMax=40}get isVictory(){return"done"===this.state&&0===Kt(this.answers)}ngOnInit(){this.audio.onended=()=>this.isAudioPlaying=!1,this.audio.onerror=()=>this.isAudioPlaying=!1,this.audio.onplay=()=>this.isAudioPlaying=!0;const t=(this._route.snapshot.queryParams.game||"").replace(/[^a-z\-_\.0-9]+/gim,"");t&&this._http.get(Zt+t+".json").subscribe(t=>{this.gameData=t,this.state="ready"})}onStart(){this.sfx=void 0,this.answers=[],this.quizes=Object.keys(this.gameData),this.state="active",this.nextQuiz()}onRestart(){this.onStart()}nextQuiz(){const t=this.quizes;if(t.length>0){const e=Math.floor(Math.random()*t.length),n=t[e];return this.setQuiz(n),t.splice(e,1),this.setAudio(this.gameData[n]),!0}if(this.state="done",this.chatBot.onEnd(this.answers),0===Kt(this.answers)){const t=Math.random();if(t<.3)this.sfx=new Tt;else if(t<.7){const t=new Bt;t.speed=Object(g.k)(100,600),t.particleCount=Object(g.k)(25,350),this.sfx=t}else{const t=new $t;t.particleCount=Object(g.k)(3,10),this.sfx=t}}return!1}setQuiz(t){const e=/\([^)]+\)|./g,n=[];let i=0;for(;;){const s=e.exec(t);if(!s)break;{const t=s[0];if(t.length>1){const e=t.substring(1,t.length-1).split("|");n.push({value:e[0],questions:e}),i++}else 1===t.length&&n.push({value:t})}}if(i>1){const t=Math.floor(Math.random()*i);for(const e of n)e.questions&&--i!==t&&(e.questions=null)}let s="";for(const o of n)o.questions?(this.quizPrefix=s,s="",this.quizRealAnswer=o.questions[0],this.questions=o.questions,this.questions.sort()):s+=o.value;this.quizSuffix=s,this.isAnswered=!1,this.quizUserAnswer="_"}setAudio(t){t&&(this.audio.src=Zt+"audio/"+t+".mp3",this.audioPlaybackRate=1,this.playAudio())}playAudio(){this.isAudioEnabled&&this.audio.src&&(this.audio.load(),this.audio.playbackRate=this.audioPlaybackRate,this.audio.play(),this.audioPlaybackRate=Math.max(.95*this.audioPlaybackRate,.5))}onAudioClick(){"done"===this.state?0===Kt(this.answers)&&this.setAudio(Object(d.d)(te)):this.playAudio()}onAnswer(t,e){this.clearImage(),this.isAnswered=!0,this.quizUserAnswer=t;const n=this.quizPrefix+this.quizUserAnswer+this.quizSuffix,i=this.quizPrefix+this.quizRealAnswer+this.quizSuffix;setTimeout(()=>{var t;const e=null===(t=this.imageRef)||void 0===t?void 0:t.nativeElement;if(e){const t=n===i?0===this.quizes.length&&0===Kt(this.answers)?Jt.dances:Jt.jumps:Jt.looks,s=Object(d.d)(t);e.src=Zt+s.src;const o=Object(d.d)(s.frames),a="number"==typeof o.right?Object(g.k)(o.left,o.right):o.left,r="number"==typeof o.bottom?Object(g.k)(o.top,o.bottom):o.top;this.imageStyles={position:"absolute",left:a+"px",top:r+"px",width:o.width+"px"}}},10),setTimeout(()=>{this.answers.push({userAnswer:n,realAnswer:i}),this.nextQuiz(),setTimeout(()=>{e.scrollTop=e.scrollHeight},100)},1e3)}trackByIndex(t){return t}clearImage(){var t;const e=null===(t=this.imageRef)||void 0===t?void 0:t.nativeElement;e&&(e.src=""),this.imageStyles={display:"none"}}explodeImage(){var t;const e=null===(t=this.imageRef)||void 0===t?void 0:t.nativeElement;if(e){const t=Object(d.d)(Jt.booms);e.src=Zt+t.src}}onMouseMove(t,e){if(this.sfx){const n=e.getBoundingClientRect();this.sfx.mouse={x:t.clientX-n.left,y:t.clientY-n.top}}}onMouseOut(){this.sfx&&(this.sfx.mouse=void 0)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(s.a),l.Nb(a.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-missing-letters"]],viewQuery:function(t,e){if(1&t&&l.Fc(se,1),2&t){let t;l.oc(t=l.bc())&&(e.imageRef=t.first)}},decls:23,vars:14,consts:[[1,"missing-letters-frame"],["class","missing-letters-sfx","appCanvasAnimation","",3,"animationCallback","left","top","width","height",4,"ngIf"],[1,"missing-letters-board",3,"mousemove","mouseout"],["board",""],[3,"pastValue","nextValue",4,"ngFor","ngForOf"],[3,"missing-letters-input",4,"ngIf"],["class","missing-letters-audio",3,"active","click",4,"ngIf"],[1,"missing-letters-effects",3,"ngStyle","click"],["imageRef",""],[1,"missing-letters-front"],[3,"click",4,"ngIf"],[4,"ngIf"],["mat-fab","","color","warn",2,"position","absolute","left","872px","top","220px",3,"click"],["mat-fab","","color","primary",2,"position","absolute","left","960px","top","132px",3,"disabled","click"],["mat-fab","","color","primary",2,"position","absolute","left","954px","top","204px",3,"disabled","click"],["class","missing-letters-popup",3,"click",4,"ngIf"],["appCanvasAnimation","",1,"missing-letters-sfx",3,"animationCallback","width","height"],[3,"pastValue","nextValue"],[1,"missing-letters-answer"],[1,"missing-letters-audio",3,"click"],[3,"click"],[3,"disabled","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"disabled","click"],[1,"missing-letters-popup",3,"click"],[1,"missing-letters-message",3,"innerHTML"]],template:function(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",0),l.yc(1,oe,1,7,"canvas",1),l.Tb(2,"div",2,3),l.ac("mousemove",function(n){l.rc(t);const i=l.pc(3);return e.onMouseMove(n,i)})("mouseout",function(){return e.onMouseOut()}),l.yc(4,ae,1,2,"app-simple-diff",4),l.yc(5,re,7,5,"span",5),l.Sb(),l.yc(6,ce,1,2,"div",6),l.Tb(7,"img",7,8),l.ac("click",function(){return e.explodeImage()}),l.Sb(),l.Tb(9,"div",9),l.yc(10,le,2,0,"button",10),l.yc(11,he,2,2,"ng-container",11),l.yc(12,ue,2,0,"button",10),l.Sb(),l.Tb(13,"button",12),l.ac("click",function(){return e.isAudioEnabled=!e.isAudioEnabled}),l.Tb(14,"mat-icon"),l.Ac(15),l.Sb(),l.Sb(),l.Tb(16,"button",13),l.ac("click",function(){return e.fontSize=e.fontSize-(e.fontSizeMin>=e.fontSize?0:1)}),l.Tb(17,"mat-icon"),l.Ac(18,"zoom_out"),l.Sb(),l.Sb(),l.Tb(19,"button",14),l.ac("click",function(){return e.fontSize=e.fontSize+(e.fontSize>=e.fontSizeMax?0:1)}),l.Tb(20,"mat-icon"),l.Ac(21,"zoom_in"),l.Sb(),l.Sb(),l.yc(22,me,3,3,"div",15),l.Sb()}2&t&&(l.Bb(1),l.kc("ngIf",e.sfx&&!e.chatBot.currentItem),l.Bb(1),l.vc("font-size",e.fontSize,"px"),l.Bb(2),l.kc("ngForOf",e.answers),l.Bb(1),l.kc("ngIf","active"===e.state),l.Bb(1),l.kc("ngIf",e.isAudioEnabled),l.Bb(1),l.kc("ngStyle",e.imageStyles),l.Bb(3),l.kc("ngIf","ready"===e.state),l.Bb(1),l.kc("ngIf","active"===e.state),l.Bb(1),l.kc("ngIf","done"===e.state),l.Bb(3),l.Bc(e.isAudioEnabled?"volume_up":"volume_off"),l.Bb(1),l.kc("disabled",e.fontSizeMin>=e.fontSize),l.Bb(3),l.kc("disabled",e.fontSize>=e.fontSizeMax),l.Bb(3),l.kc("ngIf",e.chatBot.currentItem))},directives:[i.l,i.k,i.m,C.a,H.a,ee,ie],styles:['@charset "UTF-8";@-webkit-keyframes keyframes-heartbeat{0%{opacity:1}40%{opacity:1}43%{opacity:0}to{opacity:1}}@keyframes keyframes-heartbeat{0%{opacity:1}40%{opacity:1}43%{opacity:0}to{opacity:1}}@-webkit-keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes keyframes-fade-in-alt{0%{opacity:0}to{opacity:1}}@keyframes keyframes-fade-in-alt{0%{opacity:0}to{opacity:1}}@-webkit-keyframes keyframes-breath{0%{transform:scale(1)}15%{transform:scaleY(1.05) translateY(-5px)}50%{transform:scale(1)}85%{transform:scaleY(1.075) translateY(-8px)}to{transform:scale(1)}}@keyframes keyframes-breath{0%{transform:scale(1)}15%{transform:scaleY(1.05) translateY(-5px)}50%{transform:scale(1)}85%{transform:scaleY(1.075) translateY(-8px)}to{transform:scale(1)}}div.missing-letters-frame[_ngcontent-%COMP%]{background-color:#7fffd4;background-image:url(board.4ec1c6648efcc3f0d49c.png);background-repeat:no-repeat;background-size:100% 100%;height:768px;position:relative;width:1024px}div.missing-letters-frame[_ngcontent-%COMP%]   .missing-letters-sfx[_ngcontent-%COMP%]{-webkit-animation:keyframes-fade-in 1s ease 1;animation:keyframes-fade-in 1s ease 1;position:absolute}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-board[_ngcontent-%COMP%]{align-content:flex-start;align-items:flex-start;color:#eee;display:flex;flex-wrap:wrap;height:calc(484px - 1em);justify-content:flex-start;left:226px;line-height:2em;overflow-x:hidden;overflow-y:auto;padding:.5em;position:absolute;top:28px;width:calc(604px - 1em)}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-board[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:after{content:",\xa0"}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-board[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child:after{color:transparent;visibility:hidden}div.missing-letters-frame[_ngcontent-%COMP%]   span.missing-letters-answer[_ngcontent-%COMP%], div.missing-letters-frame[_ngcontent-%COMP%]   span.missing-letters-input[_ngcontent-%COMP%]{-webkit-animation:keyframes-fade-in 1s ease 1;animation:keyframes-fade-in 1s ease 1}div.missing-letters-frame[_ngcontent-%COMP%]   span.missing-letters-input[_ngcontent-%COMP%]   .missing-letters-answer[_ngcontent-%COMP%]{-webkit-animation:keyframes-heartbeat 2s linear infinite;animation:keyframes-heartbeat 2s linear infinite;padding-left:.075em;padding-right:.075em}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-audio[_ngcontent-%COMP%]{background-color:transparent;background-image:url(phonograph.e62f307fd663fa6ffac6.png);background-repeat:no-repeat;background-size:100% 100%;cursor:pointer;height:228px;left:30px;position:absolute;top:525px;width:200px}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-audio.active[_ngcontent-%COMP%]{-webkit-animation:keyframes-breath 1s linear .2s infinite;animation:keyframes-breath 1s linear .2s infinite}div.missing-letters-frame[_ngcontent-%COMP%]   img.missing-letters-effects[_ngcontent-%COMP%]{-webkit-animation:keyframes-fade-in .5s ease;animation:keyframes-fade-in .5s ease}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-front[_ngcontent-%COMP%]{align-items:flex-start;background-color:transparent;display:flex;height:240px;justify-content:center;left:200px;pointer-events:none;position:absolute;top:526px;width:658px}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-front[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background:radial-gradient(#00d090 0,rgba(112,208,160,.8) 100%);border:none;border-radius:50%/50%;box-shadow:4px 4px 2px rgba(0,0,0,.3333333333333333);color:#eee;cursor:pointer;display:inline-block;font-size:40px;margin:24px;min-height:98px;min-width:98px;pointer-events:auto;text-decoration:none}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-front[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background:radial-gradient(#70d0a0 0,rgba(0,208,144,.8) 100%);font-size:44px}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-front[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active, div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-front[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px rgba(15,80,64,.8),4px 4px 2px rgba(0,0,0,.3333333333333333);outline:none}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-front[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{font-size:36px;opacity:.9}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-front[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled{background:radial-gradient(#888 0,#555 100%);color:#aaa;opacity:.6}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]{background-color:rgba(34,34,34,.13333333333333333);height:100%;left:0;position:absolute;top:0;width:100%}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]   div.missing-letters-message[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:center;position:relative;text-align:center}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]   div.missing-letters-student[_ngcontent-%COMP%], div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]   div.missing-letters-teacher[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease;animation-timing-function:ease;background-color:transparent;background-repeat:no-repeat;background-size:100% 100%;position:relative}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]   div.missing-letters-teacher[_ngcontent-%COMP%]{-webkit-animation-name:keyframes-fade-in;animation-name:keyframes-fade-in;background-image:url(speech-bubble.d3e5271e6c9810001363.png);height:253px;left:135px;top:5px;width:339px}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]   div.missing-letters-teacher[_ngcontent-%COMP%]   div.missing-letters-message[_ngcontent-%COMP%]{color:#700000;font-size:32px;height:140px;left:20px;line-height:1.1em;top:38px;width:284px}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]   div.missing-letters-student[_ngcontent-%COMP%]{-webkit-animation-name:keyframes-fade-in-alt;animation-name:keyframes-fade-in-alt;background-image:url(speech-bubble-small.3c897c002993c604083f.png);height:175px;left:582px;top:334px;width:289px}div.missing-letters-frame[_ngcontent-%COMP%]   div.missing-letters-popup[_ngcontent-%COMP%]   div.missing-letters-student[_ngcontent-%COMP%]   div.missing-letters-message[_ngcontent-%COMP%]{color:#000070;font-size:32px;height:122px;left:14px;line-height:1.1em;top:22px;width:222px}']}),t})();var pe=n("FKr1");function fe(t,e){1&t&&(l.dc(),l.Ob(0,"path")),2&t&&l.Cb("d",e.$implicit.path||"M0 0z")}function be(t,e){if(1&t){const t=l.Ub();l.Tb(0,"span",8),l.ac("click",function(){l.rc(t);const n=e.index,i=l.ec().index;return l.ec().onSelect(n,i)}),l.Ac(1),l.Sb()}if(2&t){const t=e.$implicit;l.Bb(1),l.Bc(t)}}function xe(t,e){if(1&t&&(l.Tb(0,"div"),l.yc(1,be,2,1,"span",7),l.Sb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("ngForOf",t)}}let ve=(()=>{class t{constructor(){this.showFrame=!0,this.activeSelection=-1,this.selectionList=[],this.selectionChange=new l.n,this.letters=[]}set letters(t){this._letters=t;const e=t.length,n=e>0?t[0].length:0;this.colNum=2+n,this.rowNum=2+e,this.pathFrame=function(t,e){const n=t>2?"q.5 -1 1 0".repeat(t-2):"h-2",i=t>2?"q-.5 1-1 0".repeat(t-2):"h 2";return`M0 1q-2-3 1-1${n}q 3-2 1 1${e>2?"q 1 .5 0 1".repeat(e-2):"v-2"}q 2 3-1 1${i}q-3 2-1-1${e>2?"q-1-.5 0-1".repeat(e-2):"v 2"}z`}(n,e)}get letters(){return this._letters}ngOnInit(){}onSelect(t,e){const n=this.selectionList[this.activeSelection];n&&(n.segment&&n.segment.x1===t&&n.segment.x2===t&&n.segment.y1===e&&n.segment.y2===e?(n.segment=void 0,n.path=void 0):(n.segment=function(t,e,n){if(n&&function(t,e,n){return(e-t.x1)*(t.y2-t.y1)==(n-t.y1)*(t.x2-t.x1)}(n,t,e)){const{x1:i,x2:s,y1:o,y2:a}=n;if(t===i&&i===s)return e<o?{x1:i,x2:s,y1:e,y2:a}:{x1:i,x2:s,y1:o,y2:e};if(e===o&&o===a)return t<i?{y1:o,y2:a,x1:t,x2:s}:{y1:o,y2:a,x1:i,x2:t};if(Math.abs(t-i)===Math.abs(e-o))return t<i?{x1:t,x2:s,y1:e,y2:a}:{x1:i,x2:t,y1:o,y2:e}}return{x1:t,y1:e,x2:t,y2:e}}(t,e,n.segment),n.path=function(t){const{x1:e,y1:n,x2:i,y2:s}=t,o=i-e,a=s-n;let r=0,c=0,l="";return o>0?0===a?(r=e+.5+.354,c=n+.146,l="a.2 .2 0 0 0 .3 0a.5 .5 0 0 1 .7 0".repeat(o-1)+"a.2 .2 0 0 0 .3 0a.5 .5 0 1 1 0 .7"+"a.2 .2 0 0 0-.3 0a.5 .5 0 0 1-.7 0".repeat(o-1)+"a.2 .2 0 0 0-.3 0a.5 .5 0 1 1 0-.7"):o===a?(r=e+1,c=n+.5,l="a.5 .5 0 0 0 .5 .5a.5 .5 0 0 1 .5 .5".repeat(o-1)+"a.5 .5 0 0 0 .5 .5a.5 .5 0 1 1-.5 .5"+"a.5 .5 0 0 0-.5-.5a.5 .5 0 0 1-.5-.5".repeat(o-1)+"a.5 .5 0 0 0-.5-.5a.5 .5 0 1 1 .5-.5"):o===-a&&(r=e+.5,c=n,l="a.5 .5 0 0 0 .5-.5a.5 .5 0 0 1 .5-.5".repeat(o-1)+"a.5 .5 0 0 0 .5-.5a.5 .5 0 1 1 .5 .5"+"a.5 .5 0 0 0-.5 .5a.5 .5 0 0 1-.5 .5".repeat(o-1)+"a.5 .5 0 0 0-.5 .5a.5 .5 0 1 1-.5-.5"):0===o&&(a>0?(r=e+1-.146,c=n+.5+.354,l="a.2 .2 0 0 0 0 .3a.5 .5 0 0 1 0 .7".repeat(a-1)+"a.2 .2 0 0 0 0 .3a.5 .5 0 1 1-.7 0"+"a.2 .2 0 0 0 0-.3a.5 .5 0 0 1 0-.7".repeat(a-1)+"a.2 .2 0 0 0 0-.3a.5 .5 0 1 1 .7 0"):0===a&&(r=e+.5,c=n,l="a.5 .5 0 0 1 0 1a.5 .5 0 0 1 0 -1")),`M${r} ${c}${l}z`}(n.segment)),this.selectionChange.emit(n))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-letter-board"]],inputs:{letters:"letters",showFrame:"showFrame",activeSelection:"activeSelection",selectionList:"selectionList"},outputs:{selectionChange:"selectionChange"},decls:8,vars:7,consts:[[3,"colNum","rowNum"],["appContentSvg",""],["transform","translate(1 1)"],[1,"letter-board-frame"],[1,"letter-board-selections"],[4,"ngFor","ngForOf"],[1,"letter-board"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){1&t&&(l.Tb(0,"app-squared-paper",0),l.dc(),l.Tb(1,"svg",1),l.Tb(2,"g",2),l.Ob(3,"path",3),l.Tb(4,"g",4),l.yc(5,fe,1,1,"path",5),l.Sb(),l.Sb(),l.Sb(),l.cc(),l.Tb(6,"div",6),l.yc(7,xe,2,1,"div",5),l.Sb(),l.Sb()),2&t&&(l.kc("colNum",e.colNum)("rowNum",e.rowNum),l.Bb(3),l.Fb("letter-board-frame-active",e.showFrame),l.Cb("d",e.pathFrame),l.Bb(2),l.kc("ngForOf",e.selectionList),l.Bb(2),l.kc("ngForOf",e.letters))},directives:[P,i.k],styles:[".letter-board[_ngcontent-%COMP%]{margin-left:24px;margin-top:24px}.letter-board[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;max-width:24px;min-width:24px;text-align:center;width:24px}.letter-board[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 4px rgba(0,0,0,.5333333333333333);color:#008;outline:2px outset rgba(0,0,136,.5333333333333333)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:rgba(68,68,68,.9333333333333333);stroke-width:.1px}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+1){fill:rgba(255,0,0,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+2){fill:rgba(0,255,0,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+3){fill:rgba(0,0,255,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+4){fill:rgba(255,255,0,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+5){fill:rgba(0,255,255,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+6){fill:rgba(255,0,255,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+7){fill:rgba(136,0,0,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+8){fill:rgba(0,136,0,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+9){fill:rgba(0,0,136,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n){fill:rgba(136,0,136,.26666666666666666)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:last-of-type{fill:hsla(0,0%,93.3%,.9333333333333333);stroke:rgba(221,0,221,.5333333333333333)}path.letter-board-frame[_ngcontent-%COMP%]{stroke:none;fill:transparent;transition:fill 2s linear}path.letter-board-frame.letter-board-frame-active[_ngcontent-%COMP%]{fill:rgba(0,136,0,.5333333333333333)}"]}),t})();const ye=["main"],we=["*"];function ke(t,e){1&t&&(l.Tb(0,"div"),l.Ac(1,"Loading..."),l.Sb())}function Me(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",10),l.ac("click",function(){l.rc(t);const n=e.$implicit;return l.ec(3).onAnswerClick(n)}),l.Tb(1,"span"),l.Ac(2),l.Sb(),l.Sb()}if(2&t){const t=e.$implicit,n=e.last,i=l.ec(3);l.vc("transform",i.getSvgAnswerLayout(t).translate)("width",i.getSvgAnswerLayout(t).width)("height",i.getSvgAnswerLayout(t).height)("line-height",i.getSvgAnswerLayout(t).height),l.Fb("word-search-game-answer-next",n),l.Bb(2),l.Bc(t.value)}}function Ce(t,e){if(1&t&&(l.Tb(0,"div",8),l.yc(1,Me,3,11,"div",9),l.Sb()),2&t){const t=l.ec(2);l.Bb(1),l.kc("ngForOf",t.answers)("ngForTrackBy",t.trackByIndex)}}function _e(t,e){if(1&t&&l.yc(0,Ce,2,2,"div",7),2&t){const t=l.ec(),e=l.pc(1);l.kc("ngIf",t.gameSvg)("ngIfElse",e)}}function Oe(t,e){1&t&&(l.Tb(0,"mat-icon",11),l.Ac(1," emoji_events"),l.Sb())}function Se(t,e){if(1&t){const t=l.Ub();l.Tb(0,"app-word-search-game-svg",17),l.ac("itemChange",function(e){return l.rc(t),l.ec(2).onQuestionClick(e)}),l.Sb()}if(2&t){const t=l.ec(2);l.Fb("word-search-game-svg-done",t.isDone),l.kc("game",t.gameSvg)}}function Pe(t,e){if(1&t){const t=l.Ub();l.Tb(0,"li",10),l.ac("click",function(){l.rc(t);const n=e.$implicit;return l.ec(3).onQuestionClick(n.value)}),l.Tb(1,"mat-icon",5),l.Ac(2,"volume_up"),l.Sb(),l.Tb(3,"span"),l.Ac(4),l.Sb(),l.Sb()}if(2&t){const t=e.$implicit;l.Bb(4),l.Bc(t.value)}}function Te(t,e){if(1&t){const t=l.Ub();l.Tb(0,"li",10),l.ac("click",function(){l.rc(t);const n=e.$implicit;return l.ec(3).onAnswerClick(n)}),l.Tb(1,"span"),l.Ac(2),l.Sb(),l.Sb()}if(2&t){const t=e.$implicit,n=e.last;l.vc("transform",t.transform),l.Fb("word-search-game-answer-next",n)("word-search-game-answer-last",t.isLast),l.Bb(2),l.Bc(t.value)}}function Ie(t,e){if(1&t&&(l.Tb(0,"div",18),l.Tb(1,"ul",19),l.yc(2,Pe,5,1,"li",20),l.Sb(),l.Tb(3,"ul",8),l.yc(4,Te,3,7,"li",21),l.Sb(),l.Sb()),2&t){const t=l.ec(2);l.Bb(2),l.kc("ngForOf",t.questions)("ngForTrackBy",t.trackByIndex),l.Bb(2),l.kc("ngForOf",t.answers)("ngForTrackBy",t.trackByIndex)}}function Be(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",12),l.yc(1,Se,1,3,"app-word-search-game-svg",13),l.Tb(2,"div",14),l.Tb(3,"app-letter-board",15),l.ac("selectionChange",function(e){return l.rc(t),l.ec().onSelectionChange(e)}),l.Sb(),l.Sb(),l.yc(4,Ie,5,4,"div",16),l.Sb()}if(2&t){const t=l.ec(),e=l.pc(3);l.Fb("word-search-game-svg",!!t.gameSvg),l.Bb(1),l.kc("ngIf",t.gameSvg),l.Bb(1),l.vc("transform",null==t.gameSVGLayout?null:t.gameSVGLayout.board.translate),l.Bb(1),l.kc("showFrame",t.isDone)("letters",t.letters)("selectionList",t.answers)("activeSelection",t.activeAnswerIndex),l.Bb(1),l.kc("ngIf",!t.hasSvg)("ngIfElse",e)}}const Ae="word-search-game-svg";let $e=(()=>{class t{constructor(t){this._r2=t,this.itemChange=new l.n,this.width=0,this.height=0}ngAfterViewInit(){const t=this.game;if(t){const e=this.mainRef.nativeElement;e&&setTimeout(()=>{const n=function(t){let e=1024,n=768;if(t){const i=t.split(/[\s,]+/gm).map(t=>+t),s=i[2]-i[0],o=i[3]-i[1];s>0&&(e=s),o>0&&(n=o)}return{width:e,height:n}}(t.getAttribute("viewBox"));this.width=n.width,this.height=n.height,t.querySelectorAll(`g.${Ae}-questions > path`).forEach(t=>{const e=t.id.substring(t.tagName.length);t.onclick=()=>this.itemChange.emit(e)}),this._r2.appendChild(e,t)})}}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(l.F))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-word-search-game-svg"]],viewQuery:function(t,e){if(1&t&&l.Fc(ye,1,l.l),2&t){let t;l.oc(t=l.bc())&&(e.mainRef=t.first)}},inputs:{game:"game"},outputs:{itemChange:"itemChange"},ngContentSelectors:we,decls:3,vars:4,consts:[[2,"position","relative"],["main",""]],template:function(t,e){1&t&&(l.jc(),l.Tb(0,"div",0,1),l.ic(2),l.Sb()),2&t&&l.vc("width",e.width,"px")("height",e.height,"px")},encapsulation:2}),t})();function Ne(t){return`translateY(${-1-t}50%)`}function ze(t,e){const n={},i=t.querySelector(e);if(i){const t=i.getAttribute("x"),e=i.getAttribute("y"),s=i.getAttribute("width"),o=i.getAttribute("height");n.translate=`translate(${t||"0"}px, ${e||"0"}px)`,n.width=s?s+"px":"inherit",n.height=o?o+"px":"inherit"}return n}function Fe(t,e,n){const i={};for(const s of n)i[s.answerValue]=ze(t,e+s.value);return i}let qe=(()=>{class t{constructor(t,e,n,i){this._route=t,this._http=e,this._iconRegistry=n,this._sanitizer=i}get isDone(){return this.questions&&this.answers&&this.answers.length>this.questions.length}get activeAnswerIndex(){return this.answers?this.answers.length-1:-1}ngOnInit(){const t=this._route.snapshot.queryParams,e=t.game;if(e){const n="assets/school/english/word-search-game/"+e+"/";this._http.get(n+"data.json").subscribe(i=>{this.mission=i.mission;const s=+t.index,o=s>0&&s<=i.puzzles.length?i.puzzles[s-1]:Object(d.d)(i.puzzles),a=i.blank||" ";if(this.letters=function(t,e,n){return function(t,e){if(e)return t.split(e);{const e=Math.floor(Math.sqrt(t.length)),n=Array(e);for(let i=0;i<e;i++)n[i]=t.substring(i*e,(i+1)*e);return n}}(t,n).map(t=>t.split("").map(e))}(o,t=>t===a?Object(u.d)(i.letters):t,i.liner),this.questions=Object.keys(i.answers).map((t,e)=>{const s=i.answers[t],o="string"==typeof s?s:s[0],a=new Audio;return a.src=n+"audio/"+o+".mp3",{index:e,value:o,answerValue:t,answerIndex:-1,audio:a}}),this.answers=[],this._nextAnswer(),this.name=e,i.hasSvg){this.hasSvg=!0;const t=this._sanitizer.bypassSecurityTrustResourceUrl(n+"data.svg");this._iconRegistry.getSvgIconFromUrl(t).subscribe(t=>{var e,n;this.gameSvg=t,this.gameSVGLayout=(n=this.questions,{board:ze(e=t,`rect.${Ae}-board`),prompt:ze(e,`rect.${Ae}-prompt`),answers:Fe(e,`rect#${Ae}-answer`,n)})})}})}}_nextAnswer(){const t=this.answers.length;this.answers.push({index:t,value:"",transform:Ne(t)})}onAnswerClick(t){const e=this.answers[this.activeAnswerIndex];t===e?(e.segment=void 0,e.path=void 0,e.value=""):(e.segment=t.segment,e.path=t.path,e.value=t.value)}onQuestionClick(t){const e=this.questions.find(e=>e.value===t);if(e){e.audio.load(),e.audio.play();const t=e.answerIndex>=0?e.answerIndex:this.activeAnswerIndex;t>=0&&this.onAnswerClick(this.answers[t])}}onSelectionChange(t){if(t.segment){const{x1:e,y1:n,x2:i,y2:s}=t.segment,o=i-e,a=s-n,r=Math.max(Math.abs(o),Math.abs(a));t.value=this.letters[n][e];for(let l=1;l<=r;l++)t.value+=this.letters[n+a*l/r][e+o*l/r];const c=this.questions.find(e=>e.answerIndex<0&&e.answerValue===t.value);c&&(c.answerIndex=t.index,t.isLast=c.index+1===this.questions.length,t.transform=`translateY(${c.index-t.index}00%)`,this._nextAnswer())}else t.value=""}trackByIndex(t){return t}getSvgAnswerLayout(t){return t.index===this.activeAnswerIndex?this.gameSVGLayout.prompt:this.gameSVGLayout.answers[t.value]}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(a.a),l.Nb(s.a),l.Nb(H.c),l.Nb(Y.b))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-word-search-game"]],decls:12,vars:3,consts:[["templateLoadSvg",""],["templateGameSvg",""],[1,"word-search-game-title"],["color","accent","style","vertical-align: text-top; transform: translate(-10px, -10px)",4,"ngIf"],[1,"word-search-game-info"],["color","primary"],["class","word-search-game",3,"word-search-game-svg",4,"ngIf"],["class","word-search-game-answers",4,"ngIf","ngIfElse"],[1,"word-search-game-answers"],["matRipple","",3,"word-search-game-answer-next","transform","width","height","line-height","click",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",3,"click"],["color","accent",2,"vertical-align","text-top","transform","translate(-10px, -10px)"],[1,"word-search-game"],[3,"word-search-game-svg-done","game","itemChange",4,"ngIf"],[1,"word-search-game-board"],[3,"showFrame","letters","selectionList","activeSelection","selectionChange"],["class","word-search-game-plan",4,"ngIf","ngIfElse"],[3,"game","itemChange"],[1,"word-search-game-plan"],[1,"word-search-game-questions"],["matRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",3,"word-search-game-answer-next","word-search-game-answer-last","transform","click",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(t,e){1&t&&(l.yc(0,ke,2,0,"ng-template",null,0,l.zc),l.yc(2,_e,1,2,"ng-template",null,1,l.zc),l.Tb(4,"h2",2),l.Ac(5," Word Search Puzzle "),l.yc(6,Oe,2,0,"mat-icon",3),l.Sb(),l.Tb(7,"p",4),l.Tb(8,"mat-icon",5),l.Ac(9,"info"),l.Sb(),l.Ac(10),l.Sb(),l.yc(11,Be,5,11,"div",6)),2&t&&(l.Bb(6),l.kc("ngIf",e.isDone),l.Bb(4),l.Cc(" ",e.mission,"\n"),l.Bb(1),l.kc("ngIf",e.letters))},directives:[i.l,H.a,i.k,pe.l,ve,$e],styles:[".word-search-game-title[_ngcontent-%COMP%]{padding-left:72px;padding-top:12px}.word-search-game-info[_ngcontent-%COMP%]{padding-left:24px}.word-search-game[_ngcontent-%COMP%]{align-content:flex-start;align-items:flex-start;display:flex;flex-direction:row;flex-wrap:wrap}.word-search-game-board[_ngcontent-%COMP%]{padding-bottom:24px;padding-left:24px}.word-search-game-plan[_ngcontent-%COMP%]{background:linear-gradient(#eef,#eae);border:1px solid #ddf;border-radius:0 0 6px 6px;border-top:none;display:flex;flex-direction:row;margin-bottom:24px;margin-left:24px;padding-top:48px}.word-search-game-plan[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:20px;list-style-type:none;padding:0}.word-search-game-plan[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{align-items:center;background-color:rgba(153,153,255,.13333333333333333);cursor:pointer;display:flex;flex-direction:row;height:24px;max-height:24px;min-height:24px;padding-left:12px;padding-right:0}.word-search-game-questions[_ngcontent-%COMP%]{margin:0;min-width:119px}.word-search-game-questions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:rgba(153,153,255,.26666666666666666);color:#63b}.word-search-game-questions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-radius:0 0 0 6px}.word-search-game-answers[_ngcontent-%COMP%]{font-size:20px;margin:0 0 -24px;min-width:167px}.word-search-game-answers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:all 2s cubic-bezier(.5,-.5,.25,1.5)}.word-search-game-answers[_ngcontent-%COMP%]   li.word-search-game-answer-last[_ngcontent-%COMP%]{border-radius:0 0 6px 0}.word-search-game-answers[_ngcontent-%COMP%]   li.word-search-game-answer-next[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,0);letter-spacing:4.8px;padding-left:0;padding-right:0}.word-search-game.word-search-game-svg[_ngcontent-%COMP%]{position:relative}.word-search-game.word-search-game-svg[_ngcontent-%COMP%]   .word-search-game-board[_ngcontent-%COMP%]{left:0;padding:0;position:absolute;top:0}.word-search-game.word-search-game-svg[_ngcontent-%COMP%]   .word-search-game-answers[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#eef;border-radius:12px;cursor:pointer;left:0;letter-spacing:0;position:absolute;text-align:center;top:0;transition:all 2s cubic-bezier(.5,-.5,.25,1.5)}.word-search-game.word-search-game-svg[_ngcontent-%COMP%]   .word-search-game-answers[_ngcontent-%COMP%] > div.word-search-game-answer-next[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.13333333333333333);border-radius:0;letter-spacing:4.8px}"]}),t})();const je={stage:"done",game:null,difficulty:0,showMistakes:!1};let Le=(()=>{class t extends yt.a{constructor(){super(je)}set(t){return this._set(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac}),t})();function De(t,e,n,i){const s=t[e]||(t[e]=[]);for(const a of s)if(n===a.x&&i===a.y)return a;const o={x:n,y:i,value:e};return s.push(o),o}class Re{constructor(t,e,n,i){this.cols=t,this.rows=e,this.xItems=n,this.yItems=i;const s={};for(const r of n){r.cells.length=0;for(let t=r.letters.length;t-- >0;){const e=De(s,r.letters[t],r.x+t,r.y);e.hasLeft=t>0,e.hasRight=t<r.letters.length-1,r.cells[t]=e}}for(const r of i){r.cells.length=0;for(let t=r.letters.length;t-- >0;){const e=De(s,r.letters[t],r.x,r.y+t);e.hasTop=t>0,e.hasBottom=t<r.letters.length-1,r.cells[t]=e}}const o=Object.keys(s).sort(),a=[];for(const r of o)for(const t of s[r])a.push(t);this.cells=a,this.letters=o,this.plan=s}get isSolved(){for(const t of this.cells)if(!t.next||t.next.value!==t.value)return!1;return!0}get hasMistake(){for(const t of this.cells)if(t.next&&t.next.value!==t.value)return!0;return!1}get countSolved(){let t=0;for(const e of this.cells)e.isStatic||e.hasError||!e.next||e.next.value!==e.value||(t+=1);return t}get countStatic(){let t=0;for(const e of this.cells)e.isStatic&&(t+=1);return t}get countActive(){let t=0;for(const e of this.cells)e.isActive&&(t+=1);return t}get progress(){const t=this.cells.length-this.countStatic;return t>0?100*(t-this.countActive)/t:0}getItem(t,e){return 0===t?this.xItems[e]:1===t?this.yItems[e]:void 0}findCell(t,e){for(const n of this.cells)if(n.x===t&&n.y===e)return n}getXWordIndex(t,e){for(let n=this.xItems.length;n-- >0;){const i=this.xItems[n];if(e===i.y&&t>=i.x&&t<i.x+i.letters.length)return n}return-1}getYWordIndex(t,e){for(let n=this.yItems.length;n-- >0;){const i=this.yItems[n];if(t===i.x&&e>=i.y&&e<i.y+i.letters.length)return n}return-1}getXWordFreeCell(t){const e=this.xItems[t];if(e)for(const n of e.cells)if(n&&!n.next)return n}getYWordFreeCell(t){const e=this.yItems[t];if(e)for(const n of e.cells)if(n&&!n.next)return n}findLetterIndex(t){const e=this.letters;let n=e.length;for(;n-- >0&&t!==e[n];);return n}markErrors(){for(const t of this.cells)t.isActive&&t.next&&t.next.value!==t.value&&(t.hasError=!0)}getSolvedXWordIndices(){var t;const e=this.xItems.map((t,e)=>e);for(const n of this.cells)if(n.hasError||(null===(t=n.next)||void 0===t?void 0:t.value)!==n.value){const t=this.getXWordIndex(n.x,n.y);t>=0&&(e[t]=-1)}return e.filter(t=>t>=0)}getSolvedYWordIndices(){var t;const e=this.yItems.map((t,e)=>e);for(const n of this.cells)if(n.hasError||(null===(t=n.next)||void 0===t?void 0:t.value)!==n.value){const t=this.getYWordIndex(n.x,n.y);t>=0&&(e[t]=-1)}return e.filter(t=>t>=0)}}function Ve(t){return t.join("")}function Ee(t,e,n){return t.map(t=>({x:t.x+e,y:t.y+n,letters:t.letters})).sort((t,e)=>t.y!==e.y?t.y-e.y:t.x-e.x)}var We=n("0EQZ"),Ue=n("FvrZ"),He=n("8yBR"),Ye=n("bSwM");function Qe(t,e){if(1&t&&(l.Tb(0,"div"),l.Tb(1,"mat-icon"),l.Ac(2,"sentiment_very_dissatisfied"),l.Sb(),l.Ac(3),l.Sb()),2&t){const t=l.ec();l.Bb(3),l.Cc(" ",t.errorMessage," ")}}function Xe(t,e){1&t&&(l.Tb(0,"div"),l.Ac(1,"Loading..."),l.Sb())}function Ke(t,e){if(1&t&&l.yc(0,Xe,2,0,"div",3),2&t){const t=l.ec(),e=l.pc(1);l.kc("ngIf",!t.errorMessage)("ngIfElse",e)}}function Ge(t,e){if(1&t&&(l.Tb(0,"div"),l.Pb(1,11),l.Sb()),2&t){const t=l.ec().$implicit,e=l.ec(2);l.Fb("tree-invisible",!e.isNodeExpanded(t))}}function Je(t,e){if(1&t){const t=l.Ub();l.Tb(0,"mat-nested-tree-node",6),l.Tb(1,"button",7),l.Tb(2,"mat-icon"),l.Ac(3),l.Sb(),l.Sb(),l.Tb(4,"mat-checkbox",8),l.ac("change",function(n){l.rc(t);const i=e.$implicit;return l.ec(2).setNodeChecked(i,n.checked)}),l.Ac(5),l.Sb(),l.Tb(6,"span",9),l.Ac(7),l.Sb(),l.yc(8,Ge,2,2,"div",10),l.Sb()}if(2&t){const t=e.$implicit,n=l.ec(2);l.Bb(1),l.vc("visibility",n.getNodeVisibility(t)),l.kc("disabled",!n.isNodeParent(t)),l.Bb(2),l.Bc(n.getNodeIcon(t)),l.Bb(1),l.kc("checked",t.selected)("indeterminate",t.indeterminate),l.Bb(1),l.Bc(t.name),l.Bb(1),l.vc("color",t.selected||t.indeterminate?"blue":"grey"),l.Bb(1),l.Bc(n.getNodeInfo(t)),l.Bb(1),l.kc("ngIf",n.isNodeParent(t))}}function Ze(t,e){if(1&t&&(l.Tb(0,"mat-tree",4),l.yc(1,Je,9,11,"mat-nested-tree-node",5),l.Sb()),2&t){const t=l.ec();l.kc("dataSource",t.dataSource)("treeControl",t.treeControl)}}function tn(t,e){let n,i=new Map;for(const s of Object.keys(e)){const t=e[s];if("object"==typeof t){const e=tn(s,t);n?n.push(e):n=[e]}else"string"==typeof t&&i.set(s,t)}return n&&i.size>0&&(n.push({name:"",dict:i,capacity:i.size}),i=new Map),{name:t,dict:i,capacity:i.size,children:n}}function en(t,e){if(t.children)for(const n of t.children)en(n,e);t.selected=e}function nn(t){if(t.children){let e=0,n=!1;t.dict.clear();for(const i of t.children)nn(i),i.selected&&e++,i.indeterminate&&(n=!0),(i.selected||i.indeterminate)&&i.dict.forEach((e,n)=>t.dict.set(n,e));t.selected=e===t.children.length,t.indeterminate=n||e>0&&e<t.children.length,t.capacity=Math.max(t.dict.size,t.capacity)}}function sn(t,e,n){if(e(t,n)){const i=t.children;if(i){const t=n.length;for(let s=0;s<i.length;s++)n[t]=s,sn(i[s],e,n);n.length=t}}}function on(t){const e=[];return sn(t,(t,n)=>(t.selected&&e.push(n.join("/")),!t.selected),[0]),e.join(",")}let an=(()=>{class t{constructor(t,e){this.settings=t,this._http=e,this.treeControl=new Ue.j(t=>t.children),this.dataChange=new l.n}isNodeExpanded(t){return this.treeControl.isExpanded(t)}isNodeParent(t){return!!t.children&&t.children.length>0}getNodeIcon(t){return this.isNodeParent(t)?this.isNodeExpanded(t)?"expand_more":"chevron_right":""}getNodeInfo(t){return t.indeterminate?`(${t.dict.size} of ${t.capacity})`:`(${t.capacity})`}getNodeVisibility(t){return this.isNodeParent(t)?"visible":"hidden"}setNodeChecked(t,e){en(t,e),nn(this.root),this.settings.set({crosswordDataTreeState:on(this.root)}),this.onDataChange()}ngOnInit(){this._http.get("assets/school/crossword/data.json").subscribe({next:t=>{const e=tn("",t);en(e,!0),nn(e),function(t,e){if(e){const n=new Set(e.split(","));sn(t,(t,e)=>{const i=e.join("/");return en(t,n.has(i)),!t.selected},[0])}else en(t,!1)}(e,this.settings.state.crosswordDataTreeState),nn(e),this.root=e,this.dataSource=new We.a(this.root.children||[this.root]),this.onDataChange()},error:t=>{this.errorMessage="HTTP load failed!",console.error("HTTP load error:",t)}})}onDataChange(){if(this.root){const t={};this.root.dict.forEach((e,n)=>t[n]=e),this.dataChange.emit(t)}}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(Ot),l.Nb(s.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-crossword-data-tree"]],outputs:{dataChange:"dataChange"},decls:5,vars:2,consts:[["templateError",""],["templateLoading",""],[3,"dataSource","treeControl",4,"ngIf","ngIfElse"],[4,"ngIf","ngIfElse"],[3,"dataSource","treeControl"],["class","tree-node",4,"matTreeNodeDef"],[1,"tree-node"],["mat-icon-button","","matTreeNodeToggle","",3,"disabled"],[3,"checked","indeterminate","change"],[2,"font-size","x-small","padding-left","1em"],[3,"tree-invisible",4,"ngIf"],["matTreeNodeOutlet",""]],template:function(t,e){if(1&t&&(l.yc(0,Qe,4,1,"ng-template",null,0,l.zc),l.yc(2,Ke,1,2,"ng-template",null,1,l.zc),l.yc(4,Ze,2,2,"mat-tree",2)),2&t){const t=l.pc(3);l.Bb(4),l.kc("ngIf",e.root)("ngIfElse",t)}},directives:[i.l,H.a,He.b,He.d,He.a,C.a,He.f,Ye.a,He.e],styles:[".tree-invisible[_ngcontent-%COMP%]{display:none}.tree-node[_ngcontent-%COMP%]{display:block}.tree-node[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{padding-left:40px}"]}),t})();var rn=n("bv9b");function cn(t,e){if(1&t&&(l.Tb(0,"option",19),l.Ac(1),l.Sb()),2&t){const t=e.$implicit;l.kc("value",e.index),l.Bb(1),l.Bc(t)}}let ln=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.maker=e,this.settings=n,this.data={},this.words=[],this.closeOnSuccess=!1,this.difficultyMin=kt.crosswordDifficulty,this.difficultyMax=Mt.crosswordDifficulty,this.difficultyNames=wt,this.heightMin=kt.crosswordMaxHeight,this.heightMax=Mt.crosswordMaxHeight,this.widthMin=kt.crosswordMaxWidth,this.widthMax=Mt.crosswordMaxWidth}get gridSize(){const t=this.maker.state.grid;return t?t.xWords.length+t.yWords.length:0}get progress(){const{words:t,isWorking:e}=this.maker.state;return e&&t.length>0?Math.floor(100*this.gridSize/t.length):0}get progressVisibility(){return this.maker.state.isWorking?"visible":"hidden"}ngOnInit(){this.subscription=this.maker.subscribe(t=>{if(this.closeOnSuccess&&!t.isWorking&&t.grid){const e=t.grid,n=e.xMax-e.xMin,i=e.yMax-e.yMin,s=Ee(e.xWords,-e.xMin,-e.yMin).map(t=>Object.assign(Object.assign({},t),{cells:[],clue:this.data[Ve(t.letters)]})),o=Ee(e.yWords,-e.xMin,-e.yMin).map(t=>Object.assign(Object.assign({},t),{cells:[],clue:this.data[Ve(t.letters)]})),a=new Re(n,i,s,o);this.dialogRef.close(a)}})}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0),this.maker.stop()}onCreate(){if(this.words.length>0){const t=this.settings.state;this.closeOnSuccess=!0,this.maker.makePuzzle(this.words,t.crosswordMaxWidth,t.crosswordMaxHeight)}}onStop(){this.maker.state.isWorking&&this.maker.stop()}onDataChange(t){this.closeOnSuccess=!1,this.maker.stop(),this.data=t,this.words=Object.keys(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(M.g),l.Nb(vt.a),l.Nb(Ot))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-crossword-create-dialog"]],decls:37,vars:18,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"crossword-dialog-content","mat-elevation-z1"],[1,"crossword-settings-difficulty"],["for","crosswordDifficultySelect"],["name","crosswordDifficulty","id","crosswordDifficultySelect",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"crossword-settings-size"],[1,"input-range"],["for","crosswordMaxWidthInput"],["type","range","name","crosswordMaxWidth","id","crosswordMaxWidthInput","step","1",3,"min","max","ngModel","ngModelChange"],["for","crosswordMaxHeightInput"],["type","range","name","crosswordMaxHeight","id","crosswordMaxHeightInput","step","1",3,"min","max","ngModel","ngModelChange"],[3,"dataChange"],["mode","determinate",3,"value"],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],[1,"flex-space-filler-1"],["mat-button","","mat-dialog-close",""],[3,"value"]],template:function(t,e){1&t&&(l.Tb(0,"h1",0),l.Ac(1,"Crossword Puzzle Maker"),l.Sb(),l.Tb(2,"div",1),l.Tb(3,"div",2),l.Tb(4,"fieldset"),l.Tb(5,"legend"),l.Ac(6,"Settings:"),l.Sb(),l.Tb(7,"div",3),l.Tb(8,"label",4),l.Ac(9,"Difficulty:"),l.Sb(),l.Tb(10,"select",5),l.ac("ngModelChange",function(t){return e.settings.set({crosswordDifficulty:+t})}),l.yc(11,cn,2,2,"option",6),l.Sb(),l.Sb(),l.Tb(12,"fieldset",7),l.Tb(13,"legend"),l.Ac(14,"Maximum Size:"),l.Sb(),l.Tb(15,"div",8),l.Tb(16,"label",9),l.Ac(17,"Width"),l.Sb(),l.Tb(18,"input",10),l.ac("ngModelChange",function(t){return e.settings.set({crosswordMaxWidth:+t})}),l.Sb(),l.Tb(19,"span"),l.Ac(20),l.Sb(),l.Sb(),l.Tb(21,"div",8),l.Tb(22,"label",11),l.Ac(23,"Height"),l.Sb(),l.Tb(24,"input",12),l.ac("ngModelChange",function(t){return e.settings.set({crosswordMaxHeight:+t})}),l.Sb(),l.Tb(25,"span"),l.Ac(26),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(27,"app-crossword-data-tree",13),l.ac("dataChange",function(t){return e.onDataChange(t)}),l.Sb(),l.Sb(),l.Ob(28,"mat-progress-bar",14),l.Sb(),l.Tb(29,"div",15),l.Tb(30,"button",16),l.ac("click",function(){return e.onCreate()}),l.Ac(31,"Create"),l.Sb(),l.Tb(32,"button",16),l.ac("click",function(){return e.onStop()}),l.Ac(33),l.Sb(),l.Ob(34,"span",17),l.Tb(35,"button",18),l.Ac(36,"Close"),l.Sb(),l.Sb()),2&t&&(l.Bb(10),l.kc("ngModel",e.settings.state.crosswordDifficulty),l.Bb(1),l.kc("ngForOf",e.difficultyNames),l.Bb(7),l.kc("min",e.widthMin)("max",e.widthMax)("ngModel",e.settings.state.crosswordMaxWidth),l.Bb(2),l.Bc(e.settings.state.crosswordMaxWidth),l.Bb(4),l.kc("min",e.heightMin)("max",e.heightMax)("ngModel",e.settings.state.crosswordMaxHeight),l.Bb(2),l.Bc(e.settings.state.crosswordMaxHeight),l.Bb(2),l.vc("visibility",e.progressVisibility),l.kc("value",e.progress),l.Bb(2),l.kc("disabled",e.maker.state.isWorking||1>(null==e.words?null:e.words.length)),l.Bb(2),l.vc("visibility",e.progressVisibility),l.kc("disabled",!(e.maker.state.isWorking&&e.maker.state.grid)),l.Bb(1),l.Cc("Stop at ",e.gridSize,""))},directives:[M.h,M.e,o.p,o.i,o.l,i.k,o.o,o.b,an,rn.a,M.c,C.a,M.d,o.m,o.r],styles:[".crossword-dialog-content[_ngcontent-%COMP%]{height:60vmin;overflow:auto;width:60vmin}fieldset[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05);border-radius:5px}.crossword-settings-difficulty[_ngcontent-%COMP%]{display:inline-block;margin-bottom:1em;margin-right:1em;vertical-align:top}.crossword-settings-difficulty[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding-right:1em}.crossword-settings-size[_ngcontent-%COMP%]{display:inline-block}.crossword-settings-size[_ngcontent-%COMP%]   .input-range[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:inline-block;min-width:6em;vertical-align:text-bottom}.crossword-settings-size[_ngcontent-%COMP%]   .input-range[_ngcontent-%COMP%] > input[type=range][_ngcontent-%COMP%]{margin-right:1em}.crossword-settings-size[_ngcontent-%COMP%]   .input-range[_ngcontent-%COMP%] > input[type=range][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{vertical-align:text-bottom}"]}),t})();function dn(t,e){1&t&&(l.Tb(0,"mat-icon",6),l.Ac(1,"verified"),l.Sb())}let hn=(()=>{class t{constructor(t){this.data=t,this.isFlawless=!1,this.difficulty="none",this.percentDifficulty=0,this.percentLetters=0,this.percentWords=0,this.percentTotal=0;const{letterTotal:e,letterStatic:n,letterSolved:i,wordTotal:s,wordSolved:o}=t;if(e>0){const t=(e-n)/e;t<.2?this.difficulty="Novice":t<.4?this.difficulty="Rookie":t<.6?this.difficulty="Competent":t<.8?this.difficulty="Proficient":t<1?this.difficulty="Expert":1===t&&(this.difficulty="Master");const a=1e4,r=100;this.percentDifficulty=Math.floor(a*t)/r,this.percentLetters=Math.floor(a*i/(e-n))/r,this.percentWords=Math.floor(a*o/s)/r,this.isFlawless=i===e}}ngAfterViewInit(){const{letterTotal:t,letterSolved:e}=this.data;e>0&&t>0&&setTimeout(()=>{this.percentTotal=100*e/t},1e3)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(M.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-crossword-stats-dialog"]],decls:30,vars:20,consts:[["mat-dialog-title",""],["color","accent",4,"ngIf"],["mat-dialog-content",""],[3,"value","color"],[2,"padding-top","1em"],[1,"percent"],["color","accent"]],template:function(t,e){1&t&&(l.Tb(0,"h1",0),l.Ac(1,"Crossword Results "),l.yc(2,dn,2,0,"mat-icon",1),l.Sb(),l.Tb(3,"div",2),l.Ob(4,"mat-progress-bar",3),l.Tb(5,"div",4),l.Ac(6," Difficulty Level: "),l.Tb(7,"span",5),l.Ac(8),l.Sb(),l.Tb(9,"span"),l.Ac(10),l.Sb(),l.Sb(),l.Tb(11,"div"),l.Ac(12," Solved "),l.Tb(13,"ul"),l.Tb(14,"li"),l.Ac(15," Words: "),l.Tb(16,"span",5),l.Ac(17),l.Sb(),l.Ac(18,"("),l.Tb(19,"span"),l.Ac(20),l.Sb(),l.Ac(21,"). "),l.Sb(),l.Tb(22,"li"),l.Ac(23," Letters: "),l.Tb(24,"span",5),l.Ac(25),l.Sb(),l.Ac(26,"("),l.Tb(27,"span"),l.Ac(28),l.Sb(),l.Ac(29,". "),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&t&&(l.Fb("flawless",e.isFlawless),l.Bb(2),l.kc("ngIf",e.isFlawless),l.Bb(2),l.kc("value",e.percentTotal)("color",e.isFlawless?"accent":"primary"),l.Cb("active",e.percentTotal>0),l.Bb(1),l.Fb("flawless",100===e.percentDifficulty),l.Bb(3),l.Bc(e.percentDifficulty),l.Bb(2),l.Cc("(",e.difficulty,")"),l.Bb(4),l.Fb("flawless",100===e.percentWords),l.Bb(3),l.Bc(e.percentWords),l.Bb(3),l.Dc("",e.data.wordSolved," of ",e.data.wordTotal,""),l.Bb(2),l.Fb("flawless",100===e.percentLetters),l.Bb(3),l.Bc(e.percentLetters),l.Bb(3),l.Dc("",e.data.letterSolved," of ",e.data.letterTotal-e.data.letterStatic,")"))},directives:[M.h,i.l,M.e,rn.a,H.a],styles:['@-webkit-keyframes twist-in{0%{opacity:0;transform:rotate(-1200deg)}59%{opacity:1;transform:rotate(0deg)}60%{transform:scale(1)}85%{transform:scale(2)}to{transform:scale(1.5)}}@keyframes twist-in{0%{opacity:0;transform:rotate(-1200deg)}59%{opacity:1;transform:rotate(0deg)}60%{transform:scale(1)}85%{transform:scale(2)}to{transform:scale(1.5)}}.percent[_ngcontent-%COMP%]:after{content:"%";padding-right:.5em}.flawless[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{color:#00f;font-weight:600}h1.flawless[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{-webkit-animation:twist-in 1.4s 1s both;animation:twist-in 1.4s 1s both}mat-progress-bar[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s ease}mat-progress-bar[active=true][_ngcontent-%COMP%]{opacity:1}']}),t})();function un(t){return{wordTotal:t.xItems.length+t.yItems.length,wordSolved:t.getSolvedXWordIndices().length+t.getSolvedYWordIndices().length,letterTotal:t.cells.length,letterStatic:t.countStatic,letterSolved:t.countSolved}}var mn=n("dqHA"),gn=n("zh6y");const pn=["tiles"];function fn(t,e){if(1&t&&(l.dc(),l.Ob(0,"path",11)),2&t){const t=l.ec(2);l.Cb("d",t.fillPath)}}function bn(t,e){if(1&t&&(l.dc(),l.Ob(0,"path",12)),2&t){const t=l.ec(2);l.Cb("d",t.wordPath)}}function xn(t,e){if(1&t&&(l.dc(),l.Ob(0,"path",13)),2&t){const t=l.ec(2);l.Cb("d",t.failPath)}}function vn(t,e){if(1&t){const t=l.Ub();l.dc(),l.cc(),l.Tb(0,"div",14,15),l.ac("mousedown",function(n){l.rc(t);const i=e.index;return l.ec(2).onMouseDown(n,i)}),l.Ac(2),l.Sb()}if(2&t){const t=e.$implicit;l.vc("z-index",t.order)("transform",t.transform),l.kc("ngClass",t.className),l.Bb(2),l.Cc(" ",t.value,"")}}function yn(t,e){if(1&t){const t=l.Ub();l.Rb(0),l.Tb(1,"div",1,2),l.ac("mousedown",function(e){l.rc(t);const n=l.pc(2);return l.ec().onBoardMouse(e,n,!0)})("mouseup",function(e){l.rc(t);const n=l.pc(2);return l.ec().onBoardMouse(e,n,!1)})("touchstart",function(e){return l.rc(t),l.ec().onTouchStart(e)})("touchend",function(e){return l.rc(t),l.ec().onTouchStop(e)})("touchcancel",function(e){return l.rc(t),l.ec().onTouchStop(e)})("touchmove",function(e){return l.rc(t),l.ec().onTouchMove(e)}),l.Tb(3,"app-squared-paper",3),l.dc(),l.Tb(4,"svg",4),l.yc(5,fn,1,1,"path",5),l.yc(6,bn,1,1,"path",6),l.yc(7,xn,1,1,"path",7),l.Ob(8,"line",8),l.Sb(),l.yc(9,vn,3,6,"div",9),l.Sb(),l.cc(),l.Ob(10,"div",10),l.Sb(),l.Qb()}if(2&t){const t=l.ec();l.Bb(1),l.Fb("solved",t.isDone),l.Bb(2),l.kc("colNum",t.layout.width)("rowNum",t.layout.height),l.Bb(2),l.kc("ngIf",t.fillPath),l.Bb(1),l.kc("ngIf",t.wordPath),l.Bb(1),l.kc("ngIf",t.failPath),l.Bb(1),l.Cb("x1",t.layout.marginLeft)("x2",t.layout.marginRight)("y1",t.layout.marginTop)("y2",t.layout.marginBottom),l.Bb(1),l.kc("ngForOf",t.tiles)}}var wn=function(t){return t[t.x=0]="x",t[t.y=1]="y",t}({});function kn(t,e){return t[t.length-1]===e[0]?t.concat(e.slice(1)):e[e.length-1]===t[0]?e.concat(t.slice(1)):void 0}let Mn=(()=>{class t{constructor(t,e){this.gamester=t,this._renderer=e,this._dragListener=new mn.a,this._player=new h.a,this._subs=[],this.selectionChange=new l.n}set selection(t){this._selection=t,this.wordPath=this._getSelectionPath()}get selection(){return this._selection}get isDone(){return"done"===this.gamester.state.stage}get isSolved(){var t;const e=this.gamester.state;return e.showMistakes&&(null===(t=e.game)||void 0===t?void 0:t.isSolved)}ngOnInit(){this._subs.push(this._dragListener.dragChange.subscribe(t=>{switch(this._mouse=void 0,t){case"DragStart":this._onDragStart();break;case"DragMove":this._onDragMove();break;case"DragStop":this._onDragStop()}})),this._subs.push(this.gamester.subscribe(t=>{t.game&&(this.gamester.previousState.game!==t.game?this._onNewPuzzle():"live"===t.stage&&t.showMistakes&&!this.gamester.previousState.showMistakes&&this._onBoardChange())}))}ngOnDestroy(){this._player.stop();for(const t of this._subs)t.unsubscribe();this._subs.length=0}assignTile(t,e){const n=this.tiles;if(t.isActive&&n){const i=n.findIndex(t=>t.isActive&&t.value===e&&!t.list);if(i>=0)return this.moveTileToFront(i),this._appendAuto(t,n[i]),this._removeExtraTiles(t.list,2),this._onBoardChange(),!0}return!1}onMouseDown(t,e){if(0!==t.button)return;const n=this.tiles[e];(null==n?void 0:n.isActive)&&this._dragListener.mouseStart(t,this._renderer,{index:e})}onTouchStart(t){if(t.targetTouches.length>0){const e=t.targetTouches[0],n=this.getTileIndex(e.clientX,e.clientY);n>=0&&this._dragListener.touchStart(t,{index:n})}}onTouchStop(t){this._dragListener.isTouchDragging&&this._dragListener.stop(t)}onTouchMove(t){this._dragListener.isTouchDragging&&this._dragListener.touchMove(t)}getTileIndex(t,e){let n=-1;if(this.tileList){const i=this.tileList.toArray();for(let s=i.length;s-- >0;)if(this.tiles[s].isActive){const o=i[s].nativeElement.getBoundingClientRect();o.left<=t&&t<=o.right&&o.top<=e&&e<=o.bottom&&(n<0||this.tiles[n].order<this.tiles[s].order)&&(n=s)}}return n}getXItemIndex(t,e){const n=this.gamester.state.game;if(n){const i=n.getXWordIndex(t,e);if(i>=0)return{groupIndex:wn.x,itemIndex:i}}return null}getYItemIndex(t,e){const n=this.gamester.state.game;if(n){const i=n.getYWordIndex(t,e);if(i>=0)return{groupIndex:wn.y,itemIndex:i}}return null}getItemIndex(t,e){var n;return(null===(n=this._selection)||void 0===n?void 0:n.groupIndex)===wn.x?this.getYItemIndex(t,e)||this.getXItemIndex(t,e):this.getXItemIndex(t,e)||this.getYItemIndex(t,e)}onBoardMouse(t,e,n){if(0!==t.button)return;const i=e.getBoundingClientRect(),s=Math.floor((t.clientX-i.left)/24)-this.layout.baseLeft,o=Math.floor((t.clientY-i.top)/24)-this.layout.baseTop,a=this.getItemIndex(s,o);if(a){if(n)this._mouse=Object.assign(Object.assign({},a),{x:s,y:o,time:Date.now()});else if(this._mouse){const t=this._mouse;this._mouse=void 0,a.groupIndex===t.groupIndex&&a.itemIndex===t.itemIndex&&s===t.x&&o===t.y&&Date.now()-t.time<5e3&&this.selectionChange.emit(a)}}else this._mouse=void 0}moveTileToFront(t){const e=this.tiles[t];if(e)for(const n of this.tiles)n.order>e.order&&n.order--;e.order=this.tiles.length}_playIntro(){const{game:t,difficulty:e}=this.gamester.state,n=this.layout,i=function(t,e,n,i){const{letters:s,plan:o}=t,a=[];for(let r=0;r<s.length;r++)for(const t of o[s[r]]){const s=e+r%i,o=n+Math.floor(r/i);a.push({x:s,y:o,value:t.value,order:a.length+1,className:"",transform:S(s,o)})}return a}(t,n.bankLeft,n.bankTop,n.bankRight-n.bankLeft);let s=0;this._player.timeout=50,this._player.play(()=>{if(s<t.letters.length){const e=t.letters[s];return this.tiles=this.tiles.concat(i.filter(t=>t.value===e)),s++,this.gamester.set({stage:"init"}),!0}return this._setBase(t.cells,e),this.fillPath=function(t,e){const n=e.pad,i=e.baseLeft,s=e.baseTop,o=e.baseRight-i+n+n,a=e.baseBottom-s+n+n,r=function(t,e,n){const i=[];for(const s of t){const t=s.x+e,o=s.y+n;s.hasTop||i.push([`${t},${o}`,`${t+1},${o}`]),s.hasRight||i.push([`${t+1},${o}`,`${t+1},${o+1}`]),s.hasBottom||i.push([`${t+1},${o+1}`,`${t},${o+1}`]),s.hasLeft||i.push([`${t},${o+1}`,`${t},${o}`])}return i}(t,i,s);!function(t){for(let e=t.length;e-- >1;){const n=t[e];for(let i=e;i-- >0;){const s=kn(n,t[i]);if(s){t[i]=s,t.splice(e,1),e=t.length;break}}}}(r);let c=`M${i-n} ${s-n}v${a}h${o}v${-a}z`;for(const l of r)c+="M"+l.join(" ")+(l[0]===l[l.length-1]?"z":" ");return c}(t.cells,n),this.gamester.set({stage:"live"}),!1})}_setBase(t,e){for(const s of this.tiles)s.isActive=!0;const n=this.layout.baseLeft,i=this.layout.baseTop;for(const s of t)if(s.isActive=Math.random()<e||(s.hasBottom||s.hasTop)&&(s.hasLeft||s.hasRight),!s.isActive){const t=this.tiles.find(t=>t.isActive&&t.value===s.value);t?(s.isStatic=!0,t.isActive=!1,t.x=s.x+n,t.y=s.y+i,t.transform=S(t.x,t.y),t.className="transition_deal",Object(gn.a)(s,t)):s.isActive=!0}}_setFailPath(){this.failPath=function(t,e,n,i){const s=e.pad,o=e.baseLeft-s,a=e.baseRight+s,r=e.baseTop-s,c=e.baseBottom+s,l={};let d="";for(const h of t)if(h!==i&&h.x>=o&&h.x<a&&h.y>=r&&h.y<c&&(!h.list||h.list.length>3||h.list!==(null==i?void 0:i.list)&&h.list.length>2||n&&h.value!==h.list.head.value)){const t=`M${h.x} ${h.y}h1v1h-1z`;l[t]||(l[t]=!0,d+=t)}return d}(this.tiles,this.layout,this.gamester.state.showMistakes,this._dragListener.isDragging&&this._dragListener.data?this.tiles[this._dragListener.data.index]:void 0)}_onDragStart(){const t=this._dragListener.data;this.moveTileToFront(t.index);const e=this.tiles[t.index];e&&(e.className="transition_grab",this._setFailPath())}_onDragMove(){const t=this._dragListener.data,e=this.tiles[t.index];if(e){const n=e.y+this._dragListener.pageDeltaY/24;e.transform=S(Math.max(0,Math.min(this.layout.width-1,e.x+this._dragListener.pageDeltaX/24)),Math.max(0,Math.min(this.layout.height-1,n))),e.className="transition_drag",(Math.abs(this._dragListener.pageDeltaX)>4||Math.abs(this._dragListener.pageDeltaY)>4)&&(t.dragged=!0)}}_onDragStop(){const t=this._dragListener.data,e=this.tiles[t.index],n=this.gamester.state.game;if(e&&n){let i=Math.round(e.x+this._dragListener.pageDeltaX/24);i=Math.max(0,Math.min(this.layout.width-1,i));let s=Math.round(e.y+this._dragListener.pageDeltaY/24);s=Math.max(0,Math.min(this.layout.height-1,s)),e.x=i,e.y=s,e.className="transition_fast",e.transform=S(e.x,e.y);const o=n.findCell(i-this.layout.baseLeft,s-this.layout.baseTop);if(o)Object(gn.a)(o,e);else if(Object(gn.c)(e),!t.dragged&&this._selection){const t=this._getNextCell();t&&this._appendAuto(t,e)}this._onBoardChange()}}_onBoardChange(){this._setMistakes(),this._setFailPath(),this.isSolved&&(this._player.timeout=500,this._player.play(()=>(this.gamester.set({stage:"done"}),!1)))}_appendAuto(t,e){e.x=t.x+this.layout.baseLeft,e.y=t.y+this.layout.baseTop,e.transform=S(e.x,e.y),e.className="transition_auto",Object(gn.a)(t,e)}_getNextCell(){const t=this.gamester.state.game;if(t&&this._selection){const{groupIndex:e,itemIndex:n}=this._selection;if(e===wn.x)return t.getXWordFreeCell(n);if(e===wn.y)return t.getYWordFreeCell(n)}}_getSelectionPath(){const t=this.gamester.state.game;if(t&&this._selection){const{groupIndex:e,itemIndex:n}=this._selection;if(e===wn.x){const e=t.xItems[n];if(e)return`M${this.layout.baseLeft+e.x} ${this.layout.baseTop+e.y+1}v-1h${e.letters.length}v1z`}else if(e===wn.y){const e=t.yItems[n];if(e)return`M${this.layout.baseLeft+e.x} ${this.layout.baseTop+e.y}h1v${e.letters.length}h-1z`}}return""}_removeExtraTiles(t,e){if(t&&e>0){const n=this.gamester.state.game,{bankLeft:i,bankTop:s,bankRight:o}=this.layout,a=o-i;for(;t.length>e;){const e=t.tail;Object(gn.c)(e);const o=n.findLetterIndex(e.value);e.x=i+o%a,e.y=s+Math.floor(o/a),e.transform=S(e.x,e.y),e.className="transition_norm"}}}_setMistakes(){var t;const{showMistakes:e,game:n}=this.gamester.state;if(e&&n){const{baseLeft:e,baseTop:i}=this.layout;for(const s of n.cells)if(s.isActive&&(null===(t=s.next)||void 0===t?void 0:t.value)===s.value){const t=s.next;s.isActive=t.isActive=!1,t.x=s.x+e,t.y=s.y+i,t.transform=S(t.x,t.y),t.className="transition_deal",s.hasError&&(t.hasError=!0,t.className+=" has_error"),this._removeExtraTiles(s.list,2)}n.markErrors()}}_onNewPuzzle(){this._player.stop();const{cols:t,rows:e,letters:n}=this.gamester.state.game;this.tiles=[],this.fillPath="",this.failPath="",this.layout=function(t,e,n=26){const i=Math.ceil(n/2),s=1+t+1+4,o=1+Math.max(e,i)+1,a=s-4;return{pad:1,margin:4,width:s,height:o,bankLeft:a+1,bankRight:s-1,bankTop:1,bankBottom:1+i,baseLeft:1,baseRight:1+t,baseTop:1,baseBottom:1+e,marginLeft:a,marginRight:s-4,marginTop:0,marginBottom:o}}(t,e,n.length),this._playIntro()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(Le),l.Nb(l.F))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-crossword-board"]],viewQuery:function(t,e){if(1&t&&l.Fc(pn,1),2&t){let t;l.oc(t=l.bc())&&(e.tileList=t)}},inputs:{selection:"selection"},outputs:{selectionChange:"selectionChange"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"crossword-board",3,"mousedown","mouseup","touchstart","touchend","touchcancel","touchmove"],["board",""],[3,"colNum","rowNum"],["appContentSvg",""],["class","crossword-fill","pathLength","100",4,"ngIf"],["class","crossword-word",4,"ngIf"],["class","crossword-fail","pathLength","100",4,"ngIf"],[1,"crossword-line"],["class","crossword-tile",3,"ngClass","z-index","transform","mousedown",4,"ngFor","ngForOf"],[1,"crossword-sign"],["pathLength","100",1,"crossword-fill"],[1,"crossword-word"],["pathLength","100",1,"crossword-fail"],[1,"crossword-tile",3,"ngClass","mousedown"],["tiles",""]],template:function(t,e){1&t&&l.yc(0,yn,11,12,"ng-container",0),2&t&&l.kc("ngIf",e.gamester.state.game)},directives:[i.l,P,i.k,i.j],styles:[".crossword-board[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;position:relative}.crossword-tile[_ngcontent-%COMP%]{align-items:center;background-color:#fadc9a;border:1px solid rgba(0,0,0,.25);border-radius:4px;color:rgba(0,0,0,.9);cursor:-webkit-grab;cursor:grab;display:inline-flex;height:22px;justify-content:center;position:absolute;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:22px}.crossword-tile.transition_deal[_ngcontent-%COMP%]{background-color:#fafadc;cursor:default;transition:transform 1.5s cubic-bezier(.6,-.5,.25,1.5)}.crossword-tile.transition_auto[_ngcontent-%COMP%]{transition:transform 1s ease-in-out}.crossword-tile.transition_norm[_ngcontent-%COMP%]{transition:transform .5s ease-out}.crossword-tile.transition_fast[_ngcontent-%COMP%]{transition:transform .25s linear}.crossword-tile.transition_drag[_ngcontent-%COMP%], .crossword-tile.transition_grab[_ngcontent-%COMP%]{box-shadow:2px 2px 2px 1px rgba(0,0,0,.2);cursor:-webkit-grabbing;cursor:grabbing}.crossword-tile.transition_grab[_ngcontent-%COMP%]{transition:transform .15s ease-in-out}.crossword-tile.transition_drag[_ngcontent-%COMP%]{opacity:.75;transition:none}@-webkit-keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}line.crossword-line[_ngcontent-%COMP%]{fill:none;stroke:red;stroke-width:.1px;transition:opacity 1s ease-in}path.crossword-fill[_ngcontent-%COMP%]{stroke:none;fill:rgba(0,0,0,.15);-webkit-animation:keyframes-fade-in 2s ease 1;animation:keyframes-fade-in 2s ease 1;transition:fill 1.5s ease}path.crossword-fail[_ngcontent-%COMP%]{fill:none;stroke:#fa0000;stroke-width:.1px}path.crossword-word[_ngcontent-%COMP%]{fill:#ff0;fill-opacity:.3;stroke:#ff0;stroke-width:.2px;stroke-opacity:.7}@-webkit-keyframes bounce-in-bck{0%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0;transform:scale(6)}38%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;opacity:1;transform:scale(1)}55%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:scale(1.5)}72%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;transform:scale(1)}81%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:scale(1.24)}89%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;transform:scale(1)}95%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:scale(1.04)}to{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;transform:scale(1)}}@keyframes bounce-in-bck{0%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0;transform:scale(6)}38%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;opacity:1;transform:scale(1)}55%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:scale(1.5)}72%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;transform:scale(1)}81%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:scale(1.24)}89%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;transform:scale(1)}95%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:scale(1.04)}to{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;transform:scale(1)}}div.crossword-sign[_ngcontent-%COMP%]{background-color:transparent;background-image:url(solved-sign-3.742c57d0e609635e04b2.svg);background-repeat:no-repeat;background-size:100% 100%;bottom:0;display:none;height:96px;pointer-events:none;position:absolute;right:0;width:96px;z-index:1000}@-webkit-keyframes path-in-animation{0%{stroke-dashoffset:-100px}to{stroke-dashoffset:0px}}@keyframes path-in-animation{0%{stroke-dashoffset:-100px}to{stroke-dashoffset:0px}}.solved[_ngcontent-%COMP%]   line.crossword-line[_ngcontent-%COMP%]{opacity:0}.solved[_ngcontent-%COMP%]   path.crossword-fill[_ngcontent-%COMP%]{stroke:green;stroke-width:.04px;stroke-dasharray:100px;fill:rgba(0,128,0,.2);-webkit-animation:path-in-animation 5s linear .5s 1 both;animation:path-in-animation 5s linear .5s 1 both}.solved[_ngcontent-%COMP%]   div.crossword-sign[_ngcontent-%COMP%]{-webkit-animation:bounce-in-bck 1.1s both;animation:bounce-in-bck 1.1s both;display:block;transform-origin:bottom right}.solved[_ngcontent-%COMP%]   .crossword-tile[_ngcontent-%COMP%]{background-color:transparent;border-radius:unset;transition:all 2s ease}.solved[_ngcontent-%COMP%]   .crossword-tile.has_error[_ngcontent-%COMP%]{background-color:#e8a}"]}),t})();var Cn=n("XhcP"),_n=n("/t3+"),On=n("1jcm"),Sn=n("MutI"),Pn=n("Bgxr");const Tn=["item"];function In(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",4,5),l.ac("click",function(){l.rc(t);const n=e.index;return l.ec(2).onItemChange(n)}),l.Ac(2),l.Sb()}if(2&t){const t=e.$implicit,n=e.index,i=l.ec(2);l.Fb("active",n===i.selection.itemIndex),l.Bb(2),l.Bc(t)}}function Bn(t,e){if(1&t&&(l.Tb(0,"div",2),l.yc(1,In,3,3,"div",3),l.Sb()),2&t){const t=e.ngIf,n=l.ec();l.kc("ngStyle",n.panelStyle),l.Bb(1),l.kc("ngForOf",t.items)}}let An=(()=>{class t{constructor(){this.groups=[],this.selection={groupIndex:0,itemIndex:-1},this.selectionChange=new l.n}get labels(){return this.groups.map(t=>t.label)}ngOnInit(){}ngOnChanges(t){const e=t.selection;if((null==e?void 0:e.currentValue)&&e.currentValue!==e.previousValue){const t=this.selection.itemIndex;t>=0&&setTimeout(()=>this.scrollItemIntoView(t),100)}}onGroupChange(t){const e={groupIndex:-1,itemIndex:-1},n=this.groups[t];n&&(e.groupIndex=t,"number"==typeof n.selection&&(e.itemIndex=n.selection)),this.selectionChange.emit(e)}onItemChange(t){this.selectionChange.emit({groupIndex:this.selection.groupIndex,itemIndex:t})}scrollItemIntoView(t){var e,n;const i=null===(n=null===(e=this.itemList)||void 0===e?void 0:e.toArray()[t])||void 0===n?void 0:n.nativeElement;i&&"function"==typeof i.scrollIntoView&&i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-tab-list"]],viewQuery:function(t,e){if(1&t&&l.Fc(Tn,1),2&t){let t;l.oc(t=l.bc())&&(e.itemList=t)}},inputs:{groups:"groups",selection:"selection",panelStyle:"panelStyle"},outputs:{selectionChange:"selectionChange"},features:[l.zb],decls:2,vars:3,consts:[[3,"items","selection","selectionChange"],["class","tab-list-base",3,"ngStyle",4,"ngIf"],[1,"tab-list-base",3,"ngStyle"],["class","tab-list-item",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-list-item",3,"click"],["item",""]],template:function(t,e){1&t&&(l.Tb(0,"app-tab-group",0),l.ac("selectionChange",function(t){return e.onGroupChange(t)}),l.yc(1,Bn,2,2,"div",1),l.Sb()),2&t&&(l.kc("items",e.labels)("selection",e.selection.groupIndex),l.Bb(1),l.kc("ngIf",e.groups[e.selection.groupIndex]))},directives:[Pn.a,i.l,i.m,i.k],styles:[".tab-list-base[_ngcontent-%COMP%]{padding:1px}.tab-list-base[_ngcontent-%COMP%]   .tab-list-item[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);cursor:pointer;padding:.5rem}.tab-list-base[_ngcontent-%COMP%]   .tab-list-item[_ngcontent-%COMP%]:hover:not(.active){background-color:rgba(0,0,0,.04);color:#06b}.tab-list-base[_ngcontent-%COMP%]   .tab-list-item.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.12);color:inherit}"]}),t})();var $n=n("kmnG"),Nn=n("qFsG");function zn(t,e){if(1&t&&l.Ob(0,"mat-progress-bar",14),2&t){const t=l.ec().ngIf;l.kc("value",t.progress)}}function Fn(t,e){if(1&t){const t=l.Ub();l.Rb(0),l.Tb(1,"button",11),l.ac("click",function(){return l.rc(t),l.ec().onAction()}),l.Tb(2,"mat-icon",12),l.Ac(3),l.Sb(),l.Ac(4),l.yc(5,zn,1,1,"mat-progress-bar",13),l.Sb(),l.Qb()}if(2&t){const t=e.ngIf,n=l.ec();l.Bb(1),l.kc("disabled",n.isActionDisabled),l.Bb(1),l.kc("ngClass",n.showMistakesIconClassName),l.Bb(1),l.Bc(n.showMistakesIcon),l.Bb(1),l.Cc("",n.showMistakesText," "),l.Bb(1),l.kc("ngIf",n.showMistakes&&!t.isSolved)}}function qn(t,e){1&t&&(l.Tb(0,"mat-hint"),l.Ac(1,"You can type your answer here."),l.Sb())}function jn(t,e){if(1&t&&(l.Tb(0,"mat-error"),l.Ac(1),l.Sb()),2&t){const t=l.ec(2);l.Bb(1),l.Bc(t.inputState.error)}}const Ln=function(){return{maxHeight:"24em",overflowY:"auto"}};function Dn(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",15),l.Tb(1,"h3"),l.Ac(2,"Clues"),l.Sb(),l.Tb(3,"app-tab-list",16),l.ac("selectionChange",function(e){return l.rc(t),l.ec().onSelectionChange(e)}),l.Sb(),l.Tb(4,"mat-form-field",17),l.Tb(5,"mat-label"),l.Ac(6),l.Sb(),l.Tb(7,"input",18),l.ac("keydown",function(e){return l.rc(t),l.ec().onInputKeyDown(e)})("ngModelChange",function(e){return l.rc(t),l.ec().inputState.value=e}),l.Sb(),l.yc(8,qn,2,0,"mat-hint",6),l.yc(9,jn,2,1,"mat-error",6),l.Sb(),l.Sb()}if(2&t){const t=l.ec();l.Bb(3),l.kc("groups",t.clues)("selection",t.selection)("panelStyle",l.lc(9,Ln)),l.Bb(3),l.Bc(t.inputInfo),l.Bb(1),l.kc("disabled",t.isInputDisabled)("errorStateMatcher",t.inputState)("ngModel",t.inputState.value),l.Bb(1),l.kc("ngIf",!t.isInputDisabled),l.Bb(1),l.kc("ngIf",t.inputState.isErrorState())}}function Rn(t,e){if(1&t){const t=l.Ub();l.Tb(0,"button",19),l.ac("click",function(){return l.rc(t),l.ec().settings.set({sidenavClosed:!1})}),l.Tb(1,"mat-icon"),l.Ac(2,"double_arrow"),l.Sb(),l.Sb()}}class Vn{constructor(){this.value="",this.error=""}isErrorState(){return!!this.error}clear(){this.value=this.error=""}}const En=[{path:"mental-math",component:xt},{path:"word-puzzle",component:qe},{path:"missing-letters",component:ge},{path:"crossword",component:(()=>{class t{constructor(t,e,n){this.gamester=t,this.settings=e,this.dialog=n,this.selection={groupIndex:0,itemIndex:-1},this.inputState=new Vn}get mode(){return this.settings.state.sidenavModeSide?"side":"over"}get closed(){return this.settings.state.sidenavClosed}get opened(){return!this.settings.state.sidenavClosed}get difficulty(){const t=kt.crosswordDifficulty;return(this.settings.state.crosswordDifficulty-t)/(Mt.crosswordDifficulty-t)}get isInputDisabled(){const t=this.gamester.state;return!t.game||"live"!==t.stage}get isActionDisabled(){const t=this.gamester.state;return!t.game||t.showMistakes&&"done"!==t.stage}get showMistakes(){return this.gamester.state.showMistakes}get showMistakesText(){const t=this.gamester.state;return"done"!==t.stage?t.showMistakes?"Checking":"Check":"Done!"}get showMistakesIcon(){return"done"!==this.gamester.state.stage?"mode":"done"}get showMistakesIconClassName(){const t=this.gamester.state;return"done"!==t.stage?t.showMistakes?"disabled-color":"mat-accent":"mat-warn"}get inputInfo(){const t=this.gamester.state;let e="done"===t.stage?"Answer: ":"Current value: ";if(t.game){const{groupIndex:n,itemIndex:i}=this.selection,s=t.game.getItem(n,i);if(s){const t="\u203b";e+=s.cells.map(e=>{var n;return(null===(n=e.next)||void 0===n?void 0:n.value)||t}).join("")}}return e}ngOnInit(){this._subscription=this.gamester.stateChange.subscribe(t=>{"born"===t.stage?(this.clues=[{label:"Across",items:t.game.xItems.map(t=>t.clue)},{label:"Down",items:t.game.yItems.map(t=>t.clue)}],this.onSelectionChange({groupIndex:0,itemIndex:-1})):"done"===t.stage&&this.clues&&this.onSelectionChange({groupIndex:this.selection.groupIndex,itemIndex:-1})})}ngOnDestroy(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=void 0)}openCreateDialog(){this.dialog.open(ln).afterClosed().subscribe(t=>{t&&this.gamester.set({stage:"born",game:t,showMistakes:!1,difficulty:this.difficulty})})}onSelectionChange(t){this.selection.groupIndex===t.groupIndex&&this.clues[t.groupIndex].selection===t.itemIndex&&(t.itemIndex=-1),this.clues[t.groupIndex].selection=t.itemIndex,this.selection=t,this.inputState.clear()}onAction(){if(this.gamester.state.showMistakes){const{stage:t,game:e}=this.gamester.state;e&&"done"===t&&this.dialog.open(hn,{data:un(e)})}else this.gamester.set({showMistakes:!0})}onSelectionNext(){const t=this.clues;if((null==t?void 0:t.length)>0){let{groupIndex:e,itemIndex:n}=this.selection;++n>=t[e].items.length&&(e=(e+1)%t.length,n=0),this.onSelectionChange({groupIndex:e,itemIndex:n})}}onSelectionPrev(){const t=this.clues;if((null==t?void 0:t.length)>0){let{groupIndex:e,itemIndex:n}=this.selection;--n<0&&(--e<0&&(e=t.length-1),n=t[e].items.length-1),this.onSelectionChange({groupIndex:e,itemIndex:n})}}onInputEnter(){const t=this.gamester.state.game,e=this.inputState.value,n=this.boardComponent;if(t&&e&&n){const{groupIndex:i,itemIndex:s}=this.selection,o=t.getItem(i,s);if(o){const t=function(t){return t.split("")}(e);if(t.length!==o.letters.length)return`Input is too ${t.length<o.letters.length?"short":"long"}!`;for(let e=0;e<t.length;e++){const i=o.cells[e],s=t[e];if(i.isActive){if(!(i.next&&i.next.value===s||n.assignTile(i,s)))return`Could not find a free tile for ${e+1} letter '${s}'!`}else if(i.value!==s)return`${e+1} letter should be '${i.value}' instead of '${s}'!`}}}return""}onInputKeyDown(t){const e=t.code;"ArrowDown"===e?this.onSelectionNext():"ArrowUp"===e?this.onSelectionPrev():"Enter"===e&&(this.inputState.error=this.onInputEnter())}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(Le),l.Nb(Ot),l.Nb(M.b))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-crossword-sidenav"]],viewQuery:function(t,e){if(1&t&&l.Fc(Mn,1),2&t){let t;l.oc(t=l.bc())&&(e.boardComponent=t.first)}},features:[l.Ab([Le])],decls:22,vars:7,consts:[[3,"mode","opened","openedChange"],["color","primary"],["mat-icon-button","",3,"click"],[1,"flex-space-filler-1"],["color","primary",3,"checked","change"],["mat-list-item","",3,"click"],[4,"ngIf"],["style","margin: 1em;",4,"ngIf"],[2,"padding","1px"],[3,"selection","selectionChange"],["class","sidenav-open-button","mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-list-item","",3,"disabled","click"],[3,"ngClass"],["style","margin-left: 1em;","mode","determinate",3,"value",4,"ngIf"],["mode","determinate",2,"margin-left","1em",3,"value"],[2,"margin","1em"],[3,"groups","selection","panelStyle","selectionChange"],["appearance","standard",2,"width","100%","margin-top","0.5em"],["matInput","","type","text","autocomplete","off","placeholder","...",3,"disabled","errorStateMatcher","ngModel","keydown","ngModelChange"],["mat-icon-button","","color","primary",1,"sidenav-open-button",3,"click"]],template:function(t,e){1&t&&(l.Tb(0,"mat-sidenav-container"),l.Tb(1,"mat-sidenav",0),l.ac("openedChange",function(t){return e.settings.set({sidenavClosed:!t})}),l.Tb(2,"mat-toolbar",1),l.Tb(3,"button",2),l.ac("click",function(){return e.settings.set({sidenavClosed:!0})}),l.Tb(4,"mat-icon"),l.Ac(5,"close"),l.Sb(),l.Sb(),l.Ob(6,"span",3),l.Tb(7,"span"),l.Ac(8,"Crossword"),l.Sb(),l.Ob(9,"span",3),l.Tb(10,"mat-slide-toggle",4),l.ac("change",function(t){return e.settings.set({sidenavModeSide:t.checked})}),l.Sb(),l.Sb(),l.Tb(11,"mat-action-list"),l.Tb(12,"button",5),l.ac("click",function(){return e.openCreateDialog()}),l.Tb(13,"mat-icon"),l.Ac(14,"developer_board"),l.Sb(),l.Ac(15,"Create... "),l.Sb(),l.yc(16,Fn,6,5,"ng-container",6),l.Sb(),l.yc(17,Dn,10,10,"div",7),l.Sb(),l.Tb(18,"mat-sidenav-content"),l.Tb(19,"div",8),l.Tb(20,"app-crossword-board",9),l.ac("selectionChange",function(t){return e.onSelectionChange(t)}),l.Sb(),l.yc(21,Rn,3,0,"button",10),l.Sb(),l.Sb(),l.Sb()),2&t&&(l.Bb(1),l.kc("mode",e.mode)("opened",e.opened),l.Bb(9),l.kc("checked",e.settings.state.sidenavModeSide),l.Bb(6),l.kc("ngIf",e.gamester.state.game),l.Bb(1),l.kc("ngIf",e.clues),l.Bb(3),l.kc("selection",e.selection),l.Bb(1),l.kc("ngIf",e.closed))},directives:[Cn.b,Cn.a,_n.a,C.a,H.a,On.a,Sn.a,Sn.b,i.l,Cn.c,Mn,i.j,rn.a,An,$n.c,$n.g,Nn.a,o.b,o.i,o.l,$n.f,$n.b],styles:["mat-sidenav-container[_ngcontent-%COMP%]{background-color:#d7d7f6;height:100%;width:100%}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:360px}@-webkit-keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}.sidenav-open-button[_ngcontent-%COMP%]{-webkit-animation:keyframes-fade-in 3s ease 1;animation:keyframes-fade-in 3s ease 1;background-color:rgba(240,248,255,.3137254901960784);left:0;position:absolute;top:0}"]}),t})()},{path:"",component:xt}];let Wn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({providers:[vt.a,Ot],imports:[[a.c.forChild(En),i.c,o.d,s.b,r.a,c.a],a.c]}),t})()},keE2:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return a});var i=n("SeXe"),s=n("fXoL");const o={requestId:"",isWorking:!1,grid:null,words:[]};let a=(()=>{class e extends i.a{constructor(){super(o),this._worker=null,this._createWorker()}stop(){this._worker&&this.state.isWorking&&(this._worker.postMessage({requestId:null}),this._set({isWorking:!1}))}makePuzzle(t,e,n){if(!this._worker)return;this.stop();const i=t.length<100?t.length<50?t.length<25?8:4:2:1,s=JSON.stringify(t),o={requestId:s,maxWidth:e,maxHeight:n,tryCount:i,words:t.slice()};this._worker.postMessage(o),this._set({requestId:s,words:t,isWorking:!0,grid:null})}_createWorker(){"undefined"!=typeof Worker&&(this._worker=new Worker(t,void 0),this._worker.onmessage=t=>{const e=this.state,n=t.data;var i,s;e.isWorking&&e.requestId===n.requestId&&this._set({grid:(i=e.grid,s=n.grid,i?s&&s.xWords.length+s.yWords.length>i.xWords.length+i.yWords.length?s:i:s),isWorking:n.isWorking})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac}),e})()}).call(this,n("6I+0"))}}]);