!function(){function t(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw r}}}}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=r(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}}).apply(this,arguments)}function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=b(t);if(e){var a=b(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{mUt8:function(i,a,r){"use strict";r.r(a),r.d(a,"SvgPathEditorModule",function(){return $n});var s,u,g,m,d=r("ofXK"),p=r("tyNb"),v=r("3Pt+"),y=r("tk/3"),x=r("pKmL"),C=r("hctd"),k=r("fXoL"),M="[svg-path-editor.background-image]",T=((s=function(){function t(){h(this,t),this._imageData="",this._imageData=this.loadSavedImage()}return f(t,[{key:"imageData",get:function(){return this._imageData}},{key:"loadImage",value:function(t){var e=this,n=t.target;if(n&&n.files[0]){var i=n.files[0];if(i.type.startsWith("image")){var a=new FileReader;a.onload=function(t){"string"==typeof a.result&&(e._imageData=a.result,e._imageData.length<65535?e.saveImage():e.clearSavedImage())},a.readAsDataURL(i)}}}},{key:"clearImage",value:function(){this._imageData="",this.clearSavedImage()}},{key:"clearSavedImage",value:function(){try{localStorage.removeItem(M)}catch(t){console.warn("localStorage error:",t)}}},{key:"saveImage",value:function(){try{localStorage.setItem(M,this._imageData)}catch(t){console.warn("localStorage error:",t)}}},{key:"loadSavedImage",value:function(){try{var t=null===localStorage||void 0===localStorage?void 0:localStorage.getItem(M);if("string"==typeof t)return t}catch(e){console.warn("localStorage error:",e)}return""}}]),t}()).\u0275fac=function(t){return new(t||s)},s.\u0275prov=k.Kb({token:s,factory:s.\u0275fac}),s),U=r("SeXe"),w={identity:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0",invert:"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0",blue:"0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0",gray:"0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 1 0",green:"0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0",magenta:"1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0",red:"1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0",yellow:"1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0",darken:".5 0 0 0 0 0 .5 0 0 0 0 0 .5 0 0 0 0 0 1 0",lighten:"1.5 0 0 0 0 0 1.5 0 0 0 0 0 1.5 0 0 0 0 0 1 0"},I=["to integer","#.#","#.##","#.###","%.4f","%.5f","%.6f"],O={viewBoxPadding:1,xOffset:0,yOffset:0,width:1024,height:1024,zoom:100,backgroundImageZoom:100,backgroundImageColorMatrixName:"identity",isBackgroundImageHidden:!1,isControlPoints:!0,controlPointFillColor:"#ffff00",controlPointSize:10,isPathStroke:!0,pathStrokeColor:"#ff00ff",isPathFill:!1,pathFillColor:"#04040f",sidenavModeSide:!1,sidenavClosed:!0,darkMode:!1,backgroundColor:"#282828",maximumFractionDigits:2},S={viewBoxPadding:0,xOffset:Number.MIN_SAFE_INTEGER,yOffset:Number.MIN_SAFE_INTEGER,width:1,height:1,zoom:25,backgroundImageZoom:1,maximumFractionDigits:0,controlPointSize:2},P={viewBoxPadding:Number.MAX_SAFE_INTEGER,xOffset:Number.MAX_SAFE_INTEGER,yOffset:Number.MAX_SAFE_INTEGER,width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER,zoom:400,backgroundImageZoom:1e4,maximumFractionDigits:I.length-1,controlPointSize:32},_=((u=function(t){c(n,t);var e=l(n);function n(){var t;return h(this,n),(t=e.call(this,O)).loadLocal("[svg-path-editor.settings]",O),t}return f(n,[{key:"imageColorMatrix",get:function(){return w[this.state.backgroundImageColorMatrixName]||w.identity}},{key:"restoreDefaults",value:function(){this.set(O)}},{key:"set",value:function(t){var e=this,n=this._set(t);return n&&(this._timerId&&clearTimeout(this._timerId),this._timerId=setTimeout(function(){e._timerId=null,e.saveLocal("[svg-path-editor.settings]")},1e3)),n}},{key:"_validate",value:function(t){for(var e=0,i=Object.keys(S);e<i.length;e++){var a=i[e];t[a]=Math.max(S[a],Math.min(P[a],t[a]||0))}return t.backgroundImageColorMatrixName in w||(t.backgroundImageColorMatrixName="identity"),o(b(n.prototype),"_validate",this).call(this,t)}}]),n}(U.a)).\u0275fac=function(t){return new(t||u)},u.\u0275prov=k.Kb({token:u,factory:u.\u0275fac}),u),B={data:"",prev:null,next:null},F=((m=function(t){c(n,t);var e=l(n);function n(){var t;h(this,n),(t=e.call(this,B)).saveDelay=3e4,t._save=function(){t._timerId=null;try{localStorage.setItem("[svg-path-editor.path-data]",t.state.data)}catch(e){console.warn("localStorage error:",e)}};try{var i=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("[svg-path-editor.path-data]");i&&t._set({data:i})}catch(a){console.warn("localStorage error:",a)}return t}return f(n,[{key:"pathData",get:function(){return this.state.data},set:function(t){var e=this.state;e.data!==t&&this._set({data:t,prev:e,next:null})}},{key:"canUndo",get:function(){return!!this.state.prev}},{key:"canRedo",get:function(){return!!this.state.next}},{key:"hasLink",get:function(){return!(!this.state.prev&&!this.state.next)}},{key:"restoreDefaults",value:function(){this._set(B)}},{key:"undo",value:function(){var t=this.state,e=t.prev;e&&this._set({data:e.data,prev:e.prev,next:t})}},{key:"redo",value:function(){var t=this.state,e=t.next;e&&this._set({data:e.data,prev:t,next:e.next})}},{key:"unlink",value:function(){var t=this.state;(t.next||t.prev)&&this._set({data:t.data,prev:null,next:null})}},{key:"_set",value:function(t){var e=o(b(n.prototype),"_set",this).call(this,t);return e&&(this._timerId||(this._timerId=setTimeout(this._save,this.saveDelay))),e}}]),n}(U.a)).\u0275fac=function(t){return new(t||m)},m.\u0275prov=k.Kb({token:m,factory:m.\u0275fac}),m),A=((g=function(){function t(){var e=this;h(this,t),this._items=[],this._timerID=setInterval(function(){var t;(null===(t=e._popupRef)||void 0===t?void 0:t.closed)&&e.clear()},6e5)}return f(t,[{key:"next",value:function(t,e){var n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'.concat(t,'" width="100%" height="100%">\n  <title>SVG File - ').concat((new Date).toUTCString(),'</title>\n  <path d="').concat(e,'" />\n</svg>'),i=new Blob([n],{type:"image/svg+xml"}),a=URL.createObjectURL(i),o=this._popupRef;o&&!o.closed?(o.location.assign(a),o.focus()):(this.clear(),o=this._popupRef=window.open(a,"svg-file-window","toolbar=yes,scrollbars=yes,resizable=yes")),this._items.push({blob:i,url:a})}},{key:"clear",value:function(){var t,e=n(this._items);try{for(e.s();!(t=e.n()).done;){var i=t.value;URL.revokeObjectURL(i.url)}}catch(a){e.e(a)}finally{e.f()}this._items.length=0,this._popupRef=void 0}},{key:"close",value:function(){clearInterval(this._timerID),this._timerID=void 0,this.clear()}},{key:"ngOnDestroy",value:function(){this.close()}}]),t}()).\u0275fac=function(t){return new(t||g)},g.\u0275prov=k.Kb({token:g,factory:g.\u0275fac}),g),R=r("dPmG");function j(t){return 1===t.a&&0===t.b&&0===t.c&&1===t.d&&0===t.e&&0===t.f}function z(t){var e=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)};return e(t.a)&&e(t.b)&&e(t.c)&&e(t.d)&&e(t.e)&&e(t.f)}var D=r("0IaG"),X=r("bTqV"),N=r("NFeN"),V=r("Bgxr");function Y(t,e){if(1&t&&(k.Ub(0,"div"),k.Ub(1,"mat-icon"),k.Bc(2,"sentiment_very_dissatisfied"),k.Tb(),k.Bc(3),k.Tb()),2&t){var n=k.fc();k.Cb(3),k.Dc(" ",n.errorMessage," ")}}function E(t,e){1&t&&(k.Ub(0,"div"),k.Bc(1,"Loading..."),k.Tb())}function L(t,e){if(1&t&&k.zc(0,E,2,0,"div",8),2&t){var n=k.fc(),i=k.qc(1);k.lc("ngIf",!n.errorMessage)("ngIfElse",i)}}function q(t,e){if(1&t){var n=k.Vb();k.Ub(0,"button",12),k.bc("click",function(){k.sc(n);var t=e.index;return k.fc(2).onItemClick(t)}),k.Ub(1,"div"),k.ec(),k.Ub(2,"svg",13),k.Pb(3,"path"),k.Tb(),k.Tb(),k.dc(),k.Ub(4,"span"),k.Bc(5),k.Tb(),k.Tb()}if(2&t){var i=e.$implicit,a=e.index,o=k.fc(2);k.Gb("sample-dialog-selection",a===o.selection),k.Cb(3),k.Db("d",o.getPathAt(a)),k.Cb(2),k.Cc(i)}}function G(t,e){if(1&t){var n=k.Vb();k.Ub(0,"app-tab-group",9),k.bc("selectionChange",function(t){return k.sc(n),k.fc().onTabSelectionChange(t)}),k.Ub(1,"div",10),k.zc(2,q,6,4,"button",11),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.lc("items",i.tabNames)("selection",i.tabSelection),k.Cb(2),k.lc("ngForOf",i.tabItems)("ngForTrackBy",i.trackByIndex)}}var H,Q=((H=function(){function t(e){h(this,t),this._http=e,this.tabSelection=-1,this.selection=-1}return f(t,[{key:"selectedPath",get:function(){return this.samples&&this.selection>=0?this.getPathAt(this.selection):""}},{key:"ngOnInit",value:function(){var t=this;this._http.get("assets/svg-path-editor/samples.json").subscribe(function(e){t.tabNames=Object.keys(e),t.samples=e,t.onTabSelectionChange(0)},function(e){t.errorMessage="HTTP load failed!",console.error("HTTP load error:",e)})}},{key:"onItemClick",value:function(t){this.selection=this.selection===t?-1:t}},{key:"onTabSelectionChange",value:function(t){this.tabSelection!==t&&(this.tabSelection=t,this.tabItems=Object.keys(this.samples[this.tabNames[t]]),this.selection=-1)}},{key:"trackByIndex",value:function(t){return t}},{key:"getPathAt",value:function(t){var e=this.samples[this.tabNames[this.tabSelection]];return e?e[this.tabItems[t]]:""}}]),t}()).\u0275fac=function(t){return new(t||H)(k.Ob(y.a))},H.\u0275cmp=k.Ib({type:H,selectors:[["app-sample-dialog"]],decls:13,vars:4,consts:[["templateError",""],["templateLoading",""],["mat-dialog-title",""],[1,"mat-typography"],[3,"items","selection","selectionChange",4,"ngIf","ngIfElse"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close","disabled"],[4,"ngIf","ngIfElse"],[3,"items","selection","selectionChange"],[1,"sample-dialog-body"],[3,"sample-dialog-selection","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],["viewBox","0 0 1024 1024"]],template:function(t,e){if(1&t&&(k.zc(0,Y,4,1,"ng-template",null,0,k.Ac),k.zc(2,L,1,2,"ng-template",null,1,k.Ac),k.Ub(4,"h2",2),k.Bc(5,"SVG Path Samples"),k.Tb(),k.Ub(6,"mat-dialog-content",3),k.zc(7,G,3,4,"app-tab-group",4),k.Tb(),k.Ub(8,"mat-dialog-actions",5),k.Ub(9,"button",6),k.Bc(10,"Cancel"),k.Tb(),k.Ub(11,"button",7),k.Bc(12,"Import"),k.Tb(),k.Tb()),2&t){var n=k.qc(3);k.Cb(7),k.lc("ngIf",e.samples)("ngIfElse",n),k.Cb(4),k.lc("mat-dialog-close",e.selectedPath)("disabled",0>e.selection)}},directives:[D.h,D.e,d.l,D.c,X.a,D.d,N.a,V.a,d.k],styles:[".sample-dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.sample-dialog-body[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:pointer;width:18em;height:12em;padding:.5em;margin:2px}.sample-dialog-body[_ngcontent-%COMP%] > button.sample-dialog-selection[_ngcontent-%COMP%]{background-color:rgba(0,0,255,.125)}.sample-dialog-body[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:10em;height:10em;margin:.25em}.sample-dialog-body[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:top}"]}),H),$=r("kmnG"),Z=r("qFsG"),W=r("bSwM"),K=r("5RNC");function J(t,e){if(1&t&&(k.Ub(0,"mat-hint"),k.Bc(1),k.Tb()),2&t){var n=k.fc();k.Cb(1),k.Ec("From ",n.min," to ",n.max,"")}}var tt,et=((tt=function(){function t(){h(this,t),this.label="Index",this.min=0,this.max=-1,this.selection=-1,this.selectionChange=new k.n}return f(t,[{key:"disabled",get:function(){return this.max<this.min}},{key:"requestSelectionChange",value:function(t){t!==this.selection&&t>=this.min&&t<=this.max&&this.selectionChange.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||tt)},tt.\u0275cmp=k.Ib({type:tt,selectors:[["app-index-selector"]],inputs:{label:"label",min:"min",max:"max",selection:"selection"},outputs:{selectionChange:"selectionChange"},decls:22,vars:14,consts:[[1,"index-selector"],[1,"index-selector-input"],["matInput","","type","number","step","1",3,"min","max","disabled","ngModel","ngModelChange"],[4,"ngIf"],[1,"index-selector-slider"],["step","1",3,"min","max","disabled","ngModel","input"],[1,"index-selector-buttons"],["mat-icon-button","",3,"disabled","click"],[1,"flex-space-filler-1"]],template:function(t,e){1&t&&(k.Ub(0,"div",0),k.Ub(1,"mat-form-field",1),k.Ub(2,"mat-label"),k.Bc(3),k.Tb(),k.Ub(4,"input",2),k.bc("ngModelChange",function(t){return e.requestSelectionChange(+t)}),k.Tb(),k.zc(5,J,2,2,"mat-hint",3),k.Tb(),k.Ub(6,"div",4),k.Ub(7,"mat-slider",5),k.bc("input",function(t){return e.requestSelectionChange(t.value)}),k.Tb(),k.Ub(8,"div",6),k.Ub(9,"button",7),k.bc("click",function(){return e.requestSelectionChange(e.min)}),k.Ub(10,"mat-icon"),k.Bc(11,"first_page"),k.Tb(),k.Tb(),k.Ub(12,"button",7),k.bc("click",function(){return e.requestSelectionChange(e.selection-1)}),k.Ub(13,"mat-icon"),k.Bc(14,"chevron_left"),k.Tb(),k.Tb(),k.Pb(15,"div",8),k.Ub(16,"button",7),k.bc("click",function(){return e.requestSelectionChange(e.selection+1)}),k.Ub(17,"mat-icon"),k.Bc(18,"chevron_right"),k.Tb(),k.Tb(),k.Ub(19,"button",7),k.bc("click",function(){return e.requestSelectionChange(e.max)}),k.Ub(20,"mat-icon"),k.Bc(21,"last_page"),k.Tb(),k.Tb(),k.Tb(),k.Tb(),k.Tb()),2&t&&(k.Cb(3),k.Cc(e.label),k.Cb(1),k.lc("min",e.min)("max",e.max)("disabled",e.disabled)("ngModel",e.selection),k.Cb(1),k.lc("ngIf",!e.disabled),k.Cb(2),k.lc("min",e.min)("max",e.max)("disabled",e.disabled)("ngModel",e.selection),k.Cb(2),k.lc("disabled",e.min>=e.selection),k.Cb(3),k.lc("disabled",e.min>=e.selection),k.Cb(4),k.lc("disabled",e.selection>=e.max),k.Cb(3),k.lc("disabled",e.selection>=e.max))},directives:[$.c,$.g,Z.a,v.n,v.b,v.i,v.l,d.l,K.a,X.a,N.a,$.f],styles:[".index-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.index-selector[_ngcontent-%COMP%]   .index-selector-input[_ngcontent-%COMP%]{min-width:5em;max-width:8em;flex:1 1 5em}.index-selector[_ngcontent-%COMP%]   .index-selector-slider[_ngcontent-%COMP%]{flex:1;max-width:40em;display:flex;flex-direction:column}.index-selector[_ngcontent-%COMP%]   .index-selector-slider[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{flex:1;margin-bottom:16px}.index-selector[_ngcontent-%COMP%]   .index-selector-slider[_ngcontent-%COMP%]   div.index-selector-buttons[_ngcontent-%COMP%]{display:flex;width:100%}"]}),tt),nt=r("STbY");function it(t,e){if(1&t){var n=k.Vb();k.Ub(0,"button",6),k.bc("click",function(){k.sc(n);var t=e.$implicit,i=k.fc(2);return i.requestPageChange(t,i.pageSize*i.pageIndex)}),k.Bc(1),k.Tb()}if(2&t){var i=e.$implicit,a=k.fc(2);k.lc("disabled",i===a.pageSize),k.Cb(1),k.Cc(i)}}function at(t,e){if(1&t&&(k.Sb(0),k.Ub(1,"button",2),k.Ub(2,"mat-icon"),k.Bc(3,"more_vert"),k.Tb(),k.Tb(),k.Ub(4,"mat-menu",null,3),k.Ub(6,"div",4),k.Bc(7,"Items per page:"),k.Tb(),k.zc(8,it,2,2,"button",5),k.Tb(),k.Rb()),2&t){var n=k.qc(5),i=k.fc();k.Cb(1),k.lc("matMenuTriggerFor",n),k.Cb(7),k.lc("ngForOf",i.pageSizeOptions)}}var ot,rt,ct=((rt=function(){function t(){h(this,t),this.itemCount=0,this.pageSize=1,this.pageIndex=0,this.pageChange=new k.n}return f(t,[{key:"pageCount",get:function(){return this.pageSize>0?Math.ceil(this.itemCount/this.pageSize):0}},{key:"requestPageChange",value:function(t,e){var n=Math.floor(e/t);this.pageIndex===n&&this.pageSize===t||this.pageChange.emit({pageIndex:n,pageSize:t})}}]),t}()).\u0275fac=function(t){return new(t||rt)},rt.\u0275cmp=k.Ib({type:rt,selectors:[["app-page-selector"]],inputs:{itemCount:"itemCount",pageSize:"pageSize",pageIndex:"pageIndex",pageSizeOptions:"pageSizeOptions"},outputs:{pageChange:"pageChange"},decls:2,vars:4,consts:[[4,"ngIf"],["label","Page",3,"min","max","selection","selectionChange"],["mat-icon-button","",1,"page-selector-menu-button",3,"matMenuTriggerFor"],["menu","matMenu"],[1,"page-selector-menu-label"],["mat-menu-item","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"disabled","click"]],template:function(t,e){1&t&&(k.zc(0,at,9,2,"ng-container",0),k.Ub(1,"app-index-selector",1),k.bc("selectionChange",function(t){return e.requestPageChange(e.pageSize,e.pageSize*(t-1))}),k.Tb()),2&t&&(k.lc("ngIf",(null==e.pageSizeOptions?null:e.pageSizeOptions.length)>1),k.Cb(1),k.lc("min",1)("max",e.pageCount)("selection",e.pageIndex+1))},directives:[d.l,et,X.a,nt.d,N.a,nt.a,d.k,nt.b],styles:[".page-selector-menu-button[_ngcontent-%COMP%]{float:right}.page-selector-menu-label[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em;padding-bottom:.5em;border-bottom:1px solid rgba(0,0,0,.25)}"]}),rt),st=((ot=function(){function t(){h(this,t)}return f(t,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e({},Symbol.iterator,regeneratorRuntime.mark(function e(){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n+t,a=n;case 2:if(!(a<i)){e.next=8;break}return e.next=5,a;case 5:a++,e.next=2;break;case 8:case"end":return e.stop()}},e)}))}}]),t}()).\u0275fac=function(t){return new(t||ot)},ot.\u0275pipe=k.Nb({name:"xrange",type:ot,pure:!0}),ot),lt=["pathRef"];function ut(t,e){if(1&t&&(k.Ub(0,"div"),k.Bc(1),k.Tb()),2&t){var n=k.fc();k.Cb(1),k.Cc(n.status)}}function bt(t,e){if(1&t){var n=k.Vb();k.Ub(0,"button",16),k.bc("click",function(){return k.sc(n),k.fc(3).setSelectionInput("")}),k.Ub(1,"mat-icon"),k.Bc(2,"close"),k.Tb(),k.Tb()}}function ht(t,e){if(1&t){var n=k.Vb();k.Ub(0,"mat-checkbox",17),k.bc("ngModelChange",function(t){k.sc(n);var i=e.$implicit;return k.fc(3).setSelectionItem(i,t)}),k.Bc(1),k.Tb()}if(2&t){var i=e.$implicit,a=k.fc(3);k.wc("visibility",a.getVisibility(i)),k.lc("ngModel",a.getSelectionItem(i)),k.Cb(1),k.Dc("",a.pageSize*a.pageIndex+i+1,". ")}}function gt(t,e){if(1&t){var n=k.Vb();k.Ub(0,"app-page-selector",18),k.bc("pageChange",function(t){return k.sc(n),k.fc(3).setPage(t.pageSize,t.pageIndex)}),k.Tb()}if(2&t){var i=k.fc(3);k.lc("pageSize",i.pageSize)("pageIndex",i.pageIndex)("itemCount",i.items.length)("pageSizeOptions",i.pageSizeOptions)}}function ft(t,e){if(1&t){var n=k.Vb();k.ec(),k.dc(),k.Sb(0),k.Ub(1,"div"),k.Bc(2),k.Tb(),k.Ub(3,"mat-form-field"),k.Ub(4,"mat-label"),k.Bc(5,"Selection"),k.Tb(),k.Ub(6,"input",11),k.bc("ngModelChange",function(t){return k.sc(n),k.fc(2).setSelectionInput(t)}),k.Tb(),k.zc(7,bt,3,0,"button",12),k.Tb(),k.Ub(8,"div",13),k.zc(9,ht,2,4,"mat-checkbox",14),k.gc(10,"xrange"),k.Tb(),k.zc(11,gt,1,4,"app-page-selector",15),k.Rb()}if(2&t){var i=k.fc(2);k.Cb(2),k.Dc("Path Count: ",i.items.length,""),k.Cb(4),k.lc("ngModel",i.selectionInput),k.Cb(1),k.lc("ngIf",i.selectionInput),k.Cb(2),k.lc("ngForOf",k.hc(10,6,i.pageSize))("ngForTrackBy",i.trackByIndex),k.Cb(2),k.lc("ngIf",i.pageSizeOptions.length>1)}}function mt(t,e){if(1&t&&(k.Ub(0,"div",6),k.Ub(1,"div",7),k.ec(),k.Ub(2,"svg",8),k.Pb(3,"path",null,9),k.Tb(),k.Tb(),k.zc(5,ft,12,8,"ng-container",10),k.Tb()),2&t){var n=k.fc();k.Cb(2),k.Db("viewBox",n.viewBox),k.Cb(1),k.Db("d",n.selectedPath),k.Cb(2),k.lc("ngIf",n.items.length>1)}}var dt,pt=((dt=function(){function t(e){h(this,t),this.data=e,this.pageIndex=0,this.pageSize=0,this.pageSizeOptions=[5,10,20,30,40,50],this.items=[],this.viewBox="0 0 100 100",this.selectionInput="",this.selectedPath="",this.status="Loading..."}return f(t,[{key:"ngOnInit",value:function(){var t=this,e=this.data,i=new FileReader;i.onload=function(e){if(t.status="Could not find any SVG path data.","string"==typeof i.result){var a=/[\s\"\']d=\"([^\"]+)\"/,o=i.result.match(/\<path([^>]+)/g);if(o){var r,c=new Set,s=n(o);try{for(s.s();!(r=s.n()).done;){var l=r.value.match(a);l&&l[1]&&c.add(l[1])}}catch(m){s.e(m)}finally{s.f()}var u,b=n(c.values());try{for(b.s();!(u=b.n()).done;){var h=u.value;t.items.push({value:h})}}catch(m){b.e(m)}finally{b.f()}if(1===t.items.length)t.setSelectionItem(0,!0);else if(t.items.length>1){var g=t.pageSizeOptions.findIndex(function(e){return e>=t.items.length});g>=0&&g+1<t.pageSizeOptions.length&&(t.pageSizeOptions=t.pageSizeOptions.slice(0,g+1));var f=Math.min(1,t.pageSizeOptions.length-1);t.setPage(t.pageSizeOptions[f],0)}}}},i.onerror=function(e){t.status="Error reading from file. Verify that the file exists and that you can access it."},i.readAsText(e)}},{key:"adjustViewBox",value:function(){var t=this;setTimeout(function(){var e=t.selectedPathRef.nativeElement;if(e&&"function"==typeof e.getBBox){var n=e.getBBox(),i=Math.floor(n.x)-2,a=Math.floor(n.y)-2,o=Math.ceil(n.width)+4,r=Math.ceil(n.height)+4;o>0&&r>0&&(t.viewBox="".concat(i," ").concat(a," ").concat(o," ").concat(r))}},1)}},{key:"setPage",value:function(t,e){this.pageSize=t,this.pageIndex=e}},{key:"trackByIndex",value:function(t){return t}},{key:"setSelectionInput",value:function(t){this.selectionInput!==t&&(this.selectionInput=t,this.onInputChange())}},{key:"getIndex",value:function(t){return this.pageSize*this.pageIndex+t}},{key:"getVisibility",value:function(t){var e,n=this.getIndex(t);return n>=0&&n<(null===(e=this.items)||void 0===e?void 0:e.length)?"visible":"hidden"}},{key:"getSelectionItem",value:function(t){var e,n=this.getIndex(t);return null===(e=this.items[n])||void 0===e?void 0:e.selected}},{key:"setSelectionItem",value:function(t,e){var n=this.getIndex(t),i=this.items[n];i&&!i.selected!=!e&&(i.selected=e,this.onSelectionItemChange())}},{key:"onSelectionItemChange",value:function(){for(var t=[],e=0,n=-1,i=0;i<this.items.length;i++)this.items[i].selected?n=i:(n>=e&&t.push({first:e,last:n}),e=i+1);n>=e&&t.push({first:e,last:n});for(var a="",o=0,r=t;o<r.length;o++){var c=r[o];a+=","+(c.first+1),c.last>c.first&&(a+=(c.last===c.first+1?",":"-")+(c.last+1))}this.selectionInput=a.substring(",".length),this.onSelectionChange()}},{key:"onSelectionChange",value:function(){var t=this.items.filter(function(t){return t.selected}).map(function(t){return t.value.replace(/NaN/gi," 0 ")}).join("");t!==this.selectedPath&&(this.selectedPath=t,this.adjustViewBox())}},{key:"onInputChange",value:function(){for(var t=this.items.length,e=function(t,e){var i=new Array(t),a=(e||"").replace(/\s+/g,"");if(a){var o,r=/^\d+$/,c=n(a.split(","));try{for(c.s();!(o=c.n()).done;){var s=o.value;if(r.test(s)){var l=+s;l>0&&l<=t&&(i[l-1]=!0)}else{var u=s.split("-"),b=+u[0],h=+u[1];if(b>=1&&h>=b)for(var g=Math.min(h,t),f=b-1;f<g;f++)i[f]=!0}}}catch(m){c.e(m)}finally{c.f()}}return i}(t,this.selectionInput),i=0;i<t;i++)this.items[i].selected=e[i];this.onSelectionChange()}}]),t}()).\u0275fac=function(t){return new(t||dt)(k.Ob(D.a))},dt.\u0275cmp=k.Ib({type:dt,selectors:[["app-svg-open-dialog"]],viewQuery:function(t,e){var n;1&t&&k.Gc(lt,1),2&t&&k.pc(n=k.cc())&&(e.selectedPathRef=n.first)},decls:12,vars:5,consts:[["templateStatus",""],["mat-dialog-title","",2,"margin","0"],["class","svg-open-dialog-content",4,"ngIf","ngIfElse"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close","disabled"],[1,"svg-open-dialog-content"],[1,"svg-open-dialog-preview"],["width","100%","height","100%"],["pathRef",""],[4,"ngIf"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"svg-open-dialog-items"],[3,"visibility","ngModel","ngModelChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"pageSize","pageIndex","itemCount","pageSizeOptions","pageChange",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"ngModel","ngModelChange"],[3,"pageSize","pageIndex","itemCount","pageSizeOptions","pageChange"]],template:function(t,e){if(1&t&&(k.zc(0,ut,2,1,"ng-template",null,0,k.Ac),k.Ub(2,"h2",1),k.Bc(3,"SVG Path"),k.Tb(),k.Ub(4,"div"),k.Bc(5),k.Tb(),k.zc(6,mt,6,3,"div",2),k.Ub(7,"mat-dialog-actions",3),k.Ub(8,"button",4),k.Bc(9,"Cancel"),k.Tb(),k.Ub(10,"button",5),k.Bc(11,"Import"),k.Tb(),k.Tb()),2&t){var n=k.qc(1);k.Cb(5),k.Cc(e.data.name),k.Cb(1),k.lc("ngIf",e.items.length>0)("ngIfElse",n),k.Cb(4),k.lc("mat-dialog-close",e.selectedPath)("disabled",!e.selectedPath)}},directives:[D.h,d.l,D.c,X.a,D.d,$.c,$.g,Z.a,v.b,v.i,v.l,d.k,$.h,N.a,W.a,ct],pipes:[st],styles:[".svg-open-dialog-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;max-width:52em;padding:1em}.svg-open-dialog-items[_ngcontent-%COMP%] > mat-checkbox[_ngcontent-%COMP%]{display:inline-block;min-width:5em}.svg-open-dialog-content[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25);overflow-y:auto;min-width:42vmin;min-height:42vmin;max-height:80vh}.svg-open-dialog-preview[_ngcontent-%COMP%]{width:40vmin;height:40vmin}@media (max-height:480px){.svg-open-dialog-content[_ngcontent-%COMP%]{max-height:60vh}}"]}),dt),vt=r("zh6y");function yt(t){return"M"===t.name}function xt(t){return"L"===t.name}function Ct(t){return"H"===t.name}function kt(t){return"V"===t.name}function Mt(t){return"Z"===t.name}function Tt(t){return"C"===t.name}function Ut(t){return"S"===t.name}function wt(t){return"Q"===t.name}function It(t){return"T"===t.name}function Ot(t){return"A"===t.name}function St(t){return Tt(t)||wt(t)}function Pt(t){return Tt(t)||Ut(t)}var _t={M:"MoveTo",L:"LineTo",H:"Horizontal LineTo",V:"Vertical LineTo",C:"Cubic B\xe9zier Curve",S:"Smooth Cubic B\xe9zier Curve",Q:"Quadratic B\xe9zier Curve",T:"Smooth Quadratic B\xe9zier Curve",A:"Elliptical Arc Curve",Z:"ClosePath"};function Bt(t,e){return" "+(e<0?t.toString():Object(R.f)(t,e))}function Ft(t,e,n,i){var a="";return Mt(t)||(St(t)&&(a+=Bt(t.x1-e,i),a+=Bt(t.y1-n,i)),Pt(t)&&(a+=Bt(t.x2-e,i),a+=Bt(t.y2-n,i)),Ot(t)&&(a+=Bt(t.rx,i),a+=Bt(t.ry,i),a+=Bt(t.angle,i),a+=" "+(t.largeArcFlag?"1":"0")+(t.sweepFlag?"1":"0")),kt(t)||(a+=Bt(t.x-e,i)),Ct(t)||(a+=Bt(t.y-n,i))),a}function At(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.name+Ft(t,0,0,e)}function Rt(t,e,n){Mt(t)||(kt(t)||(t.x+=e),Ct(t)||(t.y+=n),St(t)&&(t.x1+=e,t.y1+=n),Pt(t)&&(t.x2+=e,t.y2+=n))}var jt=function(t){return t[t.NorthWest=0]="NorthWest",t[t.North=1]="North",t[t.NorthEast=2]="NorthEast",t[t.West=3]="West",t[t.Center=4]="Center",t[t.East=5]="East",t[t.SouthWest=6]="SouthWest",t[t.South=7]="South",t[t.SouthEast=8]="SouthEast",t}({});function zt(t,e){return{x:function(t){return t===jt.NorthWest||t===jt.West||t===jt.SouthWest}(e)?t.left:function(t){return t===jt.NorthEast||t===jt.East||t===jt.SouthEast}(e)?t.right:(t.left+t.right)/2,y:function(t){return t===jt.NorthWest||t===jt.North||t===jt.NorthEast}(e)?t.top:function(t){return t===jt.SouthWest||t===jt.South||t===jt.SouthEast}(e)?t.bottom:(t.top+t.bottom)/2}}function Dt(t,e){return{left:t,top:e,right:t,bottom:e}}function Xt(t,e){t.left=Math.min(t.left,e),t.right=Math.max(t.right,e)}function Nt(t,e){t.top=Math.min(t.top,e),t.bottom=Math.max(t.bottom,e)}function Vt(t,e,n){Xt(t,e),Nt(t,n)}function Yt(t,e){Xt(t,e.left),Xt(t,e.right),Nt(t,e.top),Nt(t,e.bottom)}function Et(t,e,n,i){var a=Math.atan2(e,t),o=Math.atan2(i,n),r=o-a,c=r+(o>a?-1:1)*Math.PI*2;return Math.abs(c)<Math.abs(r)?c:r}function Lt(t,e,n){switch(t){case"Z":return{name:t,prev:n};case"H":return{name:t,x:+e[0],prev:n};case"V":return{name:t,y:+e[0],prev:n};case"M":case"L":case"T":return{name:t,x:+e[0],y:+e[1],prev:n};case"Q":return{name:t,x1:+e[0],y1:+e[1],x:+e[2],y:+e[3],prev:n};case"S":return{name:t,x2:+e[0],y2:+e[1],x:+e[2],y:+e[3],prev:n};case"C":return{name:t,x1:+e[0],y1:+e[1],x2:+e[2],y2:+e[3],x:+e[4],y:+e[5],prev:n};case"A":return{name:t,rx:+e[0],ry:+e[1],angle:+e[2],largeArcFlag:1==+e[3],sweepFlag:1==+e[4],x:+e[5],y:+e[6],prev:n}}}function qt(t){for(var e=t;e;e=e.prev)if(yt(e))return e}function Gt(t){return t?Mt(t)?Gt(qt(t.prev)):kt(t)?Gt(t.prev):t.x:0}function Ht(t){return t?Mt(t)?Ht(qt(t.prev)):Ct(t)?Ht(t.prev):t.y:0}function Qt(t){return St(t)?t.x1:Wt(t)}function $t(t){return St(t)?t.y1:Kt(t)}function Zt(t,e){return e.name===t.name||Tt(e)&&Ut(t)||wt(e)&&It(t)}function Wt(t){var e=t.prev,n=Gt(e);return e&&Zt(t,e)&&(n+=n-function(t){return Pt(t)?t.x2:wt(t)?t.x1:Wt(t)}(e)),n}function Kt(t){var e=t.prev,n=Ht(e);return e&&Zt(t,e)&&(n+=n-function(t){return Pt(t)?t.y2:wt(t)?t.y1:Kt(t)}(e)),n}function Jt(t){var e=Gt(t.prev),n=Ht(t.prev),i=t.x,a=t.y,o=t.largeArcFlag,r=t.sweepFlag,c=t.angle*Math.PI/180,s=Math.abs(t.rx),l=Math.abs(t.ry);if(0===s||0===l)return{cx:(e+i)/2,cy:(n+a)/2,rx:s,ry:l,phi:c};var u=Math.cos(c),b=Math.sin(c),h=(e-i)/2,g=(n-a)/2,f=u*h+b*g,m=-b*h+u*g,d=(f*f*l*l+m*m*s*s)/(s*s*l*l);d>1&&(s*=Math.sqrt(d),l*=Math.sqrt(d));var p=(o===r?-1:1)*Math.sqrt(Math.max(s*s*l*l-s*s*m*m-l*l*f*f,0)/(s*s*m*m+l*l*f*f)),v=p*s*m/l,y=p*-l*f/s,x=u*v-b*y||0,C=b*v+u*y||0,k=(f-v)/s,M=(m-y)/l,T=-(f+v)/s,U=-(m+y)/l,w=Et(1,0,k,M)||0,I=Et(k,M,T,U)||0;return r?I<0&&(I+=2*Math.PI):I>0&&(I-=2*Math.PI),{cx:x+(e+i)/2,cy:C+(n+a)/2,rx:s,ry:l,phi:c,theta:w,deltaTheta:I}}function te(t,e){var n=Math.cos(t.phi),i=Math.sin(t.phi),a=t.rx*Math.cos(e),o=t.ry*Math.sin(e);return{x:n*a-i*o+t.cx,y:i*a+n*o+t.cy}}function ee(t,e){var n=Math.cos(t.phi),i=Math.sin(t.phi),a=-t.rx*Math.sin(e),o=t.ry*Math.cos(e);return{x:n*a-i*o,y:i*a+n*o}}function ne(t,e,n,i,a,o,r,c){var s=ee(a,o),l=ee(a,r),u=4*Math.tan((r-o)/4)/3,b=n-u*l.x,h=i-u*l.y;return c?{name:"S",x2:b,y2:h,x:n,y:i}:{name:"C",x1:t+u*s.x,y1:e+u*s.y,x2:b,y2:h,x:n,y:i}}function ie(t){var e=Jt(t);if(e.rx<=0||e.ry<=0||!e.deltaTheta)return[{name:"L",x:t.x,y:t.y}];var n=Gt(t.prev),i=Ht(t.prev),a=e.theta,o=e.deltaTheta;if(Math.abs(o)>4*Math.PI/3){var r=a+o/3,c=a+2*o/3,s=a+o,l=te(e,r),u=te(e,c);return[ne(n,i,l.x,l.y,e,a,r),ne(l.x,l.y,u.x,u.y,e,r,c,!0),ne(u.x,u.y,t.x,t.y,e,c,s,!0)]}if(Math.abs(o)>2*Math.PI/3){var b=a+o/2,h=a+o,g=te(e,b);return[ne(n,i,g.x,g.y,e,a,b),ne(g.x,g.y,t.x,t.y,e,b,h,!0)]}return[ne(n,i,t.x,t.y,e,a,a+o)]}function ae(t,e){return t.name.toLowerCase()+Ft(t,Gt(t.prev),Ht(t.prev),e)}function oe(t){if(Ot(t))return function(t){var e=Dt(t.x,t.y);Vt(e,Gt(t.prev),Ht(t.prev));var n=Jt(t);if(0===n.rx||0===n.ry||0===n.deltaTheta)return e;for(var i=n.theta+Math.min(n.deltaTheta,0),a=n.theta+Math.max(n.deltaTheta,0),o=-Math.atan2(n.ry*Math.tan(n.phi),n.rx);o>i;o-=Math.PI);for(;o<a;o+=Math.PI)if(o>i){var r=te(n,o);Vt(e,r.x,r.y)}for(var c=Math.atan2(n.ry,Math.tan(n.phi)*n.rx);c>i;c-=Math.PI);for(;c<a;c+=Math.PI)if(c>i){var s=te(n,c);Vt(e,s.x,s.y)}return e}(t);if(wt(t)||It(t))return function(t){var e,n,i,a=Gt(t.prev),o=Ht(t.prev),r=Qt(t),c=$t(t),s=t.x,l=t.y,u=Dt(a,o);if(Vt(u,s,l),i=c,(n=r)<(e=u).left||n>e.right||i<e.top||i>e.bottom){var b=Object(R.d)((a-r)/(a-2*r+s)||0,0,1),h=Object(R.a)(a,r,s,b),g=Object(R.d)((o-c)/(o-2*c+l)||0,0,1);Vt(u,h,Object(R.a)(o,c,l,g))}return u}(t);if(Tt(t)||Ut(t))return function(t){var e=Gt(t.prev),n=Ht(t.prev),i=Qt(t),a=$t(t),o=t.x2,r=t.y2,c=t.x,s=t.y,l=Dt(e,n);Vt(l,c,s);var u=-e+i,b=e-2*i+o,h=b*b-u*(3*i-e-3*o+c);if(h>0){var g=-u/(b+(h=Math.sqrt(h)));g>0&&g<1&&Xt(l,Object(R.b)(e,i,o,c,g)),(g=-u/(b-h))>0&&g<1&&Xt(l,Object(R.b)(e,i,o,c,g))}var f=-n+a,m=n-2*a+r,d=m*m-f*(3*a-n-3*r+s);if(d>0){var p=-f/(m+(d=Math.sqrt(d)));p>0&&p<1&&Nt(l,Object(R.b)(n,a,r,s,p)),(p=-f/(m-d))>0&&p<1&&Nt(l,Object(R.b)(n,a,r,s,p))}return l}(t);var e=Dt(Gt(t),Ht(t));return yt(t)||Vt(e,Gt(t.prev),Ht(t.prev)),e}function re(t,e,n){return t.a*e+t.c*n+t.e}function ce(t,e,n){return t.b*e+t.d*n+t.f}function se(t){var e,i=0,a=n(t);try{for(a.s();!(e=a.n()).done;){e.value.selected&&i++}}catch(o){a.e(o)}finally{a.f()}return i}function le(t){for(var e=[],n=0;n<t.length;n++)t[n].selected&&e.push(n);return e}function ue(t){for(var e=0;e<t.length;e++)if(t[e].selected)return e;return-1}function be(t){for(var e=t.length;e-- >0;)if(t[e].selected)return e;return-1}function he(t){return ue(t)>=0}function ge(t){var e,i=n(t);try{for(i.s();!(e=i.n()).done;){if(!e.value.selected)return!1}}catch(a){i.e(a)}finally{i.f()}return!0}function fe(t){var e=se(t);return e>0&&e<t.length}function me(t,e,n){var i=t[e];i&&(i.selected=n)}function de(t,e){var i,a=n(t);try{for(a.s();!(i=a.n()).done;){i.value.selected=e}}catch(o){a.e(o)}finally{a.f()}}function pe(t,e,n){de(t,!n),me(t,e,n)}function ve(t,e){return t.outputAsRelative?ae(t,e):At(t,e)}var ye=/([MLHVZCSQTA])/gi,xe=/[01]/,Ce=/[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/,ke=/[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/,Me={M:[Ce,Ce],L:[Ce,Ce],H:[Ce],V:[Ce],Z:[],C:[Ce,Ce,Ce,Ce,Ce,Ce],S:[Ce,Ce,Ce,Ce],Q:[Ce,Ce,Ce,Ce],T:[Ce,Ce],A:[ke,ke,Ce,xe,xe,Ce,Ce]},Te=function(){function t(){h(this,t),this._data=""}return f(t,[{key:"data",get:function(){return this._data},set:function(t){this._data=t.trim()}},{key:"moveTo",value:function(t){this.data=this.data.slice(t)}},{key:"read",value:function(t){t.lastIndex=0;var e=t.exec(this.data);if(null!==e){var n=e[0];return this.moveTo(e.index+n.length),n}return null}},{key:"readAll",value:function(t){var e,i=[],a=n(t);try{for(a.s();!(e=a.n()).done;){var o=e.value,r=this.read(o);if(null===r)return null;i.push(r)}}catch(c){a.e(c)}finally{a.f()}return i}}]),t}();function Ue(t){for(var e,n=[],i=t.split(ye),a=new Te,o=2;o<i.length;o+=2){var r=i[o-1];for(a.data=i[o];;){var c=r.toUpperCase(),s=a.readAll(Me[c]);if(null===s)break;if(e=Object(vt.a)(e,Lt(c,s)).tail,r.toLowerCase()===r&&(Rt(e,Gt(e.prev),Ht(e.prev)),e.outputAsRelative=!0),n.push(e),!a.data||0===s.length)break;"M"===r?r="L":"m"===r&&(r="l")}}return n}function we(t,e,i){i||(i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY});var a,o=!e,r=n(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;(o||c.selected)&&Yt(i,oe(c))}}catch(s){r.e(s)}finally{r.f()}return i}function Ie(t){return Object.assign(Object.assign({},t),{prev:void 0,next:void 0,list:void 0})}function Oe(t){if(t.prev&&!t.prev.selected!=!t.selected){if(Ut(t)){var e=Wt(t),n=Kt(t);return Object.assign(Object.assign({},t),{name:"C",x1:e,y1:n,prev:void 0,next:void 0,list:void 0})}if(It(t)){var i=Wt(t),a=Kt(t);return Object.assign(Object.assign({},t),{name:"Q",x1:i,y1:a,prev:void 0,next:void 0,list:void 0})}}return Ie(t)}function Se(t,e){var n=void 0,i=void 0,a=void 0;if(Ct(t)){var o=Object(R.i)(Gt(t.prev),t.x,e);return[Object.assign(Object.assign({},t),{x:o,prev:n,next:i,list:a}),Ie(t)]}if(kt(t)){var r=Object(R.i)(Ht(t.prev),t.y,e);return[Object.assign(Object.assign({},t),{y:r,prev:n,next:i,list:a}),Ie(t)]}if(xt(t)){var c=Object(R.i)(Gt(t.prev),t.x,e),s=Object(R.i)(Ht(t.prev),t.y,e);return[Object.assign(Object.assign({},t),{x:c,y:s,prev:n,next:i,list:a}),Ie(t)]}if(Tt(t)||Ut(t)){var l=Gt(t.prev),u=Ht(t.prev),b=Qt(t),h=$t(t),g=t.x2,f=t.y2,m=Object(R.i)(b,g,e),d=Object(R.i)(h,f,e),p=t.x,v=t.y,y=Object(R.i)(g,p,e),x=Object(R.i)(f,v,e),C=Object(R.i)(m,y,e),k=Object(R.i)(d,x,e),M=Object(R.i)(l,b,e),T=Object(R.i)(u,h,e),U=Object(R.i)(M,m,e),w=Object(R.i)(T,d,e),I=Object(R.i)(U,C,e),O=Object(R.i)(w,k,e);return[Object.assign(Object.assign({},t),{name:"C",x1:M,y1:T,x2:U,y2:w,x:I,y:O,prev:n,next:i,list:a}),Object.assign(Object.assign({},t),{name:"S",x2:y,y2:x,x:p,y:v,prev:n,next:i,list:a})]}if(wt(t)||It(t)){var S=Gt(t.prev),P=Ht(t.prev),_=Qt(t),B=$t(t),F=t.x,A=t.y,j=Object(R.i)(_,F,e),z=Object(R.i)(B,A,e),D=Object(R.i)(S,_,e),X=Object(R.i)(P,B,e),N=Object(R.i)(D,j,e),V=Object(R.i)(X,z,e);return[Object.assign(Object.assign({},t),{name:"Q",x1:D,y1:X,x:N,y:V,prev:n,next:i,list:a}),Object.assign(Object.assign({},t),{name:"T",x:F,y:A,prev:n,next:i,list:a})]}if(Ot(t)){var Y=Jt(t),E=Y.cx,L=Y.cy,q=Y.rx,G=Y.ry,H=Y.phi,Q=Y.theta,$=Y.deltaTheta;if($){var Z=Object(R.i)(0,$,e),W=te({cx:E,cy:L,rx:q,ry:G,phi:H},Q+Z),K=Math.abs(Z)>Math.PI,J=Math.abs($-Z)>Math.PI;return[Object.assign(Object.assign({},t),{rx:q,ry:G,largeArcFlag:K,x:W.x,y:W.y,prev:n,next:i,list:a}),Object.assign(Object.assign({},t),{rx:q,ry:G,largeArcFlag:J,prev:n,next:i,list:a})]}var tt=Object(R.i)(Gt(t.prev),t.x,e),et=Object(R.i)(Ht(t.prev),t.y,e);return[Object.assign(Object.assign({},t),{x:tt,y:et,prev:n,next:i,list:a}),Ie(t)]}return[Ie(t)]}function Pe(e){return Object(vt.b).apply(void 0,t(e)),e}function _e(t,e){var n=!he(t);return Pe(t.map(function(t){var i=n||t.selected?function(t,e){if(Mt(e))return{name:e.name};if(Ct(e)){var n=Ht(e.prev);return{name:"L",x:re(t,e.x,n),y:ce(t,e.x,n)}}if(kt(e)){var i=Gt(e.prev);return{name:"L",x:re(t,i,e.y),y:ce(t,i,e.y)}}var a,o,r,c,s,l,u,b,h,g,f,m,d,p,v,y,x,C=re(t,e.x,e.y),k=ce(t,e.x,e.y);if(wt(e)){var M=re(t,e.x1,e.y1),T=ce(t,e.x1,e.y1);return{name:e.name,x1:M,y1:T,x:C,y:k}}if(Ut(e)){var U=re(t,e.x2,e.y2),w=ce(t,e.x2,e.y2);return{name:e.name,x2:U,y2:w,x:C,y:k}}if(Tt(e)){var I=re(t,e.x1,e.y1),O=ce(t,e.x1,e.y1),S=re(t,e.x2,e.y2),P=ce(t,e.x2,e.y2);return{name:e.name,x1:I,y1:O,x2:S,y2:P,x:C,y:k}}return Ot(e)?Object.assign(Object.assign({name:e.name},(a=t,r=(o=e).angle*Math.PI/180,c=Math.sin(r),s=Math.cos(r),l=1/(o.rx*o.rx),u=1/(o.ry*o.ry),h=2*s*c*(l-u),g=c*c*l+s*s*u,f=(b=s*s*l+c*c*u)*a.d*a.d-h*a.b*a.d+g*a.b*a.b,m=h*(a.a*a.d+a.b*a.c)-2*(b*a.c*a.d+g*a.a*a.b),d=b*a.c*a.c-h*a.a*a.c+g*a.a*a.a,p=a.a*a.d-a.b*a.c,v=(Math.atan2(m,f-d)+Math.PI)%Math.PI/2,y=Math.sin(v),x=Math.cos(v),{rx:Math.abs(p)/Math.sqrt(f*x*x+m*y*x+d*y*y)||0,ry:Math.abs(p)/Math.sqrt(f*y*y-m*y*x+d*x*x)||0,angle:180*v/Math.PI||0,largeArcFlag:o.largeArcFlag,sweepFlag:0>p?!o.sweepFlag:o.sweepFlag})),{x:C,y:k}):{name:e.name,x:C,y:k}}(e,t):Oe(t);return i.outputAsRelative=t.outputAsRelative,i.selected=t.selected,i}))}function Be(e,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var r=e.map(Ie),c=a.map(Ie);return r.splice.apply(r,[n,0].concat(t(c))),Pe(r)}function Fe(t,e,n){var i=t[e],a=i.outputAsRelative,o=i.selected,r=Gt(i.prev),c=Ht(i.prev);if(Ot(i))n.push({name:"A",rx:i.rx,ry:i.ry,angle:i.angle,largeArcFlag:i.largeArcFlag,sweepFlag:!i.sweepFlag,x:r,y:c,outputAsRelative:a,selected:o});else if(xt(i))n.push({name:"L",x:r,y:c,outputAsRelative:a,selected:o});else if(Ct(i))n.push({name:"H",x:r,outputAsRelative:a,selected:o});else if(kt(i))n.push({name:"V",y:c,outputAsRelative:a,selected:o});else if(Tt(i))i.next&&Ut(i.next)?n.push({name:"S",x2:i.x1,y2:i.y1,x:r,y:c,outputAsRelative:a,selected:o}):n.push({name:"C",x1:i.x2,y1:i.y2,x2:i.x1,y2:i.y1,x:r,y:c,outputAsRelative:a,selected:o});else if(wt(i))i.next&&It(i.next)?n.push({name:"T",x:r,y:c,outputAsRelative:a,selected:o}):n.push({name:"Q",x1:i.x1,y1:i.y1,x:r,y:c,outputAsRelative:a,selected:o});else if(Ut(i))i.next&&Ut(i.next)?n.push({name:"S",x2:Wt(i),y2:Kt(i),x:r,y:c,outputAsRelative:a,selected:o}):n.push({name:"C",x1:i.x2,y1:i.y2,x2:Wt(i),y2:Kt(i),x:r,y:c,outputAsRelative:a,selected:o});else if(It(i))i.next&&It(i.next)?n.push({name:"T",x:r,y:c,outputAsRelative:a,selected:o}):n.push({name:"Q",x1:Wt(i),y1:Kt(i),x:r,y:c,outputAsRelative:a,selected:o});else{var s=Gt(i),l=Ht(i);yt(i)?(function(t,e){for(;e<t.length;){var n=t[e];if(Mt(n))return!0;if(yt(n))return!1;e++}return!1}(t,e+1)&&n.push({name:"Z",outputAsRelative:a,selected:o}),!i.prev||s===r&&l===c||n.push({name:"M",x:r,y:c,outputAsRelative:i.prev.outputAsRelative,selected:i.prev.selected})):Mt(i)&&(s!==r?n.push(l!==c?{name:"L",x:r,y:c,outputAsRelative:a,selected:o}:{name:"H",x:r,outputAsRelative:a,selected:o}):l!==c&&n.push({name:"V",y:c,outputAsRelative:a,selected:o}))}}function Ae(t){var e=[],n=t.length;if(n>0){var i=t[n-1];for(e.push({name:"M",x:Gt(i),y:Ht(i),outputAsRelative:i.outputAsRelative,selected:i.selected});n-- >0;)Fe(t,n,e)}return Pe(e)}function Re(t){return function(t){return Ct(t)||kt(t)}(t)||xt(t)||It(t)}function je(t){return Re(t)||wt(t)||Ut(t)}var ze=r("rDax"),De=r("XhcP"),Xe=r("/t3+"),Ne=r("1jcm"),Ve=r("7EHt"),Ye=r("d3UM"),Ee=r("f0Cb"),Le=r("FKr1");function qe(t,e){if(1&t){var n=k.Vb();k.Ub(0,"button",5),k.bc("click",function(){k.sc(n);var t=e.index,i=k.fc().index;return k.fc().requestLocation(i,t)}),k.Ub(1,"mat-icon"),k.Bc(2),k.Tb(),k.Tb()}if(2&t){var i=e.$implicit;k.Cb(2),k.Cc(i)}}function Ge(t,e){if(1&t&&(k.Ub(0,"div"),k.zc(1,qe,3,1,"button",4),k.Tb()),2&t){var n=e.$implicit;k.Cb(1),k.lc("ngForOf",n)}}var He,Qe=((He=function(){function t(){h(this,t),this.disabled=!1,this.locationChange=new k.n,this.locationIcons=[["north_west","north","north_east"],["west","trip_origin","east"],["south_west","south","south_east"]]}return f(t,[{key:"ngOnInit",value:function(){}},{key:"requestLocation",value:function(t,e){this.locationChange.emit(3*t+e)}}]),t}()).\u0275fac=function(t){return new(t||He)},He.\u0275cmp=k.Ib({type:He,selectors:[["app-location-adjuster"]],inputs:{disabled:"disabled"},outputs:{locationChange:"locationChange"},decls:7,vars:3,consts:[["mat-icon-button","",3,"matMenuTriggerFor","disabled"],["menu","matMenu"],[1,"location-adjuster-menu"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"]],template:function(t,e){if(1&t&&(k.Ub(0,"button",0),k.Ub(1,"mat-icon"),k.Bc(2,"pin_drop"),k.Tb(),k.Tb(),k.Ub(3,"mat-menu",null,1),k.Ub(5,"div",2),k.zc(6,Ge,2,1,"div",3),k.Tb(),k.Tb()),2&t){var n=k.qc(4);k.lc("matMenuTriggerFor",n)("disabled",e.disabled),k.Cb(6),k.lc("ngForOf",e.locationIcons)}},directives:[X.a,nt.d,N.a,nt.a,d.k],styles:[".location-adjuster-menu[_ngcontent-%COMP%]{padding:.5em}"]}),He);function $e(t,e){if(1&t&&(k.Ub(0,"mat-option",14),k.Bc(1),k.Tb()),2&t){var n=e.$implicit,i=k.fc();k.lc("value",n),k.Cb(1),k.Cc(i.transforms[n])}}function Ze(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",15),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Horizontal \u2192 "),k.Ub(4,"span",16),k.Bc(5,"px"),k.Tb(),k.Tb(),k.Ub(6,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setTranslate(+t,e.translateY)}),k.Tb(),k.Tb(),k.Ub(7,"mat-form-field"),k.Ub(8,"mat-label"),k.Bc(9,"Vertical \u2193 "),k.Ub(10,"span",16),k.Bc(11,"px"),k.Tb(),k.Tb(),k.Ub(12,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setTranslate(e.translateX,+t)}),k.Tb(),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(6),k.lc("ngModel",i.translateX),k.Cb(6),k.lc("ngModel",i.translateY)}}function We(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",18),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Width \u2194 "),k.Ub(4,"span",16),k.Bc(5,"%"),k.Tb(),k.Tb(),k.Ub(6,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setScale(+t,e.scaleProportionally?+t:e.scaleFactorY,e.scaleX,e.scaleY)}),k.Tb(),k.Tb(),k.Ub(7,"button",19),k.bc("click",function(){k.sc(n);var t=k.fc();return t.setScaleProportionally(!t.scaleProportionally)}),k.Ub(8,"mat-icon"),k.Bc(9),k.Tb(),k.Tb(),k.Ub(10,"mat-form-field"),k.Ub(11,"mat-label"),k.Bc(12,"Height \u2195 "),k.Ub(13,"span",16),k.Bc(14,"%"),k.Tb(),k.Tb(),k.Ub(15,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setScale(e.scaleProportionally?+t:e.scaleFactorX,+t,e.scaleX,e.scaleY)}),k.Tb(),k.Tb(),k.Ub(16,"mat-form-field"),k.Ub(17,"mat-label"),k.Bc(18,"Center x "),k.Ub(19,"span",16),k.Bc(20,"px"),k.Tb(),k.Tb(),k.Ub(21,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setScale(e.scaleFactorX,e.scaleFactorY,+t,e.scaleY)}),k.Tb(),k.Tb(),k.Ub(22,"app-location-adjuster",20),k.bc("locationChange",function(t){return k.sc(n),k.fc().setScaleOrigin(t)}),k.Tb(),k.Ub(23,"mat-form-field"),k.Ub(24,"mat-label"),k.Bc(25,"Center y "),k.Ub(26,"span",16),k.Bc(27,"px"),k.Tb(),k.Tb(),k.Ub(28,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setScale(e.scaleFactorX,e.scaleFactorY,e.scaleX,+t)}),k.Tb(),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(6),k.lc("ngModel",i.scaleFactorX),k.Cb(3),k.Cc(i.scaleProportionally?"lock":"lock_open"),k.Cb(6),k.lc("ngModel",i.scaleFactorY),k.Cb(6),k.lc("ngModel",i.scaleX),k.Cb(1),k.lc("disabled",!i.boundingRect),k.Cb(6),k.lc("ngModel",i.scaleY)}}function Ke(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",21),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Angle \u21b7 "),k.Ub(4,"span",16),k.Bc(5,"\xb0"),k.Tb(),k.Tb(),k.Ub(6,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setRotate(+t,e.rotateX,e.rotateY)}),k.Tb(),k.Tb(),k.Pb(7,"span",22),k.Ub(8,"mat-form-field"),k.Ub(9,"mat-label"),k.Bc(10,"Center x "),k.Ub(11,"span",16),k.Bc(12,"px"),k.Tb(),k.Tb(),k.Ub(13,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setRotate(e.rotateAngle,+t,e.rotateY)}),k.Tb(),k.Tb(),k.Ub(14,"app-location-adjuster",20),k.bc("locationChange",function(t){return k.sc(n),k.fc().setRotateOrigin(t)}),k.Tb(),k.Ub(15,"mat-form-field"),k.Ub(16,"mat-label"),k.Bc(17,"Center y "),k.Ub(18,"span",16),k.Bc(19,"px"),k.Tb(),k.Tb(),k.Ub(20,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setRotate(e.rotateAngle,e.rotateX,+t)}),k.Tb(),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(6),k.lc("ngModel",i.rotateAngle),k.Cb(7),k.lc("ngModel",i.rotateX),k.Cb(1),k.lc("disabled",!i.boundingRect),k.Cb(6),k.lc("ngModel",i.rotateY)}}function Je(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",23),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Horizontal \u21c6 "),k.Ub(4,"span",16),k.Bc(5,"\xb0"),k.Tb(),k.Tb(),k.Ub(6,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setSkew(+t,e.skewYAngle,e.skewX,e.skewY)}),k.Tb(),k.Tb(),k.Ub(7,"mat-form-field"),k.Ub(8,"mat-label"),k.Bc(9,"Vertical \u21c5 "),k.Ub(10,"span",16),k.Bc(11,"\xb0"),k.Tb(),k.Tb(),k.Ub(12,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setSkew(e.skewXAngle,+t,e.skewX,e.skewY)}),k.Tb(),k.Tb(),k.Ub(13,"mat-form-field"),k.Ub(14,"mat-label"),k.Bc(15,"Center x "),k.Ub(16,"span",16),k.Bc(17,"px"),k.Tb(),k.Tb(),k.Ub(18,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setSkew(e.skewXAngle,e.skewYAngle,+t,e.skewY)}),k.Tb(),k.Tb(),k.Ub(19,"app-location-adjuster",20),k.bc("locationChange",function(t){return k.sc(n),k.fc().setSkewOrigin(t)}),k.Tb(),k.Ub(20,"mat-form-field"),k.Ub(21,"mat-label"),k.Bc(22,"Center y "),k.Ub(23,"span",16),k.Bc(24,"px"),k.Tb(),k.Tb(),k.Ub(25,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var e=k.fc();return e.setSkew(e.skewXAngle,e.skewYAngle,e.skewX,+t)}),k.Tb(),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(6),k.lc("ngModel",i.skewXAngle),k.Cb(6),k.lc("ngModel",i.skewYAngle),k.Cb(6),k.lc("ngModel",i.skewX),k.Cb(1),k.lc("disabled",!i.boundingRect),k.Cb(6),k.lc("ngModel",i.skewY)}}function tn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"mat-form-field"),k.Ub(1,"mat-label"),k.Bc(2),k.Tb(),k.Ub(3,"input",17),k.bc("ngModelChange",function(t){k.sc(n);var i=e.$implicit;return k.fc(2).setMatrix(i,+t)}),k.Tb(),k.Tb()}if(2&t){var i=e.$implicit,a=k.fc(2);k.Cb(2),k.Dc("",i,":"),k.Cb(1),k.lc("ngModel",a.matrix[i])}}function en(t,e){if(1&t&&(k.Ub(0,"div",24),k.zc(1,tn,4,2,"mat-form-field",25),k.Tb()),2&t){var n=k.fc();k.Cb(1),k.lc("ngForOf",n.matrixNames)}}var nn,an={move:"Move",scale:"Scale",rotate:"Rotate",skew:"Skew",matrix:"Matrix"},on=((nn=function(){function t(){h(this,t),this.transformChange=new k.n,this.preview=!1,this.selection="move",this.translateX=0,this.translateY=0,this.scaleFactorX=100,this.scaleFactorY=100,this.scaleX=0,this.scaleY=0,this.scaleProportionally=!1,this.skewXAngle=0,this.skewYAngle=0,this.skewX=0,this.skewY=0,this.rotateAngle=0,this.rotateX=0,this.rotateY=0,this.matrix={a:1,b:0,c:0,d:1,e:0,f:0},this.transforms=an,this.transformNames=Object.keys(an),this.matrixNames=Object.keys(this.matrix)}return f(t,[{key:"ngOnInit",value:function(){}},{key:"updatePreview",value:function(){this.preview&&this.emitPreview()}},{key:"setSelection",value:function(t){t!==this.selection&&(this.selection=t,this.updatePreview())}},{key:"setTranslate",value:function(t,e){t===this.translateX&&e===this.translateY||(this.translateX=t,this.translateY=e,this.updatePreview())}},{key:"setScale",value:function(t,e,n,i){t===this.scaleFactorX&&e===this.scaleFactorY&&n===this.scaleX&&i===this.scaleY||(this.scaleFactorX=t,this.scaleFactorY=e,this.scaleX=n,this.scaleY=i,this.updatePreview())}},{key:"setScaleOrigin",value:function(t){if(this.boundingRect){var e=zt(this.boundingRect,t);this.setScale(this.scaleFactorX,this.scaleFactorY,e.x,e.y)}}},{key:"setSkew",value:function(t,e,n,i){t===this.skewXAngle&&e===this.skewYAngle&&n===this.skewX&&i===this.skewY||(this.skewXAngle=t,this.skewYAngle=e,this.skewX=n,this.skewY=i,this.updatePreview())}},{key:"setSkewOrigin",value:function(t){if(this.boundingRect){var e=zt(this.boundingRect,t);this.setSkew(this.skewXAngle,this.skewYAngle,e.x,e.y)}}},{key:"setRotate",value:function(t,e,n){t===this.rotateAngle&&e===this.rotateX&&n===this.rotateY||(this.rotateAngle=t,this.rotateX=e,this.rotateY=n,this.updatePreview())}},{key:"setRotateOrigin",value:function(t){if(this.boundingRect){var e=zt(this.boundingRect,t);this.setRotate(this.rotateAngle,e.x,e.y)}}},{key:"setMatrix",value:function(t,e){t in this.matrix&&this.matrix[t]!==e&&(this.matrix[t]=e,this.updatePreview())}},{key:"emitTransform",value:function(){var t=this.getSelectedMatrix();z(t)&&(this.preview=!1,this.transformChange.emit({transformName:this.selection,matrix:t}))}},{key:"emitPreview",value:function(){var t;if(this.preview){var e=this.getSelectedMatrix();z(e)&&(t=e)}this.transformChange.emit({transformName:this.selection,matrix:t,preview:!0})}},{key:"getSelectedMatrix",value:function(){switch(this.selection){case"move":return{a:1,b:0,c:0,d:1,e:this.translateX,f:this.translateY};case"scale":return this.scaleX||this.scaleY?{a:i=this.scaleFactorX/100,b:0,c:0,d:a=this.scaleFactorY/100,e:this.scaleX*(1-i),f:this.scaleY*(1-a)}:function(t,e){return{a:t,b:0,c:0,d:e,e:0,f:0}}(this.scaleFactorX/100,this.scaleFactorY/100);case"skew":return this.skewX||this.skewY?function(t,e,n,i){var a=Math.tan(e),o=Math.tan(t);return{a:1,b:a,c:o,d:1,e:-o*i,f:-a*n}}(this.skewXAngle*Math.PI/180,this.skewYAngle*Math.PI/180,this.skewX,this.skewY):(e=this.skewXAngle*Math.PI/180,n=this.skewYAngle*Math.PI/180,{a:1,b:Math.tan(n),c:Math.tan(e),d:1,e:0,f:0});case"rotate":return this.rotateX||this.rotateY?function(t,e,n){var i=Math.cos(t),a=Math.sin(t);return{a:i,b:a,c:-a,d:i,e:(1-i)*e+a*n,f:(1-i)*n-a*e}}(this.rotateAngle*Math.PI/180,this.rotateX,this.rotateY):(t=this.rotateAngle*Math.PI/180,{a:Math.cos(t),b:Math.sin(t),c:-Math.sin(t),d:Math.cos(t),e:0,f:0})}var t,e,n,i,a;return Object.assign({},this.matrix)}},{key:"setScaleProportionally",value:function(t){this.scaleProportionally=t,t&&this.setScale(this.scaleFactorX,this.scaleFactorX,this.scaleX,this.scaleY)}},{key:"addTransform",value:function(){var t,e,n={a:(t=this.getSelectedMatrix()).a*(e=this.matrix).a+t.c*e.b,b:t.b*e.a+t.d*e.b,c:t.a*e.c+t.c*e.d,d:t.b*e.c+t.d*e.d,e:t.a*e.e+t.c*e.f+t.e,f:t.b*e.e+t.d*e.f+t.f};z(n)&&(this.matrix=n),"matrix"!==this.selection?this.setSelection("matrix"):this.updatePreview()}},{key:"clearTransform",value:function(){switch(this.selection){case"move":this.setTranslate(0,0);break;case"scale":this.setScale(100,100,0,0);break;case"skew":this.setSkew(0,0,0,0);break;case"rotate":this.setRotate(0,0,0);break;default:j(this.matrix)||(this.matrix={a:1,b:0,c:0,d:1,e:0,f:0},this.updatePreview())}}},{key:"togglePreview",value:function(){this.preview=!this.preview,this.emitPreview()}}]),t}()).\u0275fac=function(t){return new(t||nn)},nn.\u0275cmp=k.Ib({type:nn,selectors:[["app-menu-transform"]],inputs:{boundingRect:"boundingRect"},outputs:{transformChange:"transformChange"},decls:28,vars:8,consts:[[1,"menu-transform-function"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","",3,"color","click"],["class","menu-transform-move",4,"ngIf"],["class","menu-transform-scale",4,"ngIf"],["class","menu-transform-angle",4,"ngIf"],["class","menu-transform-skew",4,"ngIf"],["class","menu-transform-matrix",4,"ngIf"],[2,"display","flex"],["mat-stroked-button","","color","warn",3,"click"],[1,"flex-space-filler-1"],["mat-stroked-button","",3,"click"],[3,"value"],[1,"menu-transform-move"],[1,"label-units"],["matInput","","type","number","step","any",3,"ngModel","ngModelChange"],[1,"menu-transform-scale"],["mat-icon-button","",3,"click"],[3,"disabled","locationChange"],[1,"menu-transform-angle"],[2,"flex-basis","100%"],[1,"menu-transform-skew"],[1,"menu-transform-matrix"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(k.Ub(0,"div",0),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Transform function"),k.Tb(),k.Ub(4,"mat-select",1),k.bc("valueChange",function(t){return e.setSelection(t)}),k.zc(5,$e,2,2,"mat-option",2),k.Tb(),k.Tb(),k.Ub(6,"button",3),k.bc("click",function(){return e.emitTransform()}),k.Ub(7,"mat-icon"),k.Bc(8,"play_for_work"),k.Tb(),k.Bc(9,"Apply "),k.Tb(),k.Ub(10,"button",4),k.bc("click",function(){return e.togglePreview()}),k.Ub(11,"mat-icon"),k.Bc(12,"preview"),k.Tb(),k.Tb(),k.Tb(),k.zc(13,Ze,13,2,"div",5),k.zc(14,We,29,6,"div",6),k.zc(15,Ke,21,4,"div",7),k.zc(16,Je,26,5,"div",8),k.zc(17,en,2,1,"div",9),k.Ub(18,"div",10),k.Ub(19,"button",11),k.bc("click",function(){return e.clearTransform()}),k.Ub(20,"mat-icon"),k.Bc(21,"clear"),k.Tb(),k.Bc(22,"Clear "),k.Tb(),k.Pb(23,"span",12),k.Ub(24,"button",13),k.bc("click",function(){return e.addTransform()}),k.Ub(25,"mat-icon"),k.Bc(26,"functions"),k.Tb(),k.Bc(27,"Add To Matrix "),k.Tb(),k.Tb()),2&t&&(k.Cb(4),k.lc("value",e.selection),k.Cb(1),k.lc("ngForOf",e.transformNames),k.Cb(5),k.lc("color",e.preview?"accent":"primary"),k.Cb(3),k.lc("ngIf","move"===e.selection),k.Cb(1),k.lc("ngIf","scale"===e.selection),k.Cb(1),k.lc("ngIf","rotate"===e.selection),k.Cb(1),k.lc("ngIf","skew"===e.selection),k.Cb(1),k.lc("ngIf","matrix"===e.selection))},directives:[$.c,$.g,Ye.a,d.k,X.a,N.a,d.l,Le.h,Z.a,v.n,v.b,v.i,v.l,Qe],styles:[".menu-transform-function[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.menu-transform-function[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:30%;flex-grow:1;margin-right:1em}.menu-transform-angle[_ngcontent-%COMP%], .menu-transform-matrix[_ngcontent-%COMP%], .menu-transform-move[_ngcontent-%COMP%], .menu-transform-scale[_ngcontent-%COMP%], .menu-transform-skew[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:8.5em}.menu-transform-angle[_ngcontent-%COMP%], .menu-transform-move[_ngcontent-%COMP%], .menu-transform-scale[_ngcontent-%COMP%], .menu-transform-skew[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between}.menu-transform-angle[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .menu-transform-move[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .menu-transform-scale[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .menu-transform-skew[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{max-width:40%}.menu-transform-matrix[_ngcontent-%COMP%]{flex-direction:column}.menu-transform-matrix[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{max-width:30%;flex:1 1 4em}.label-units[_ngcontent-%COMP%]{float:right}"]}),nn),rn=r("dqHA");function cn(t){return Tt(t)?"M".concat(Gt(t.prev)," ").concat(Ht(t.prev),"L").concat(t.x1," ").concat(t.y1,"M").concat(t.x2," ").concat(t.y2,"L").concat(t.x," ").concat(t.y):Ut(t)?"M".concat(t.x2," ").concat(t.y2,"L").concat(t.x," ").concat(t.y):"M".concat(Gt(t.prev)," ").concat(Ht(t.prev),"L").concat(t.x1," ").concat(t.y1,"L").concat(t.x," ").concat(t.y)}function sn(t){return Ut(t)?"M".concat(Gt(t.prev)," ").concat(Ht(t.prev),"L").concat(Wt(t)," ").concat(Kt(t)):"M".concat(Gt(t.prev)," ").concat(Ht(t.prev),"L").concat(Wt(t)," ").concat(Kt(t),"L").concat(t.x," ").concat(t.y)}function ln(t){var e=Jt(t),n=e.cx,i=e.cy,a=e.phi,o="M".concat(t.x," ").concat(t.y,"L").concat(n," ").concat(i,"L").concat(Gt(t.prev)," ").concat(Ht(t.prev))+At(Object.assign(Object.assign({},t),{largeArcFlag:!t.largeArcFlag,sweepFlag:!t.sweepFlag}),-1),r=Math.cos(a),c=Math.sin(a),s=r*t.rx,l=c*t.rx,u="M".concat(n-s," ").concat(i-l,"l").concat(2*s," ").concat(2*l);return s=-c*t.ry,l=r*t.ry,o+u+"M".concat(n-s," ").concat(i-l,"l").concat(2*s," ").concat(2*l)}var un=["pathRef"];function bn(t,e){if(1&t&&(k.ec(),k.Pb(0,"image",11)),2&t){var n=e.ngIf,i=k.fc();k.Db("visibility",i.backgroundImageVisibility)("width",i.backgroundImageZoom)("href",n)}}function hn(t,e){if(1&t){var n=k.Vb();k.ec(),k.Ub(0,"use",17),k.bc("mousedown",function(t){k.sc(n);var i=e.index;return k.fc(2).controlPointMouseDown(t,i)}),k.Tb()}if(2&t){var i=e.$implicit,a=k.fc(2);k.Db("visibility",a.getVisibility(i.item))("x",i.x)("y",i.y)}}function gn(t,e){if(1&t&&(k.ec(),k.Ub(0,"g"),k.Ub(1,"g",12),k.Pb(2,"path"),k.Pb(3,"path",13),k.Pb(4,"path",14),k.Pb(5,"path",13),k.Tb(),k.Ub(6,"g",15),k.zc(7,hn,1,3,"use",16),k.Tb(),k.Tb()),2&t){var n=k.fc();k.Cb(2),k.Db("d",n.curveControlHandles),k.Cb(1),k.Db("d",n.reflectedControlHandles),k.Cb(1),k.Db("d",n.pathTransformOrigin),k.Cb(1),k.Db("d",n.pathDragData)("stroke",n.settingsState.controlPointFillColor),k.Cb(1),k.Db("fill",n.settingsState.controlPointFillColor),k.Cb(1),k.lc("ngForOf",n.controls)("ngForTrackBy",n.trackByIndex)}}var fn,mn=function(){function t(e,n){h(this,t),this.itemIndex=e,this.item=n,this.type="move"}return f(t,[{key:"x",get:function(){return Gt(this.item)}},{key:"y",get:function(){return Ht(this.item)}}]),t}(),dn=function(){function t(e,n){h(this,t),this.itemIndex=e,this.item=n,this.type="curve1"}return f(t,[{key:"x",get:function(){return this.item.x1}},{key:"y",get:function(){return this.item.y1}}]),t}(),pn=function(){function t(e,n){h(this,t),this.itemIndex=e,this.item=n,this.type="curve2"}return f(t,[{key:"x",get:function(){return this.item.x2}},{key:"y",get:function(){return this.item.y2}}]),t}(),vn=((fn=function(){function t(e,n,i,a){h(this,t),this.settings=e,this.background=n,this._archive=i,this._renderer2=a,this.controlDrag=new k.n,this.controls=[],this.settingsState=O,this.styles={},this._dragListener=new rn.a,this._subscriptions=[],this._items=[]}return f(t,[{key:"pathItems",set:function(t){this._items=t,this._createControls()}},{key:"viewBox",get:function(){var t=this.settingsState;return"".concat(t.xOffset," ").concat(t.yOffset," ").concat(t.width," ").concat(t.height)}},{key:"pathStrokeColor",get:function(){var t=this.settingsState;return t.isPathStroke?t.pathStrokeColor:"none"}},{key:"pathFillColor",get:function(){var t=this.settingsState;return t.isPathFill?t.pathFillColor:"none"}},{key:"pathSelectionColor",get:function(){return this.settingsState.controlPointFillColor}},{key:"pathData",get:function(){return this.format(this._items)}},{key:"pathSelectionData",get:function(){var t,e=[],i=n(this._items);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.selected){var o=a.prev,r=!(null==o?void 0:o.selected);r&&e.push({name:"M",x:Gt(o),y:Ht(o)}),r&&Ut(a)?e.push(Object.assign(Object.assign({},a),{name:"C",x1:Wt(a),y1:Kt(a)})):r&&It(a)?e.push(Object.assign(Object.assign({},a),{name:"Q",x1:Wt(a),y1:Kt(a)})):Mt(a)||yt(a)?e.push({name:"L",x:Gt(a),y:Ht(a)}):e.push(a)}}}catch(c){i.e(c)}finally{i.f()}return this.format(e)}},{key:"pathPreviewData",get:function(){var t=this.previewMatrix;return t&&!j(t)?this.format(_e(this._items,t)):""}},{key:"pathTransformOrigin",get:function(){var t="";if(this.previewMatrix){var e=function(t){var e=t.b,n=t.c,i=t.e,a=t.f,o=t.a-1,r=t.d-1,c=e*n-o*r;if(!Object(R.h)(c))return{x:(r*i-n*a)/(e*n-o*r),y:(o*a-e*i)/(e*n-o*r)};if(Object(R.h)(o)&&Object(R.h)(e))if(Object(R.h)(n)){if(!Object(R.h)(r))return{x:NaN,y:-a/r}}else if(Object(R.h)(r)){if(!Object(R.h)(n))return{x:NaN,y:-i/n}}else{var s=-i/n,l=-a/r;if(Object(R.g)(s,l))return{x:NaN,y:s}}if(Object(R.h)(n)&&Object(R.h)(r))if(Object(R.h)(o)){if(!Object(R.h)(e))return{x:-a/e,y:NaN}}else if(Object(R.h)(e)){if(!Object(R.h)(o))return{x:-i/o,y:NaN}}else{var u=-i/o,b=-a/e;if(Object(R.g)(u,b))return{x:u,y:NaN}}}(this.previewMatrix);if(e){var n=this.settingsState;isFinite(e.x)&&(t+="M".concat(e.x," ").concat(n.yOffset,"v").concat(n.height)),isFinite(e.y)&&(t+="M".concat(n.xOffset," ").concat(e.y,"h").concat(n.width))}}return t}},{key:"pathDragData",get:function(){if(this._dragListener.isDragging){var t=this._dragListener.data,e=t.startX,n=t.startY,i=this._dragListener.data.point,a=i.x,o=i.y;if(e!==a||n!==o)return"M".concat(e," ").concat(n,"L").concat(a," ").concat(o,"m-3 0h6m-3-3v6")}return""}},{key:"backgroundImageVisibility",get:function(){return this.settingsState.isBackgroundImageHidden?"hidden":"visible"}},{key:"backgroundImageZoom",get:function(){return"".concat(this.settingsState.backgroundImageZoom,"%")}},{key:"curveControlHandles",get:function(){return this._items.filter(function(t){return Tt(t)||Ut(t)||wt(t)}).map(cn).join("")}},{key:"reflectedControlHandles",get:function(){return this.getReflectedCurveTangentLines()+this.getReflectedEllipticalArcs()}},{key:"isDragging",get:function(){return this._dragListener.isDragging}},{key:"boundingRect",get:function(){var t=this.pathRef.nativeElement;if(t&&"function"==typeof t.getBBox){var e=t.getBBox();return{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height}}return we(Ue(this.pathData))}},{key:"ngOnInit",value:function(){var t=this;this._subscriptions.push(this.settings.subscribe(function(e){t.settingsState=e,t.styles={width:"".concat((e.width*e.zoom/100).toFixed(2),"px"),height:"".concat((e.height*e.zoom/100).toFixed(2),"px"),"background-color":e.backgroundColor}})),this._subscriptions.push(this._dragListener.dragChange.subscribe(function(e){var n=t._dragListener.data,i=t.settingsState.zoom,a=n.startX+Math.round(100*t._dragListener.pageDeltaX/i)-n.point.x,o=n.startY+Math.round(100*t._dragListener.pageDeltaY/i)-n.point.y;t.controlDrag.emit(Object.assign(Object.assign({},n),{name:e,deltaX:a,deltaY:o}))}))}},{key:"ngOnDestroy",value:function(){this._dragListener.stop();var t,e=n(this._subscriptions);try{for(e.s();!(t=e.n()).done;)t.value.unsubscribe()}catch(i){e.e(i)}finally{e.f()}this._subscriptions.length=0}},{key:"controlPointMouseDown",value:function(t,e){if(0===t.button){var n=this.controls[e];this._dragListener.mouseStart(t,this._renderer2,{point:n,startX:n.x,startY:n.y})}}},{key:"onTouchStart",value:function(t,e){if(e&&t.targetTouches.length>0){var n=t.targetTouches[0],i=e.getBoundingClientRect(),a=this.getControlPointIndex(n.clientX-i.left,n.clientY-i.top);if(a>=0){var o=this.controls[a];this._dragListener.touchStart(t,{point:o,startX:o.x,startY:o.y})}}}},{key:"onTouchStop",value:function(t){this._dragListener.isTouchDragging&&this._dragListener.stop(t)}},{key:"onTouchMove",value:function(t){this._dragListener.isTouchDragging&&this._dragListener.touchMove(t)}},{key:"getControlPointIndex",value:function(t,e){for(var n=this.settingsState,i=n.xOffset,a=n.yOffset,o=n.zoom,r=100*t/o+i,c=100*e/o+a,s=this.controls.length;s-- >0;){var l=this.controls[s],u=l.x-r,b=l.y-c;if(u*u+b*b<=25&&"visible"===this.getVisibility(l.item))break}return s}},{key:"trackByIndex",value:function(t){return t}},{key:"adjustViewBox",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout(function(){var i=t.boundingRect;if(e){var a,o=n(t.controls);try{for(o.s();!(a=o.n()).done;){var r=a.value;Vt(i,r.x,r.y)}}catch(h){o.e(h)}finally{o.f()}}var c=t.settings.state.viewBoxPadding,s=Math.floor(i.left)-c,l=Math.floor(i.top)-c,u=Math.ceil(i.right)+c-s,b=Math.ceil(i.bottom)+c-l;u>0&&b>0&&t.settings.set({xOffset:s,yOffset:l,width:u,height:b})},1)}},{key:"toArchive",value:function(){this._archive.next(this.viewBox,this.pathData)}},{key:"format",value:function(t){var e=this.settingsState.maximumFractionDigits;return t.map(function(t){return At(t,e)}).join("")}},{key:"getReflectedEllipticalArcs",value:function(){return this._items.filter(function(t){return Ot(t)}).map(ln).join("")}},{key:"getReflectedCurveTangentLines",value:function(){return this._items.filter(function(t){return Ut(t)||It(t)}).map(sn).join("")}},{key:"getVisibility",value:function(t){return this.activeItem&&this.activeItem!==t?"hidden":"visible"}},{key:"_createControls",value:function(){for(var t=[],e=0;e<this._items.length;e++){var n=this._items[e];St(n)&&t.push(new dn(e,n)),Pt(n)&&t.push(new pn(e,n)),Mt(n)||t.push(new mn(e,n))}this.controls=t}}]),t}()).\u0275fac=function(t){return new(t||fn)(k.Ob(_),k.Ob(T),k.Ob(A),k.Ob(k.F))},fn.\u0275cmp=k.Ib({type:fn,selectors:[["app-svg-view"]],viewQuery:function(t,e){var n;1&t&&k.Gc(un,1),2&t&&k.pc(n=k.cc())&&(e.pathRef=n.first)},inputs:{pathItems:"pathItems",activeItem:"activeItem",previewMatrix:"previewMatrix"},outputs:{controlDrag:"controlDrag"},decls:12,vars:16,consts:[[3,"ngStyle","touchstart","touchend","touchcancel","touchmove"],["svgRef",""],["id","filterBackgroundImage"],["in","SourceGraphic","type","matrix"],["id","circleControlPoint","cx","0","cy","0"],["x","0","y","0","filter","url(#filterBackgroundImage)",4,"ngIf"],["opacity","0.9","stroke-width","1"],["pathRef",""],["opacity","0.6","fill","none","stroke-dasharray","4 1","stroke-width","2"],["pointer-events","none","opacity","0.5","stroke-width","1","stroke-dasharray","2 1"],[4,"ngIf"],["x","0","y","0","filter","url(#filterBackgroundImage)"],["opacity","0.6","stroke-width","0.8","stroke","lightgrey","fill","none"],["stroke-dasharray","2"],["stroke-dasharray","10 4 2 4"],[1,"control-points"],["href","#circleControlPoint",3,"mousedown",4,"ngFor","ngForOf","ngForTrackBy"],["href","#circleControlPoint",3,"mousedown"]],template:function(t,e){if(1&t){var n=k.Vb();k.ec(),k.Ub(0,"svg",0,1),k.bc("touchstart",function(t){k.sc(n);var i=k.qc(1);return e.onTouchStart(t,i)})("touchend",function(t){return e.onTouchStop(t)})("touchcancel",function(t){return e.onTouchStop(t)})("touchmove",function(t){return e.onTouchMove(t)}),k.Ub(2,"defs"),k.Ub(3,"filter",2),k.Pb(4,"feColorMatrix",3),k.Tb(),k.Pb(5,"circle",4),k.Tb(),k.zc(6,bn,1,3,"image",5),k.Pb(7,"path",6,7),k.Pb(9,"path",8),k.Pb(10,"path",9),k.zc(11,gn,8,8,"g",10),k.Tb()}2&t&&(k.Gb("dragging",e.isDragging),k.lc("ngStyle",e.styles),k.Db("viewBox",e.viewBox),k.Cb(4),k.Db("values",e.settings.imageColorMatrix),k.Cb(1),k.Db("r",e.settingsState.controlPointSize/2),k.Cb(1),k.lc("ngIf",e.background.imageData),k.Cb(1),k.Db("stroke",e.pathStrokeColor)("fill",e.pathFillColor)("d",e.pathData),k.Cb(2),k.Db("stroke",e.pathSelectionColor)("d",e.pathSelectionData),k.Cb(1),k.Db("stroke",e.pathStrokeColor)("fill",e.pathFillColor)("d",e.pathPreviewData),k.Cb(1),k.lc("ngIf",e.settingsState.isControlPoints))},directives:[d.m,d.l,d.k],styles:["svg[_ngcontent-%COMP%]{margin:1px;border:1px solid #fff;transition:width .2s ease-out,height .2s ease-out}svg[_ngcontent-%COMP%]   g.control-points[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{cursor:pointer;stroke:#000;stroke-opacity:.75;fill-opacity:.5}svg.dragging[_ngcontent-%COMP%]{cursor:none}svg.dragging[_ngcontent-%COMP%]   g.control-points[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{cursor:none;stroke:#f0f;stroke-opacity:.5;fill-opacity:0}"]}),fn);function yn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"span",6),k.bc("click",function(){k.sc(n);var t=e.index;return k.fc(2).onItemClick(t)}),k.Bc(1),k.Tb()}if(2&t){var i=e.$implicit;k.Gb("selected",i.selected),k.Cb(1),k.Cc(i.name)}}function xn(t,e){if(1&t&&k.zc(0,yn,2,3,"span",5),2&t){var n=k.fc();k.lc("ngForOf",n.items)("ngForTrackBy",n.trackByIndex)}}function Cn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div"),k.Ub(1,"span",6),k.bc("click",function(){return k.sc(n),k.fc().hideItems=!1}),k.Bc(2),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(1),k.Gb("selected",i.selectedCount===i.items.length),k.Cb(1),k.Dc("",i.items[0].name,"\u2026")}}function kn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",7),k.bc("click",function(){k.sc(n);var t=k.fc();return t.hideItems=!t.hideItems}),k.Bc(1),k.Tb()}if(2&t){var i=k.fc();k.Cb(1),k.Dc(" ",i.hideItems?"\u2192":"\u2190","")}}var Mn,Tn,Un=((Tn=function(){function t(){h(this,t),this.hideItems=!0}return f(t,[{key:"selectedCount",get:function(){var t,e=0,i=n(this.items);try{for(i.s();!(t=i.n()).done;)t.value.selected&&e++}catch(a){i.e(a)}finally{i.f()}return e}},{key:"ngOnInit",value:function(){}},{key:"onItemClick",value:function(t){var e=this.items[t];e&&(e.selected=!e.selected)}},{key:"setAll",value:function(t){var e,i=n(this.items);try{for(i.s();!(e=i.n()).done;)e.value.selected=t}catch(a){i.e(a)}finally{i.f()}}},{key:"trackByIndex",value:function(t){return t}}]),t}()).\u0275fac=function(t){return new(t||Tn)},Tn.\u0275cmp=k.Ib({type:Tn,selectors:[["app-path-group"]],inputs:{items:"items"},decls:6,vars:5,consts:[["templatePathItems",""],[1,"path-group"],[2,"margin-right","0.5em",3,"checked","indeterminate","change"],[4,"ngIf","ngIfElse"],["style","cursor: pointer; margin-left: 0.05em",3,"click",4,"ngIf"],[3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],[2,"cursor","pointer","margin-left","0.05em",3,"click"]],template:function(t,e){if(1&t&&(k.zc(0,xn,1,2,"ng-template",null,0,k.Ac),k.Ub(2,"div",1),k.Ub(3,"mat-checkbox",2),k.bc("change",function(t){return e.setAll(t.checked)}),k.Tb(),k.zc(4,Cn,3,3,"div",3),k.zc(5,kn,2,1,"div",4),k.Tb()),2&t){var n=k.qc(1);k.Cb(3),k.lc("checked",e.selectedCount===e.items.length)("indeterminate",e.selectedCount>0&&e.selectedCount!==e.items.length),k.Cb(1),k.lc("ngIf",e.hideItems&&e.items.length>1)("ngIfElse",n),k.Cb(1),k.lc("ngIf",e.items.length>1)}},directives:[W.a,d.l,d.k],styles:[".path-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.path-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;min-width:1.125em;height:1.125em;text-align:center}.path-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#00f;-webkit-text-decoration:underline #00f;text-decoration:underline #00f}.path-group[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{color:#00c;background-color:#ff0;text-transform:lowercase}"]}),Tn),wn=((Mn=function(){function t(){h(this,t),this.inputChange=new k.n}return f(t,[{key:"path",get:function(){return ve(this.item,this.maximumFractionDigits)}},{key:"info",get:function(){return"".concat(_t[this.item.name])}},{key:"dx",get:function(){return this.item.outputAsRelative?Gt(this.item.prev):0}},{key:"dy",get:function(){return this.item.outputAsRelative?Ht(this.item.prev):0}},{key:"x",get:function(){return Gt(this.item)-this.dx}},{key:"y",get:function(){return Ht(this.item)-this.dy}},{key:"x1",get:function(){return St(this.item)?this.item.x1-this.dx:Ut(this.item)||It(this.item)?Wt(this.item)-this.dx:0}},{key:"y1",get:function(){return St(this.item)?this.item.y1-this.dy:Ut(this.item)||It(this.item)?Kt(this.item)-this.dy:0}},{key:"x2",get:function(){return Pt(this.item)?this.item.x2-this.dx:0}},{key:"y2",get:function(){return Pt(this.item)?this.item.y2-this.dy:0}},{key:"rx",get:function(){return Ot(this.item)?this.item.rx:0}},{key:"ry",get:function(){return Ot(this.item)?this.item.ry:0}},{key:"angle",get:function(){return Ot(this.item)?this.item.angle:0}},{key:"largeArcFlag",get:function(){return!!Ot(this.item)&&this.item.largeArcFlag}},{key:"sweepFlag",get:function(){return!!Ot(this.item)&&this.item.sweepFlag}},{key:"hasX",get:function(){return!(Mt(this.item)||kt(this.item))}},{key:"hasY",get:function(){return!(Mt(this.item)||Ct(this.item))}},{key:"isBezierCurve",get:function(){return Tt(t=this.item)||Ut(t)||wt(t)||It(t);var t}},{key:"hasControlPoint1",get:function(){return St(this.item)}},{key:"hasControlPoint2",get:function(){return Pt(this.item)}},{key:"isEllipticalArc",get:function(){return Ot(this.item)}},{key:"isRelative",get:function(){return this.item.outputAsRelative}},{key:"ngOnInit",value:function(){}},{key:"setRelative",value:function(t){this.item.outputAsRelative!==t&&(this.item.outputAsRelative=t,this.inputChange.emit({name:"outputAsRelative",value:t}))}},{key:"setX",value:function(t){Mt(this.item)||kt(this.item)||this.item.x!==(t+=this.dx)&&(this.item.x=t,this.inputChange.emit({name:"x",value:t}))}},{key:"setY",value:function(t){Mt(this.item)||Ct(this.item)||this.item.y!==(t+=this.dy)&&(this.item.y=t,this.inputChange.emit({name:"y",value:t}))}},{key:"setX1",value:function(t){St(this.item)&&this.item.x1!==(t+=this.dx)&&(this.item.x1=t,this.inputChange.emit({name:"x1",value:t}))}},{key:"setY1",value:function(t){St(this.item)&&this.item.y1!==(t+=this.dy)&&(this.item.y1=t,this.inputChange.emit({name:"y1",value:t}))}},{key:"setX2",value:function(t){Pt(this.item)&&this.item.x2!==(t+=this.dx)&&(this.item.x2=t,this.inputChange.emit({name:"x2",value:t}))}},{key:"setY2",value:function(t){Pt(this.item)&&this.item.y2!==(t+=this.dy)&&(this.item.y2=t,this.inputChange.emit({name:"y2",value:t}))}},{key:"setRx",value:function(t){Ot(this.item)&&this.item.rx!==t&&t>0&&(this.item.rx=t,this.inputChange.emit({name:"rx",value:t}))}},{key:"setRy",value:function(t){Ot(this.item)&&this.item.ry!==t&&t>0&&(this.item.ry=t,this.inputChange.emit({name:"ry",value:t}))}},{key:"setAngle",value:function(t){Ot(this.item)&&this.item.angle!==t&&(this.item.angle=t,this.inputChange.emit({name:"angle",value:t}))}},{key:"setLargeArcFlag",value:function(t){Ot(this.item)&&this.item.largeArcFlag!==t&&(this.item.largeArcFlag=t,this.inputChange.emit({name:"largeArcFlag",value:t}))}},{key:"setSweepFlag",value:function(t){Ot(this.item)&&this.item.sweepFlag!==t&&(this.item.sweepFlag=t,this.inputChange.emit({name:"sweepFlag",value:t}))}},{key:"format",value:function(t){return Object(R.f)(t,this.maximumFractionDigits)}},{key:"getFormatted",value:function(t){return this.format(this[t])}}]),t}()).\u0275fac=function(t){return new(t||Mn)},Mn.\u0275cmp=k.Ib({type:Mn,selectors:[["app-path-item"]],inputs:{item:"item",maximumFractionDigits:"maximumFractionDigits"},outputs:{inputChange:"inputChange"},decls:58,vars:30,consts:[[1,"path-item-info"],[2,"float","right",3,"checked","change"],[1,"path-item-data"],[1,"path-item-group"],["matInput","","type","number","min","0","step","any",3,"ngModel","ngModelChange"],["matInput","","type","number","step","any",3,"ngModel","ngModelChange"],[3,"checked","change"],["matInput","","type","number","step","any",3,"disabled","ngModel","ngModelChange"]],template:function(t,e){1&t&&(k.Ub(0,"div",0),k.Bc(1),k.Ub(2,"mat-checkbox",1),k.bc("change",function(t){return e.setRelative(t.checked)}),k.Bc(3," Relative "),k.Tb(),k.Tb(),k.Ub(4,"div",2),k.Bc(5),k.Tb(),k.Ub(6,"div",3),k.Ub(7,"div"),k.Bc(8,"Ellipse Shape:"),k.Tb(),k.Ub(9,"mat-form-field"),k.Ub(10,"mat-label"),k.Bc(11,"rx"),k.Tb(),k.Ub(12,"input",4),k.bc("ngModelChange",function(t){return e.setRx(+t)}),k.Tb(),k.Tb(),k.Ub(13,"mat-form-field"),k.Ub(14,"mat-label"),k.Bc(15,"ry"),k.Tb(),k.Ub(16,"input",4),k.bc("ngModelChange",function(t){return e.setRy(+t)}),k.Tb(),k.Tb(),k.Ub(17,"mat-form-field"),k.Ub(18,"mat-label"),k.Bc(19,"angle \u21b7"),k.Tb(),k.Ub(20,"input",5),k.bc("ngModelChange",function(t){return e.setAngle(+t)}),k.Tb(),k.Tb(),k.Ub(21,"mat-checkbox",6),k.bc("change",function(t){return e.setLargeArcFlag(t.checked)}),k.Bc(22,"Large "),k.Tb(),k.Ub(23,"mat-checkbox",6),k.bc("change",function(t){return e.setSweepFlag(t.checked)}),k.Bc(24,"Sweep"),k.Tb(),k.Tb(),k.Ub(25,"div",3),k.Ub(26,"div"),k.Bc(27,"First Control Point:"),k.Tb(),k.Ub(28,"mat-form-field"),k.Ub(29,"mat-label"),k.Bc(30),k.Tb(),k.Ub(31,"input",7),k.bc("ngModelChange",function(t){return e.setX1(+t)}),k.Tb(),k.Tb(),k.Ub(32,"mat-form-field"),k.Ub(33,"mat-label"),k.Bc(34),k.Tb(),k.Ub(35,"input",7),k.bc("ngModelChange",function(t){return e.setY1(+t)}),k.Tb(),k.Tb(),k.Tb(),k.Ub(36,"div",3),k.Ub(37,"div"),k.Bc(38,"Second Control Point:"),k.Tb(),k.Ub(39,"mat-form-field"),k.Ub(40,"mat-label"),k.Bc(41),k.Tb(),k.Ub(42,"input",5),k.bc("ngModelChange",function(t){return e.setX2(+t)}),k.Tb(),k.Tb(),k.Ub(43,"mat-form-field"),k.Ub(44,"mat-label"),k.Bc(45),k.Tb(),k.Ub(46,"input",5),k.bc("ngModelChange",function(t){return e.setY2(+t)}),k.Tb(),k.Tb(),k.Tb(),k.Ub(47,"div",3),k.Ub(48,"div"),k.Bc(49,"Stop Point:"),k.Tb(),k.Ub(50,"mat-form-field"),k.Ub(51,"mat-label"),k.Bc(52),k.Tb(),k.Ub(53,"input",7),k.bc("ngModelChange",function(t){return e.setX(+t)}),k.Tb(),k.Tb(),k.Ub(54,"mat-form-field"),k.Ub(55,"mat-label"),k.Bc(56),k.Tb(),k.Ub(57,"input",7),k.bc("ngModelChange",function(t){return e.setY(+t)}),k.Tb(),k.Tb(),k.Tb()),2&t&&(k.Cb(1),k.Dc(" ",e.info," "),k.Cb(1),k.lc("checked",e.isRelative),k.Cb(3),k.Cc(e.path),k.Cb(1),k.Gb("hidden",!e.isEllipticalArc),k.Cb(6),k.lc("ngModel",e.getFormatted("rx")),k.Cb(4),k.lc("ngModel",e.getFormatted("ry")),k.Cb(4),k.lc("ngModel",e.getFormatted("angle")),k.Cb(1),k.lc("checked",e.largeArcFlag),k.Cb(2),k.lc("checked",e.sweepFlag),k.Cb(2),k.Gb("hidden",!e.isBezierCurve),k.Cb(5),k.Cc(e.item.outputAsRelative?"dx1":"x1"),k.Cb(1),k.lc("disabled",!e.hasControlPoint1)("ngModel",e.getFormatted("x1")),k.Cb(3),k.Cc(e.item.outputAsRelative?"dy1":"y1"),k.Cb(1),k.lc("disabled",!e.hasControlPoint1)("ngModel",e.getFormatted("y1")),k.Cb(1),k.Gb("hidden",!e.hasControlPoint2),k.Cb(5),k.Cc(e.item.outputAsRelative?"dx2":"x2"),k.Cb(1),k.lc("ngModel",e.getFormatted("x2")),k.Cb(3),k.Cc(e.item.outputAsRelative?"dy2":"y2"),k.Cb(1),k.lc("ngModel",e.getFormatted("y2")),k.Cb(6),k.Cc(e.item.outputAsRelative?"dx":"x"),k.Cb(1),k.lc("disabled",!e.hasX)("ngModel",e.getFormatted("x")),k.Cb(3),k.Cc(e.item.outputAsRelative?"dy":"y"),k.Cb(1),k.lc("disabled",!e.hasY)("ngModel",e.getFormatted("y")))},directives:[W.a,$.c,$.g,Z.a,v.n,v.b,v.i,v.l],styles:[".path-item-info[_ngcontent-%COMP%]{padding-top:8px}.path-item-data[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.25);margin-bottom:1em}.path-item-group.hidden[_ngcontent-%COMP%]{display:none}.path-item-group[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{max-width:40%}.path-item-group[_ngcontent-%COMP%] > mat-checkbox[_ngcontent-%COMP%]:nth-of-type(odd), .path-item-group[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]:nth-of-type(odd){margin-right:1em}"]}),Mn),In=r("jaxi");function On(t,e){if(1&t){var n=k.Vb();k.Ub(0,"mat-button-toggle",12),k.bc("click",function(){k.sc(n);var t=e.$implicit;return k.fc(2).zoom=t.value}),k.Bc(1),k.Tb()}if(2&t){var i=e.$implicit;k.lc("value",i.value),k.Cb(1),k.Dc("",i.label," ")}}function Sn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",8),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"%"),k.Tb(),k.Ub(4,"input",9),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().zoom=t}),k.Tb(),k.Tb(),k.Ub(5,"mat-button-toggle-group",10),k.zc(6,On,2,2,"mat-button-toggle",11),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(4),k.lc("ngModel",i.zoom),k.Cb(1),k.lc("value",i.zoom),k.Cb(1),k.lc("ngForOf",i.zooms)}}function Pn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",13),k.Ub(1,"p"),k.Bc(2,"The position and dimension, in user space, of an SVG viewport."),k.Tb(),k.Ub(3,"mat-form-field"),k.Ub(4,"mat-label"),k.Bc(5,"x:"),k.Tb(),k.Ub(6,"input",14),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({xOffset:+t})}),k.Tb(),k.Tb(),k.Ub(7,"mat-form-field"),k.Ub(8,"mat-label"),k.Bc(9,"y:"),k.Tb(),k.Ub(10,"input",14),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({yOffset:+t})}),k.Tb(),k.Tb(),k.Ub(11,"mat-form-field"),k.Ub(12,"mat-label"),k.Bc(13,"width:"),k.Tb(),k.Ub(14,"input",14),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({width:+t})}),k.Tb(),k.Tb(),k.Ub(15,"mat-form-field"),k.Ub(16,"mat-label"),k.Bc(17,"height:"),k.Tb(),k.Ub(18,"input",14),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({height:+t})}),k.Tb(),k.Tb(),k.Ub(19,"button",15),k.bc("click",function(){return k.sc(n),k.fc().requestSmallestViewBox.emit(!1)}),k.Ub(20,"mat-icon"),k.Bc(21,"border_outer"),k.Tb(),k.Bc(22,"Fit In "),k.Tb(),k.Ub(23,"button",15),k.bc("click",function(){return k.sc(n),k.fc().requestSmallestViewBox.emit(!0)}),k.Ub(24,"mat-icon"),k.Bc(25,"border_inner"),k.Tb(),k.Bc(26,"Fit Controls "),k.Tb(),k.Ub(27,"mat-form-field"),k.Ub(28,"mat-label"),k.Bc(29,"padding:"),k.Tb(),k.Ub(30,"input",14),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({viewBoxPadding:+t})}),k.Tb(),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(6),k.lc("ngModel",i.settings.state.xOffset),k.Cb(4),k.lc("ngModel",i.settings.state.yOffset),k.Cb(4),k.lc("ngModel",i.settings.state.width),k.Cb(4),k.lc("ngModel",i.settings.state.height),k.Cb(12),k.lc("ngModel",i.settings.state.viewBoxPadding)}}function _n(t,e){if(1&t&&(k.Ub(0,"mat-option",10),k.Bc(1),k.Tb()),2&t){var n=e.$implicit;k.lc("value",n),k.Cb(1),k.Cc(n)}}function Bn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",16),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Color"),k.Tb(),k.Ub(4,"input",17),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({backgroundColor:t})}),k.Tb(),k.Tb(),k.Ub(5,"div"),k.Ub(6,"label"),k.Ub(7,"mat-icon"),k.Bc(8,"photo_library"),k.Tb(),k.Bc(9,"Upload image: "),k.Ub(10,"input",18),k.bc("change",function(t){return k.sc(n),k.fc().background.loadImage(t)}),k.Tb(),k.Tb(),k.Tb(),k.Ub(11,"div"),k.Ub(12,"mat-form-field"),k.Ub(13,"mat-label"),k.Bc(14,"width (%):"),k.Tb(),k.Ub(15,"input",19),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({backgroundImageZoom:+t})}),k.Tb(),k.Tb(),k.Tb(),k.Ub(16,"div"),k.Ub(17,"mat-slide-toggle",2),k.bc("ngModelChange",function(t){return k.sc(n),k.fc().settings.set({isBackgroundImageHidden:t})}),k.Bc(18,"Hide"),k.Tb(),k.Tb(),k.Ub(19,"div"),k.Ub(20,"mat-form-field"),k.Ub(21,"mat-label"),k.Bc(22,"Color Matrix"),k.Tb(),k.Ub(23,"mat-select",20),k.bc("valueChange",function(t){return k.sc(n),k.fc().settings.set({backgroundImageColorMatrixName:t})}),k.zc(24,_n,2,2,"mat-option",21),k.Tb(),k.Tb(),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(4),k.lc("ngModel",i.settings.state.backgroundColor),k.Cb(6),k.lc("multiple",!1),k.Cb(5),k.lc("ngModel",i.settings.state.backgroundImageZoom),k.Cb(2),k.lc("ngModel",i.settings.state.isBackgroundImageHidden),k.Cb(6),k.lc("value",i.settings.state.backgroundImageColorMatrixName),k.Cb(1),k.lc("ngForOf",i.imageColorMatrixNames)}}var Fn,An=((Fn=function(){function t(e,n){h(this,t),this.settings=e,this.background=n,this.requestSmallestViewBox=new k.n,this.tabSelection=0,this.zooms=[{label:"1:4",value:25},{label:"1:2",value:50},{label:"1:1",value:100},{label:"2:1",value:200},{label:"4:1",value:400}],this.controlPointMinSize=S.controlPointSize,this.controlPointMaxSize=P.controlPointSize,this.imageColorMatrixNames=Object.keys(w)}return f(t,[{key:"zoom",get:function(){return this.settings.state.zoom},set:function(t){this.settings.set({zoom:t})}}]),t}()).\u0275fac=function(t){return new(t||Fn)(k.Ob(_),k.Ob(T))},Fn.\u0275cmp=k.Ib({type:Fn,selectors:[["app-menu-view"]],outputs:{requestSmallestViewBox:"requestSmallestViewBox"},decls:24,vars:16,consts:[[1,"menu-view-path"],["matInput","","type","color","placeholder","color",3,"disabled","ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["label","Control point size",3,"min","max","selection","selectionChange"],["items","Zoom|Viewbox|Background",3,"selection","selectionChange"],["class","menu-view-zoom",4,"ngIf"],["class","menu-view-viewbox",4,"ngIf"],["class","menu-view-background",4,"ngIf"],[1,"menu-view-zoom"],["matInput","","name","fZoom","type","number","step","any","min","25","max","400",3,"ngModel","ngModelChange"],[3,"value"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"menu-view-viewbox"],["matInput","","type","number","step","any",3,"ngModel","ngModelChange"],["mat-stroked-button","",3,"click"],[1,"menu-view-background"],["matInput","","type","color","placeholder","color",3,"ngModel","ngModelChange"],["type","file","placeholder","file...",3,"multiple","change"],["matInput","","type","number","min","1","step","any",3,"ngModel","ngModelChange"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(k.Ub(0,"div",0),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Color"),k.Tb(),k.Ub(4,"input",1),k.bc("ngModelChange",function(t){return e.settings.set({pathStrokeColor:t})}),k.Tb(),k.Tb(),k.Ub(5,"mat-slide-toggle",2),k.bc("ngModelChange",function(t){return e.settings.set({isPathStroke:t})}),k.Bc(6," Path Stroke "),k.Tb(),k.Ub(7,"mat-form-field"),k.Ub(8,"mat-label"),k.Bc(9,"Color"),k.Tb(),k.Ub(10,"input",1),k.bc("ngModelChange",function(t){return e.settings.set({pathFillColor:t})}),k.Tb(),k.Tb(),k.Ub(11,"mat-slide-toggle",2),k.bc("ngModelChange",function(t){return e.settings.set({isPathFill:t})}),k.Bc(12," Path Fill "),k.Tb(),k.Ub(13,"mat-form-field"),k.Ub(14,"mat-label"),k.Bc(15,"Color"),k.Tb(),k.Ub(16,"input",1),k.bc("ngModelChange",function(t){return e.settings.set({controlPointFillColor:t})}),k.Tb(),k.Tb(),k.Ub(17,"mat-slide-toggle",2),k.bc("ngModelChange",function(t){return e.settings.set({isControlPoints:t})}),k.Bc(18,"Control Points"),k.Tb(),k.Ub(19,"app-index-selector",3),k.bc("selectionChange",function(t){return e.settings.set({controlPointSize:+t})}),k.Tb(),k.Tb(),k.Ub(20,"app-tab-group",4),k.bc("selectionChange",function(t){return e.tabSelection=t}),k.zc(21,Sn,7,3,"div",5),k.zc(22,Pn,31,5,"div",6),k.zc(23,Bn,25,6,"div",7),k.Tb()),2&t&&(k.Cb(4),k.lc("disabled",!e.settings.state.isPathStroke)("ngModel",e.settings.state.pathStrokeColor),k.Cb(1),k.lc("ngModel",e.settings.state.isPathStroke),k.Cb(5),k.lc("disabled",!e.settings.state.isPathFill)("ngModel",e.settings.state.pathFillColor),k.Cb(1),k.lc("ngModel",e.settings.state.isPathFill),k.Cb(5),k.lc("disabled",!e.settings.state.isControlPoints)("ngModel",e.settings.state.controlPointFillColor),k.Cb(1),k.lc("ngModel",e.settings.state.isControlPoints),k.Cb(2),k.lc("min",e.controlPointMinSize)("max",e.controlPointMaxSize)("selection",e.settings.state.controlPointSize),k.Cb(1),k.lc("selection",e.tabSelection),k.Cb(1),k.lc("ngIf",0===e.tabSelection),k.Cb(1),k.lc("ngIf",1===e.tabSelection),k.Cb(1),k.lc("ngIf",2===e.tabSelection))},directives:[$.c,$.g,Z.a,v.b,v.i,v.l,Ne.a,et,V.a,d.l,v.n,In.b,d.k,In.a,X.a,N.a,Ye.a,Le.h],styles:["div.menu-view-path[_ngcontent-%COMP%]{margin-bottom:1em}div.menu-view-path[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{max-width:40%;margin-right:1em}div.menu-view-path[_ngcontent-%COMP%] > mat-slide-toggle[_ngcontent-%COMP%]{min-width:50%}div.menu-view-path[_ngcontent-%COMP%] > mat-slide-toggle[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}div.menu-view-background[_ngcontent-%COMP%], div.menu-view-viewbox[_ngcontent-%COMP%], div.menu-view-zoom[_ngcontent-%COMP%]{padding:12px 16px}div.menu-view-viewbox[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], div.menu-view-zoom[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{max-width:40%;margin-right:1em}div.menu-view-viewbox[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-top:1em}div.menu-view-background[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-top:1em}"]}),Fn);function Rn(t,e){1&t&&k.Pb(0,"app-path-group",45),2&t&&k.lc("items",e.$implicit)}function jn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div"),k.Ub(1,"div",39),k.Ub(2,"mat-checkbox",40),k.bc("change",function(t){return k.sc(n),k.fc().onSelectAll(t.checked)}),k.Bc(3,"Select All"),k.Tb(),k.Pb(4,"span",3),k.Ub(5,"button",41),k.bc("click",function(){return k.sc(n),k.fc().onInvertSelection()}),k.Ub(6,"mat-icon"),k.Bc(7,"swap_horiz"),k.Tb(),k.Tb(),k.Ub(8,"button",42),k.bc("click",function(){return k.sc(n),k.fc().onSelectAll(!1)}),k.Ub(9,"mat-icon"),k.Bc(10,"clear"),k.Tb(),k.Tb(),k.Tb(),k.Ub(11,"div",43),k.zc(12,Rn,1,1,"app-path-group",44),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(2),k.lc("checked",i.isAllSelected)("indeterminate",i.isSomeSelected),k.Cb(6),k.lc("disabled",!i.hasSelection),k.Cb(4),k.lc("ngForOf",i.groups)("ngForTrackBy",i.trackByIndex)}}function zn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"app-path-item",49),k.bc("inputChange",function(){return k.sc(n),k.fc(2).onSingleParameterChange()}),k.Tb()}if(2&t){var i=e.ngIf,a=k.fc(2);k.lc("item",i)("maximumFractionDigits",a.settings.state.maximumFractionDigits)}}function Dn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"div",46),k.Ub(1,"app-index-selector",47),k.bc("selectionChange",function(t){return k.sc(n),k.fc().onSingleSelectionChange(t-1)}),k.Tb(),k.zc(2,zn,1,2,"app-path-item",48),k.Tb()}if(2&t){var i=k.fc();k.Cb(1),k.lc("min",1)("max",i.path.length)("selection",i.firstSelectionIndex+1),k.Cb(1),k.lc("ngIf",i.activeItem)}}function Xn(t,e){if(1&t&&(k.Ub(0,"mat-option",50),k.Bc(1),k.Tb()),2&t){var n=e.index;k.lc("value",n),k.Cb(1),k.Cc(n)}}function Nn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"button",28),k.bc("click",function(){k.sc(n);var t=e.$implicit;return k.fc().onAppend(t)}),k.Bc(1),k.Tb()}if(2&t){var i=e.$implicit,a=k.fc();k.Cb(1),k.Cc(i+": "+a.commandNames[i])}}function Vn(t,e){if(1&t&&(k.Ub(0,"button",29),k.Bc(1),k.Tb()),2&t){var n=k.fc(),i=k.qc(81);k.lc("matMenuTriggerFor",i),k.Cb(1),k.Dc("Edit ",n.selectMode,"")}}function Yn(t,e){if(1&t){var n=k.Vb();k.Ub(0,"app-menu-view",51),k.bc("requestSmallestViewBox",function(t){return k.sc(n),k.fc(),k.qc(126).adjustViewBox(t)}),k.Tb(),k.Ub(1,"button",52),k.bc("click",function(){k.sc(n);var t=k.fc();return t.settings.set({darkMode:!t.settings.state.darkMode})}),k.Ub(2,"mat-icon"),k.Bc(3),k.Tb(),k.Ub(4,"span"),k.Bc(5,"MODE"),k.Tb(),k.Tb()}if(2&t){var i=k.fc();k.Cb(3),k.Cc(i.settings.state.darkMode?"brightness_3":"brightness_7")}}function En(t,e){if(1&t){var n=k.Vb();k.Ub(0,"button",53),k.bc("click",function(){return k.sc(n),k.fc().settings.set({sidenavClosed:!1})}),k.Ub(1,"mat-icon"),k.Bc(2,"double_arrow"),k.Tb(),k.Tb()}}var Ln={M:[25,25],L:[25,25],H:[25],V:[25],Z:[],C:[25,0,0,25,25,25],S:[0,25,25,25],Q:[25,0,25,25],T:[25,25],A:[25,25,0,0,0,25,25]};function qn(t){return t.replace(/\s*([MLHVZCSQTA])\s*/gim,"$1").replace(/\s+(\-)/gim,"$1")}var Gn,Hn,Qn=[{path:"",component:(Gn=function(){function e(t,n,i,a,o){h(this,e),this.settings=t,this.history=n,this.background=i,this._dialog=a,this._overlayContainer=o,this.editMode=0,this.singleSelectionIndex=0,this.groupSelectionIndices=[],this.path=[],this.pathInput="",this.decimalFormats=I,this.commandNames=_t,this.commands=Object.keys(_t)}return f(e,[{key:"activeItem",get:function(){return this.path[this.firstSelectionIndex]}},{key:"selectMode",get:function(){var t=se(this.path);return 1===t?"Single Item":0===t||t===this.path.length?"All":"Selection"}},{key:"isAllSelected",get:function(){return ge(this.path)}},{key:"isSomeSelected",get:function(){return fe(this.path)}},{key:"groups",get:function(){return function(t){var e,i,a=[],o=n(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;e&&"M"!==r.name?e.push(r):(e&&a.push(e),e=[r]),"Z"===r.name&&(a.push(e),e=void 0)}}catch(c){o.e(c)}finally{o.f()}return e&&a.push(e),a}(this.path)}},{key:"firstSelectionIndex",get:function(){return ue(this.path)}},{key:"hasArc",get:function(){var t=!he(this.path);return!!this.path.find(function(e){return(t||e.selected)&&Ot(e)})}},{key:"hasSelection",get:function(){return he(this.path)}},{key:"canPromoteToCurve",get:function(){var t=!he(this.path);return!!this.path.find(function(e){return(t||e.selected)&&je(e)})}},{key:"canPromoteToQCurve",get:function(){var t=!he(this.path);return!!this.path.find(function(e){return(t||e.selected)&&Re(e)})}},{key:"selectionBoundingRect",get:function(){var t=this.path;return t.length>0?we(t,he(t)):void 0}},{key:"onDrag",value:function(t){if("DragMove"===t.name)switch(t.point.type){case"curve1":e=this.path,n=t.point.itemIndex,i=t.deltaX,a=t.deltaY,(o=e[n])&&(0!==i||0!==a)&&St(o)&&(o.x1+=i,o.y1+=a);break;case"curve2":!function(t,e,n,i){var a=t[e];a&&(0!==n||0!==i)&&Pt(a)&&(a.x2+=n,a.y2+=i)}(this.path,t.point.itemIndex,t.deltaX,t.deltaY);break;case"move":!function(t,e,n,i){var a=t[e];if(a&&(0!==n||0!==i))if(a.selected){var o=Gt(a),r=Ht(a);if(Rt(a,n,i),n=Gt(a)-o,i=Ht(a)-r,0!==n||0!==i)for(var c=e+1;c<t.length;c++){var s=t[c];s.selected&&Rt(s,n,i)}}else!function(t,e,n){Mt(t)||(kt(t)||(t.x+=e),Ct(t)||(t.y+=n))}(a,n,i)}(this.path,t.point.itemIndex,t.deltaX,t.deltaY)}else"DragStop"===t.name&&(t.startX===t.point.x&&t.startY===t.point.y||this.onPathModelChange("transform"));var e,n,i,a,o}},{key:"selectTab",value:function(t){if(t!==this.editMode)switch(1===this.editMode?this.groupSelectionIndices=le(this.path):2===this.editMode&&(this.singleSelectionIndex=this.firstSelectionIndex),t){case 0:de(this.path,!1),this.editMode=0;break;case 1:!function(t,e,i){de(t,!1);var a,o=n(e);try{for(o.s();!(a=o.n()).done;)me(t,a.value,!0)}catch(r){o.e(r)}finally{o.f()}}(this.path,this.groupSelectionIndices),this.editMode=1;break;case 2:this.singleSelectionIndex=Math.min(Math.max(this.singleSelectionIndex,0),this.path.length-1),pe(this.path,this.singleSelectionIndex,!0),this.editMode=2}}},{key:"onSingleSelectionChange",value:function(t){this.singleSelectionIndex!==t&&(this.singleSelectionIndex=t,pe(this.path,t,!0))}},{key:"onDelete",value:function(){fe(this.path)?(this.path=Pe(this.path.filter(function(t){return!t.selected}).map(Oe)),2===this.editMode&&(this.singleSelectionIndex=Math.min(Math.max(this.singleSelectionIndex,0),this.path.length-1),pe(this.path,this.singleSelectionIndex,!0)),this.onPathModelChange()):this.onInputChange("M0 0")}},{key:"onSingleParameterChange",value:function(){this.onPathModelChange("transform")}},{key:"ngOnInit",value:function(){var t=this;this.path=Ue(this.history.pathData||"m205 698c-17-194 169-280 169-408s-24-259 127-274s177 84 174 243s218 217 164 452c43 15 31 74 55 97s50 71-18 97s-75 47-107 77s-129 64-154-28c-45 7-47-8-95-7s-59 10-108 13c-35 78-151 26-174 13s-94-9-124-25s-23-52-12-83s-26-87 30-107s40-29 73-60zm-9 30c-20 39-66 34-76 51s-12 23-4 64s-18 40-7 78s104 16 156 50s139 24 141-36s-70-102-90-157s-74-120-120-50zm103-60c-56-80 35-193 26-195s-63 84-59 160s86 96 111 126s59 83-4 85q20 22 31 40a150 100-8 00 217-10c33-30 4-182 71-192c-4-74 116-10 116 7s4 21 10 16s12-38-59-66c20-83-54-183-71-182s85 65 51 175q-9-4-22-3c-21-119-82-163-117-316q-12 18-37 30t-30 15q-55 33-90 4t-40-28c-5 121-100 220-104 334zm390 28c-44 17-26 115-47 172s-23 102 16 124s80 6 119-34s68-55 102-69q57-20 4-74c-30-41-15-64-32-82s-28-14-50-12q-88 76-112-25zm9-3c12 73 93 20 85-3s-89-65-85 3m-100-403c-5-29-46-27-77-47s-66-11-84 6s-48 34-48 50s16 25 43 45s41 39 90 11s79-30 76-65zm-14-29a51 65 2 10-86-34l24 9a23 36 0 11 37 17zm-120-34a38 56-1 10-55 38l15-11a16 28-4 11 18-17zm-61 65c81 80 122 15 173-2v5c-52 27-103 80-174 3z"),this.onPathModelChange(),this.settings.subscribe(function(e){var n,i=null===(n=t.settings.previousState)||void 0===n?void 0:n.darkMode,a=e.darkMode;i!==a&&(a?t._overlayContainer.getContainerElement().classList.add("app-dark-theme"):t._overlayContainer.getContainerElement().classList.remove("app-dark-theme"))})}},{key:"convertInput",value:function(t){!function(t,e){var i,a=!he(t),o=n(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;(a||r.selected)&&(r.outputAsRelative=e)}}catch(c){o.e(c)}finally{o.f()}}(this.path,t),this.formatInput()}},{key:"compactInput",value:function(){for(var t=this.settings.state.maximumFractionDigits,e=this.path.map(function(e){return{abs:qn(At(e,t)),rel:qn(ae(e,t))}}),n=this.path.length;n-- >1;){var i=this.path[n],a=this.path[n-1];(i.name===a.name||yt(a)&&xt(i))&&(e[n-1].abs=qn(e[n-1].abs+" "+e[n].abs.substring(1)),e[n-1].rel=qn(e[n-1].rel+" "+e[n].rel.substring(1)),e.splice(n,1))}var o=e.map(function(t){return t.rel.length<t.abs.length?t.rel:t.abs});this.pathInput=qn(o.join(""))}},{key:"formatInput",value:function(){var t,e;this.pathInput=(t=this.path,e=this.settings.state.maximumFractionDigits,t.map(function(t){return ve(t,e)})).join("\n")}},{key:"onFormatChange",value:function(t){this.settings.set({maximumFractionDigits:t})&&this.formatInput()}},{key:"onInputChange",value:function(t){t!==this.pathInput&&(this.pathInput=t,this.path=Ue(t),this.onPathModelChange("input"))}},{key:"onUndo",value:function(){this.history.canUndo&&(this.history.undo(),this.onHistoryChange())}},{key:"onRedo",value:function(){this.history.canRedo&&(this.history.redo(),this.onHistoryChange())}},{key:"onHistoryChange",value:function(){var t=this.path,e=Ue(this.history.pathData);if(ge(t))de(e,!0);else if(fe(t))for(var n=Math.min(t.length,e.length);n-- >0;)e[n].outputAsRelative=t[n].outputAsRelative,e[n].selected=t[n].selected;this.singleSelectionIndex>=e.length&&(this.singleSelectionIndex=e.length-1),this.path=e,this.onPathModelChange("history")}},{key:"openSampleDialog",value:function(){var t=this;this._dialog.open(Q).afterClosed().subscribe(function(e){"string"==typeof e&&e.length>0&&t.onInputChange(e)})}},{key:"trackByIndex",value:function(t){return t}},{key:"applyTransform",value:function(t){if(t.preview)this.previewMatrix=t.matrix;else{this.previewMatrix=void 0;var e=t.matrix;e&&!j(e)&&(this.path=_e(this.path,e),this.onPathModelChange("transform"))}}},{key:"onPathModelChange",value:function(t){"input"!==t&&this.formatInput(),"history"!==t&&(this.history.pathData=qn(this.path.map(function(t){return At(t,-1)}).join("")))}},{key:"loadSvg",value:function(t){var e=this,n=t.target;if(n&&n.files[0]){var i=n.files[0];n.value="",this._dialog.open(pt,{data:i}).afterClosed().subscribe(function(t){"string"==typeof t&&t.length>0&&e.onInputChange(t)})}}},{key:"onPathReverse",value:function(){this.path=Ae(this.path),this.onPathModelChange()}},{key:"onSelectAll",value:function(t){de(this.path,t)}},{key:"onInvertSelection",value:function(){!function(t){var e,i=n(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.selected=!a.selected}}catch(o){i.e(o)}finally{i.f()}}(this.path)}},{key:"onAppend",value:function(t){var e=be(this.path);e<0&&(e=this.path.length-1);var n=this.path[e],i=Lt(t,Ln[t]);Rt(i,Gt(n),Ht(n)),i.outputAsRelative=!0;var a=e+1;this.path=Be(this.path,a,i),2!==this.editMode&&1!==this.editMode||(this.singleSelectionIndex=a,pe(this.path,a,!0)),this.onPathModelChange()}},{key:"onSplit",value:function(){var e=this.path,i=ue(e);this.path=i>=0?function(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,o=[],r=n(e);try{for(r.s();!(i=r.n()).done;){var c=i.value;c.selected?o.push.apply(o,t(Se(c,a))):o.push(Oe(c))}}catch(s){r.e(s)}finally{r.f()}return Pe(o)}(e):function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return Pe(t.map(function(t){return Se(t,e)}).reduce(function(t,e){return t.concat(e)},[]))}(e),2===this.editMode&&(this.singleSelectionIndex=i,pe(this.path,i,!0)),this.onPathModelChange()}},{key:"onEllipticalArcAppriximation",value:function(){var t=this.path,e=ue(t);this.path=function(t,e){var i,a=[],o=!e,r=n(t);try{for(r.s();!(i=r.n()).done;){var c=i.value;if(Ot(c)&&(o||c.selected)){var s,l=n(ie(c));try{for(l.s();!(s=l.n()).done;){var u=s.value;u.selected=c.selected,u.outputAsRelative=c.outputAsRelative,a.push(u)}}catch(b){l.e(b)}finally{l.f()}}else a.push(Ie(c))}}catch(b){r.e(b)}finally{r.f()}return Pe(a)}(t,e>=0),2===this.editMode&&(this.singleSelectionIndex=e,pe(this.path,e,!0)),this.onPathModelChange()}},{key:"onPromoteToCurve",value:function(){this.path=function(t,e){var i,a=[],o=!e,r=n(t);try{for(r.s();!(i=r.n()).done;){var c=i.value;if(je(c)&&(o||c.selected)){var s=c.outputAsRelative,l=c.selected;if(Ut(c)){var u=Wt(c),b=Kt(c);a.push({name:"C",x1:u,y1:b,x2:c.x2,y2:c.y2,x:c.x,y:c.y,outputAsRelative:s,selected:l})}else{var h=Gt(c.prev),g=Ht(c.prev);if(wt(c)||It(c)){var f=2*Qt(c),m=2*$t(c);a.push({name:"C",x1:(h+f)/3,y1:(g+m)/3,x2:(c.x+f)/3,y2:(c.y+m)/3,x:c.x,y:c.y,outputAsRelative:s,selected:l})}else{var d=Gt(c),p=Ht(c);a.push({name:"C",x1:h+(d-h)/4,y1:g+(p-g)/4,x2:h+3*(d-h)/4,y2:g+3*(p-g)/4,x:d,y:p,outputAsRelative:s,selected:l})}}}else a.push(It(c)?Oe(c):Ie(c))}}catch(v){r.e(v)}finally{r.f()}return Pe(a)}(this.path,he(this.path)),this.onPathModelChange()}},{key:"onPromoteToQCurve",value:function(){this.path=function(t,e){var i,a=[],o=!e,r=n(t);try{for(r.s();!(i=r.n()).done;){var c=i.value;if(Re(c)&&(o||c.selected)){var s=c.outputAsRelative,l=c.selected;if(It(c)){var u=Wt(c),b=Kt(c);a.push({name:"Q",x1:u,y1:b,x:c.x,y:c.y,outputAsRelative:s,selected:l})}else{var h=Gt(c.prev),g=Ht(c.prev),f=Gt(c),m=Ht(c);a.push({name:"Q",x1:(h+f)/2,y1:(g+m)/2,x:f,y:m,outputAsRelative:s,selected:l})}}else a.push(Ie(c))}}catch(d){r.e(d)}finally{r.f()}return Pe(a)}(this.path,he(this.path)),this.onPathModelChange()}},{key:"onClone",value:function(e){var n=this.path,i=be(n);i<0&&(i=n.length-1);var a=he(n)?function(t){var e=t[ue(t)],n=t.filter(function(t){return t.selected}).map(Oe);return e&&yt(e)||n.splice(0,0,{name:"M",x:Gt(null==e?void 0:e.prev),y:Ht(null==e?void 0:e.prev),selected:!0}),Pe(n)}(n):Pe(n.map(Ie));e&&(a=Ae(a));var o=i+1,r=Be.apply(void 0,[n,o].concat(t(a)));if(2===this.editMode)this.singleSelectionIndex=o,pe(r,o,!0);else if(1===this.editMode){de(r,!1);for(var c=o;c<o+a.length;c++)me(r,c,!0);this.groupSelectionIndices=le(r)}this.path=r,this.onPathModelChange()}}]),e}(),Gn.\u0275fac=function(t){return new(t||Gn)(k.Ob(_),k.Ob(F),k.Ob(T),k.Ob(D.b),k.Ob(ze.e))},Gn.\u0275cmp=k.Ib({type:Gn,selectors:[["app-svg-path-editor"]],decls:128,vars:30,consts:[[3,"mode","opened","openedChange"],["color","primary"],["mat-icon-button","",3,"click"],[1,"flex-space-filler-1"],["color","primary",3,"checked","change"],["type","file","multiple","false","accept",".svg,.txt",2,"display","none",3,"change"],["inputSvgFile",""],["mat-stroked-button","",3,"click"],[2,"margin-bottom","1em"],["mat-stroked-button","",2,"float","right",3,"disabled","click"],["mat-stroked-button","",3,"disabled","click"],["items","Raw Data|Selector|Inspector",3,"selection","selectionChange"],[2,"padding-top","1em"],[2,"padding","0 0.5em"],[2,"width","100%"],["matInput","","rows","15","placeholder","Place any SVG path data here",2,"resize","none","overflow-x","hidden","padding","0","margin","0",3,"ngModel","ngModelChange"],[4,"ngIf"],["style","padding-left: 1em; padding-right: 1em;",4,"ngIf"],[2,"margin-top","1em"],[2,"max-width","5em","margin-right","1em"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",3,"click"],["mat-icon-button","","color","primary",2,"float","right",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["menuReplace","matMenu"],["mat-menu-item","",3,"disabled","click"],["menuConvert","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["menuAppend","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["menu","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],[3,"boundingRect","transformChange"],["matExpansionPanelContent",""],[3,"pathItems","activeItem","previewMatrix","controlDrag"],["svgView",""],["class","sidenav-open-button","mat-icon-button","","color","primary","style","position: absolute; left: 0; top: 0",3,"click",4,"ngIf"],[1,"edit-group-head"],[3,"checked","indeterminate","change"],["mat-icon-button","","aria-label","Invert selection",3,"click"],["mat-icon-button","","aria-label","Clear selection",3,"disabled","click"],[1,"edit-group-body"],[3,"items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"items"],[2,"padding-left","1em","padding-right","1em"],[3,"min","max","selection","selectionChange"],[3,"item","maximumFractionDigits","inputChange",4,"ngIf"],[3,"item","maximumFractionDigits","inputChange"],[3,"value"],[3,"requestSmallestViewBox"],["mat-stroked-button","",2,"margin-top","1em",3,"click"],["mat-icon-button","","color","primary",1,"sidenav-open-button",2,"position","absolute","left","0","top","0",3,"click"]],template:function(t,e){if(1&t){var n=k.Vb();k.Ub(0,"mat-sidenav-container"),k.Ub(1,"mat-sidenav",0),k.bc("openedChange",function(t){return e.settings.set({sidenavClosed:!t})}),k.Ub(2,"mat-toolbar",1),k.Ub(3,"button",2),k.bc("click",function(){return e.settings.set({sidenavClosed:!0})}),k.Ub(4,"mat-icon"),k.Bc(5,"close"),k.Tb(),k.Tb(),k.Pb(6,"span",3),k.Ub(7,"span"),k.Bc(8,"SVG Path Editor"),k.Tb(),k.Pb(9,"span",3),k.Ub(10,"mat-slide-toggle",4),k.bc("change",function(t){return e.settings.set({sidenavModeSide:t.checked})}),k.Tb(),k.Tb(),k.Ub(11,"mat-accordion"),k.Ub(12,"mat-expansion-panel"),k.Ub(13,"mat-expansion-panel-header"),k.Ub(14,"mat-icon"),k.Bc(15,"import_export"),k.Tb(),k.Bc(16,"File "),k.Tb(),k.Ub(17,"input",5,6),k.bc("change",function(t){return e.loadSvg(t)}),k.Tb(),k.Ub(19,"button",7),k.bc("click",function(){return k.sc(n),k.qc(18).click()}),k.Ub(20,"mat-icon"),k.Bc(21,"open_in_browser"),k.Tb(),k.Bc(22,"Open "),k.Tb(),k.Ub(23,"button",7),k.bc("click",function(){return k.sc(n),k.qc(126).toArchive()}),k.Ub(24,"mat-icon"),k.Bc(25,"archive"),k.Tb(),k.Bc(26,"To SVG "),k.Tb(),k.Ub(27,"button",7),k.bc("click",function(){return e.openSampleDialog()}),k.Ub(28,"mat-icon"),k.Bc(29,"developer_board"),k.Tb(),k.Bc(30,"Samples "),k.Tb(),k.Tb(),k.Ub(31,"mat-expansion-panel"),k.Ub(32,"mat-expansion-panel-header"),k.Ub(33,"mat-icon"),k.Bc(34,"design_services"),k.Tb(),k.Bc(35,"Edit "),k.Tb(),k.Ub(36,"div",8),k.Ub(37,"button",9),k.bc("click",function(){return e.history.unlink()}),k.Ub(38,"mat-icon"),k.Bc(39,"link_off"),k.Tb(),k.Bc(40,"Unlink "),k.Tb(),k.Ub(41,"button",10),k.bc("click",function(){return e.onUndo()}),k.Ub(42,"mat-icon"),k.Bc(43,"undo"),k.Tb(),k.Bc(44,"Undo "),k.Tb(),k.Ub(45,"button",10),k.bc("click",function(){return e.onRedo()}),k.Ub(46,"mat-icon"),k.Bc(47,"redo"),k.Tb(),k.Bc(48,"Redo "),k.Tb(),k.Tb(),k.Ub(49,"app-tab-group",11),k.bc("selectionChange",function(t){return e.selectTab(t)}),k.Ub(50,"div",12),k.Ub(51,"div",13),k.Ub(52,"mat-form-field",14),k.Ub(53,"mat-label"),k.Bc(54,"SVG path data:"),k.Tb(),k.Ub(55,"textarea",15),k.bc("ngModelChange",function(t){return e.onInputChange(t)}),k.Tb(),k.Tb(),k.Tb(),k.zc(56,jn,13,5,"div",16),k.zc(57,Dn,3,4,"div",17),k.Tb(),k.Tb(),k.Ub(58,"div",18),k.Ub(59,"mat-form-field",19),k.Ub(60,"mat-label"),k.Bc(61,"Decimal digits"),k.Tb(),k.Ub(62,"mat-select",20),k.bc("ngModelChange",function(t){return e.onFormatChange(+t)}),k.zc(63,Xn,2,2,"mat-option",21),k.Tb(),k.Tb(),k.Ub(64,"button",22),k.bc("click",function(){return e.formatInput()}),k.Bc(65,"Pretty"),k.Tb(),k.Ub(66,"button",22),k.bc("click",function(){return e.compactInput()}),k.Bc(67,"Compact"),k.Tb(),k.Ub(68,"button",23,24),k.Ub(70,"mat-icon"),k.Bc(71),k.Tb(),k.Tb(),k.Ub(72,"mat-menu",null,25),k.Ub(74,"button",26),k.bc("click",function(){return e.onEllipticalArcAppriximation()}),k.Bc(75,"Arc to Curves Approximation"),k.Tb(),k.Ub(76,"button",26),k.bc("click",function(){return e.onPromoteToCurve()}),k.Bc(77,"Promote to Cubic B\xe9zier Curve"),k.Tb(),k.Ub(78,"button",26),k.bc("click",function(){return e.onPromoteToQCurve()}),k.Bc(79,"Promote to Quadratic B\xe9zier Curve"),k.Tb(),k.Tb(),k.Ub(80,"mat-menu",null,27),k.Ub(82,"button",28),k.bc("click",function(){return e.convertInput(!1)}),k.Bc(83,"Convert to Absolute"),k.Tb(),k.Ub(84,"button",28),k.bc("click",function(){return e.convertInput(!0)}),k.Bc(85,"Convert to Relative"),k.Tb(),k.Ub(86,"button",28),k.bc("click",function(){return e.onClone(!1)}),k.Bc(87,"Clone"),k.Tb(),k.Ub(88,"button",28),k.bc("click",function(){return e.onClone(!0)}),k.Bc(89,"Clone Reversed"),k.Tb(),k.Ub(90,"button",28),k.bc("click",function(){return e.onSplit()}),k.Bc(91,"Bisect"),k.Tb(),k.Ub(92,"button",29),k.Bc(93,"Replace"),k.Tb(),k.Pb(94,"mat-divider"),k.Ub(95,"button",28),k.bc("click",function(){return e.onDelete()}),k.Ub(96,"mat-icon"),k.Bc(97,"clear"),k.Tb(),k.Ub(98,"span"),k.Bc(99,"Delete"),k.Tb(),k.Tb(),k.Tb(),k.Ub(100,"mat-menu",null,30),k.zc(102,Nn,2,1,"button",31),k.Tb(),k.Ub(103,"mat-menu",null,32),k.Ub(105,"button",29),k.Bc(106,"Append"),k.Tb(),k.zc(107,Vn,2,2,"button",33),k.Ub(108,"button",28),k.bc("click",function(){return e.onPathReverse()}),k.Bc(109,"Reverse Path Direction"),k.Tb(),k.Tb(),k.Tb(),k.Ub(110,"mat-expansion-panel"),k.Ub(111,"mat-expansion-panel-header"),k.Ub(112,"mat-panel-title"),k.Ub(113,"mat-icon"),k.Bc(114,"transform"),k.Tb(),k.Tb(),k.Ub(115,"mat-panel-description"),k.Bc(116,"Transform"),k.Tb(),k.Tb(),k.Ub(117,"app-menu-transform",34),k.bc("transformChange",function(t){return e.applyTransform(t)}),k.Tb(),k.Tb(),k.Tb(),k.Ub(118,"mat-expansion-panel"),k.Ub(119,"mat-expansion-panel-header"),k.Ub(120,"mat-icon"),k.Bc(121,"visibility"),k.Tb(),k.Bc(122,"View "),k.Tb(),k.zc(123,Yn,6,1,"ng-template",35),k.Tb(),k.Tb(),k.Tb(),k.Ub(124,"mat-sidenav-content"),k.Ub(125,"app-svg-view",36,37),k.bc("controlDrag",function(t){return e.onDrag(t)}),k.Tb(),k.zc(127,En,3,0,"button",38),k.Tb(),k.Tb()}if(2&t){var i=k.qc(69),a=k.qc(73),o=k.qc(101),r=k.qc(104);k.Gb("app-dark-theme",e.settings.state.darkMode),k.Cb(1),k.lc("mode",e.settings.state.sidenavModeSide?"side":"over")("opened",!e.settings.state.sidenavClosed),k.Cb(9),k.lc("checked",e.settings.state.sidenavModeSide),k.Cb(27),k.lc("disabled",!e.history.hasLink),k.Cb(4),k.lc("disabled",!e.history.canUndo),k.Cb(4),k.lc("disabled",!e.history.canRedo),k.Cb(4),k.lc("selection",e.editMode),k.Cb(2),k.wc("display",0===e.editMode?"block":"none"),k.Cb(4),k.lc("ngModel",e.pathInput),k.Cb(1),k.lc("ngIf",1===e.editMode),k.Cb(1),k.lc("ngIf",2===e.editMode),k.Cb(5),k.lc("ngModel",e.settings.state.maximumFractionDigits),k.Cb(1),k.lc("ngForOf",e.decimalFormats),k.Cb(5),k.lc("matMenuTriggerFor",r),k.Cb(3),k.Cc(i.menuOpen?"menu_open":"menu"),k.Cb(3),k.lc("disabled",!e.hasArc),k.Cb(2),k.lc("disabled",!e.canPromoteToCurve),k.Cb(2),k.lc("disabled",!e.canPromoteToQCurve),k.Cb(14),k.lc("matMenuTriggerFor",a),k.Cb(10),k.lc("ngForOf",e.commands),k.Cb(3),k.lc("matMenuTriggerFor",o),k.Cb(2),k.lc("ngIf",(null==e.path?null:e.path.length)>0),k.Cb(10),k.lc("boundingRect",e.selectionBoundingRect),k.Cb(8),k.lc("pathItems",e.path)("activeItem",e.activeItem)("previewMatrix",e.previewMatrix),k.Cb(2),k.lc("ngIf",e.settings.state.sidenavClosed)}},directives:[De.b,De.a,Xe.a,X.a,N.a,Ne.a,Ve.a,Ve.c,Ve.f,V.a,$.c,$.g,Z.a,v.b,v.i,v.l,d.l,Ye.a,d.k,nt.d,nt.a,nt.b,Ee.a,Ve.g,Ve.e,on,Ve.d,De.c,vn,W.a,Un,et,wn,Le.h,An],styles:["mat-sidenav-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#282828}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:360px}@-webkit-keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}@keyframes keyframes-fade-in{0%{opacity:0}to{opacity:1}}.sidenav-open-button[_ngcontent-%COMP%]{-webkit-animation:keyframes-fade-in 3s ease 1;animation:keyframes-fade-in 3s ease 1;background-color:#f0f8ff50}div.path-commands[_ngcontent-%COMP%]{margin-top:1em;padding:.5em;max-height:24em;overflow-y:auto}div.path-commands[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;width:1.2em;height:1.2em;border:1px solid grey;border-radius:.6em;text-align:center}div.path-commands[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{border-color:#bb0;color:#bb0}div.path-commands[_ngcontent-%COMP%] > span.selected[_ngcontent-%COMP%]{background-color:#ff0}.edit-group-head[_ngcontent-%COMP%]{padding-left:16px;padding-right:4px;padding-bottom:4px;display:flex;align-items:center}.edit-group-body[_ngcontent-%COMP%]{padding-top:10px;padding-left:16px;border-top:1px solid rgba(0,0,0,.26);height:280px;overflow-y:auto}"]}),Gn)}],$n=((Hn=f(function t(){h(this,t)})).\u0275fac=function(t){return new(t||Hn)},Hn.\u0275mod=k.Mb({type:Hn}),Hn.\u0275inj=k.Lb({providers:[T,_,F,A],imports:[[p.c.forChild(Qn),d.c,v.d,y.b,C.a,x.a],p.c]}),Hn)}}])}();