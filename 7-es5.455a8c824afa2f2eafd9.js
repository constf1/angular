function _defineProperty(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function _createForOfIteratorHelper(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==e.return||e.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,n):void 0}}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{C9RU:function(t,n,e){"use strict";e.r(n);var i=e("ofXK"),a=e("tk/3"),o=e("3Pt+"),r=e("tyNb"),s=e("hctd"),c=e("pKmL"),u=e("fXoL"),l=e("Bd3B"),m=e("fKvJ"),p=e("voYn"),d=e("bgvp"),h=e("dPmG");function f(t,n){return{name:"addition",operator:{name:"plus",notation:"+"},first:{name:"augend",value:t},second:{name:"addend",value:n},result:{name:"sum",value:t+n}}}function g(t){var n=Object(h.d)(0,t+1),e=Object(h.d)(0,t+1);return n+e>t?n>e?f(n-e,e):f(n,e-n):f(n,e)}function b(t,n){return{name:"subtraction",operator:{name:"minus",notation:"-"},first:{name:"minuend",value:t},second:{name:"subtrahend",value:n},result:{name:"difference",value:t-n}}}function v(t){var n=Object(h.d)(0,t+1),e=Object(h.d)(0,t+1);return n>e?b(n,e):b(e,n)}function y(t,n){var e,i,a=Object(h.d)(1,t+1),o=Object(h.d)(1,Math.min(t,Math.floor(n/a))+1);return{name:"division",operator:{name:"divide",notation:":"},first:{name:"dividend",value:e=o*a},second:{name:"divisor",value:i=Math.random()<.5?o:a},result:{name:"quotient",value:e/i}}}function x(t,n){return{name:"multiplication",operator:{name:"multiply",notation:"\xb7"},first:{name:"multiplier",value:t},second:{name:"multiplicand",value:n},result:{name:"product",value:t*n}}}function C(t,n){var e=Object(h.d)(1,t+1),i=Object(h.d)(1,Math.min(t,Math.floor(n/e))+1);return Math.random()<.5?x(i,e):x(e,i)}function P(t,n){return"first"===n?"? ".concat(t.operator.notation," ").concat(t.second.value," = ").concat(t.result.value):"second"===n?"".concat(t.first.value," ").concat(t.operator.notation," ? = ").concat(t.result.value):"result"===n?"".concat(t.first.value," ").concat(t.operator.notation," ").concat(t.second.value," = ?"):"".concat(t.first.value," ").concat(t.operator.notation," ").concat(t.second.value," = ").concat(t.result.value)}var k,T=e("0IaG"),O=e("bTqV"),M=[[["","appContentSvg",""]],"*"],_=["[appContentSvg]","*"],w=((k=function(){function t(){_classCallCheck(this,t),this.rowNum=41,this.colNum=34}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"width",get:function(){return 24*this.colNum}},{key:"height",get:function(){return 24*this.rowNum}}]),t}()).\u0275fac=function(t){return new(t||k)},k.\u0275cmp=u.Ib({type:k,selectors:[["app-squared-paper"]],inputs:{rowNum:"rowNum",colNum:"colNum"},ngContentSelectors:_,decls:11,vars:6,consts:[[1,"squared-paper"],[1,"squared-paper-bg"],["id","patternSquaredPaper","x","0","y","0","width","24","height","24","patternUnits","userSpaceOnUse"],["fill","none","stroke","#00f","stroke-width",".25","d","M0 0h24v24H0z"],["width","100%","height","100%","fill","url(#patternSquaredPaper)"],["transform","scale(24)"],[1,"squared-paper-fg"]],template:function(t,n){1&t&&(u.lc(M),u.Ub(0,"div",0),u.Ub(1,"div",1),u.fc(),u.Ub(2,"svg"),u.Ub(3,"defs"),u.Ub(4,"pattern",2),u.Pb(5,"path",3),u.Tb(),u.Tb(),u.Pb(6,"rect",4),u.Ub(7,"g",5),u.kc(8),u.Tb(),u.Tb(),u.Tb(),u.ec(),u.Ub(9,"div",6),u.kc(10,1),u.Tb(),u.Tb()),2&t&&(u.yc("width",n.width,"px")("height",n.height,"px"),u.Bb(2),u.Cb("width",n.width)("height",n.height))},styles:[".squared-paper[_ngcontent-%COMP%]{position:relative;background-color:#f5f5f5;font-family:Fira Mono,monospace;font-weight:500;font-size:20px;line-height:24px}.squared-paper-bg[_ngcontent-%COMP%]{width:100%;height:100%}.squared-paper-fg[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0}.squared-paper-col-3[_ngcontent-%COMP%], .squared-paper-col-12[_ngcontent-%COMP%], .squared-paper-col-15[_ngcontent-%COMP%], .squared-paper-col-30[_ngcontent-%COMP%]{display:inline-block}.squared-paper-col-3[_ngcontent-%COMP%]{width:72px}.squared-paper-col-12[_ngcontent-%COMP%]{width:288px}.squared-paper-col-15[_ngcontent-%COMP%]{width:360px}.squared-paper-col-30[_ngcontent-%COMP%]{width:720px}"]}),k);function I(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",14),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-addition-animate-augend")})),u.Bc(1),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.augendTransform),u.Bb(1),u.Cc(i.augendText)}}function B(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",15),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-addition-animate-addend")})),u.Bc(1),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.addendTransform),u.Bb(1),u.Cc(i.addendText)}}function U(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",16),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-addition-animate-sum")})),u.Bc(1),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.sumTransform),u.Bb(1),u.Dc("",i.sumText," ")}}function S(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",17),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-addition-animate-sum-ones")})),u.Bc(1,"\u0435\u0434\u0438\u043d\u0438\u0446\u044b "),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.sumOnesTransform)}}function N(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",17),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-addition-animate-sum-tens")})),u.Bc(1,"\u0434\u0435\u0441\u044f\u0442\u043a\u0438 "),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.sumTensTransform)}}function V(t,n){return"translate(".concat(24*(2+t),"px, ").concat(24*(2+n),"px)")}function z(t){var n=+t;return isNaN(n)?0:n}var q,F=((q=function(){function t(){_classCallCheck(this,t),this.augend=0,this.addend=0,this.hiddenTerm=-1,this.rowNum=4,this.animationName="",this.reset()}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnInit",value:function(){}},{key:"setAnimation",value:function(t){this.animationName=t?t===this.animationName?t+" simple-addition-animation-restart":t:""}},{key:"reset",value:function(){this.augendPath=this.addendPath=this.sumPath=this.sumTensPath=this.sumOnesPath="M0 0z",this.rowNum=4,this.augendTransform=this.addendTransform=this.sumTransform=this.sumOnesTransform=this.sumTensTransform=""}},{key:"update",value:function(){this.reset();var t=z(this.augend),n=z(this.addend),e=t+n,i=t%10,a=n%10,o=e%10,r=Math.floor(t/10),s=Math.floor(n/10),c=Math.floor(e/10);if(t>0){var u=i,l=r;l>0?(this.augendPath=u>0?"M0 0h10v".concat(l,"h").concat(u-10,"v1h").concat(-u,"z"):"M0 0h10v".concat(l,"h-10z"),this.augendTransform=V(5,(u>5?0:-.5)+l/2)):(this.augendPath="M0 0h".concat(u,"v1h").concat(-u,"v-1z"),this.augendTransform=V(u/2,0))}if(n>0){var m=Math.min(n,10-i),p=(n-m)%10,d=Math.floor((n-m)/10);if(this.addendPath="M".concat(i," ").concat(r,"h").concat(m,"v").concat(d+1),d>0)this.addendTransform=V(5,r+(d+(m>5?0:1)+(p>5?1:0))/2);else{var h=m+p-10;if(h>=2)this.addendTransform=V(p-h/2,r+.5);else if(m>p)this.addendTransform=V(i+m/2,r);else{var f=Math.max(p/2,p-1);this.addendTransform=V(f,r+1)}}this.addendPath+=p>0?"h".concat(p-10,"v1h").concat(-p,"v").concat(-d-1,"h").concat(10-m,"z"):d>0?"h-10v".concat(-d,"h").concat(10-m,"z"):"h".concat(-m,"z")}if(e>0){var g=c;if(this.sumTransform=V(g<10?11:10,g+1),g>0){this.rowNum+=g;var b=(g-2)/2;this.sumTensPath="M10 0a.5 .5 0 0 1 .5 .5v".concat(b,"a.5 .5 0 0 0 .5 .5a.5 .5 0 0 0 -.5 .5v").concat(b,"a.5 .5 0 0 1 -.5 .5m1 ").concat(-1-b,"h.5v").concat(b+2,"m-.1 -.4l.1 .4 .1 -.4"),this.sumTensTransform=V(11.5,Math.floor(b))}var v=o;if(v>0){this.rowNum+=3;var y=(v-2)/2;this.sumOnesPath="M0 ".concat(g+1,"a.5 .5 0 0 0 .5 .5h").concat(y,"a.5 .5 0 0 1 .5 .5a.5 .5 0 0 1 .5 -.5h").concat(y,"a.5 .5 0 0 0 .5 -.5m").concat(-1-y," 1v.5h").concat(13.5+y-v,"v-.5m-.1 .4l.1 -.4 .1 .4"),this.sumOnesTransform=V(y,g+3)}this.sumPath=g>0?v>0?"M0 0h10v".concat(g,"h").concat(v-10,"v1h").concat(-v,"z"):"M0 0h10v".concat(g,"h-10z"):"M0 0h".concat(v,"v1h").concat(-v,"v-1z")}this.augendText=0===this.hiddenTerm?"?":(10*r+i).toString(),this.addendText=1===this.hiddenTerm?"?":(10*s+a).toString(),this.sumText=2===this.hiddenTerm?"?":(10*c+o).toString()}}]),t}()).\u0275fac=function(t){return new(t||q)},q.\u0275cmp=u.Ib({type:q,selectors:[["app-simple-addition"]],inputs:{augend:"augend",addend:"addend",hiddenTerm:"hiddenTerm"},features:[u.zb],decls:15,vars:12,consts:[["colNum","18",3,"rowNum"],["appContentSvg","",3,"ngClass"],["transform","translate(2 2)"],["stroke-width","0.1"],["id","augendPath","fill","#00f1","stroke","#008e"],["id","addendPath","fill","#f001","stroke","#800e"],["id","sumPath","fill","none","stroke","#080e","stroke-width","0.2","stroke-dasharray","40","stroke-dashoffset","40"],["fill","none","stroke","#444b","stroke-width","0.1"],["id","sumTensPath"],["id","sumOnesPath"],["class","simple-addition-box simple-addition-augend",3,"transform","click",4,"ngIf"],["class","simple-addition-box simple-addition-addend",3,"transform","click",4,"ngIf"],["class","simple-addition-box simple-addition-sum",3,"transform","click",4,"ngIf"],["class","simple-addition-box simple-addition-info",3,"transform","click",4,"ngIf"],[1,"simple-addition-box","simple-addition-augend",3,"click"],[1,"simple-addition-box","simple-addition-addend",3,"click"],[1,"simple-addition-box","simple-addition-sum",3,"click"],[1,"simple-addition-box","simple-addition-info",3,"click"]],template:function(t,n){1&t&&(u.Ub(0,"app-squared-paper",0),u.fc(),u.Ub(1,"svg",1),u.Ub(2,"g",2),u.Ub(3,"g",3),u.Pb(4,"path",4),u.Pb(5,"path",5),u.Tb(),u.Pb(6,"path",6),u.Ub(7,"g",7),u.Pb(8,"path",8),u.Pb(9,"path",9),u.Tb(),u.Tb(),u.Tb(),u.zc(10,I,2,3,"div",10),u.zc(11,B,2,3,"div",11),u.zc(12,U,2,3,"div",12),u.zc(13,S,2,2,"div",13),u.zc(14,N,2,2,"div",13),u.Tb()),2&t&&(u.mc("rowNum",n.rowNum),u.Bb(1),u.mc("ngClass",n.animationName),u.Bb(3),u.Cb("d",n.augendPath),u.Bb(1),u.Cb("d",n.addendPath),u.Bb(1),u.Cb("d",n.sumPath),u.Bb(2),u.Cb("d",n.sumTensPath),u.Bb(1),u.Cb("d",n.sumOnesPath),u.Bb(1),u.mc("ngIf",n.augendTransform),u.Bb(1),u.mc("ngIf",n.addendTransform),u.Bb(1),u.mc("ngIf",n.sumTransform),u.Bb(1),u.mc("ngIf",n.sumOnesTransform),u.Bb(1),u.mc("ngIf",n.sumTensTransform))},directives:[w,i.j,i.l],styles:[".simple-addition-box[_ngcontent-%COMP%]{position:absolute;left:-12px;top:0;background-color:rgba(34,34,34,.13);border-radius:12px;min-width:24px;text-align:center;cursor:pointer;transition:box-shadow .3s ease-in-out}.simple-addition-box[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 4px rgba(0,0,0,.53)}.simple-addition-augend[_ngcontent-%COMP%]{color:rgba(0,0,136,.93);background-color:rgba(0,0,136,.13)}.simple-addition-addend[_ngcontent-%COMP%]{color:rgba(136,0,0,.93);background-color:rgba(136,0,0,.13)}.simple-addition-sum[_ngcontent-%COMP%]{min-width:48px;color:rgba(34,34,34,.93);background-color:rgba(34,34,34,.13);letter-spacing:12px;padding-left:12px;left:-6px;text-align:right}.simple-addition-info[_ngcontent-%COMP%]{padding-left:6px;padding-right:6px}@-webkit-keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@-webkit-keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}.simple-addition-animate-addend[_ngcontent-%COMP%]   #addendPath[_ngcontent-%COMP%], .simple-addition-animate-augend[_ngcontent-%COMP%]   #augendPath[_ngcontent-%COMP%], .simple-addition-animate-sum[_ngcontent-%COMP%]   #sumPath[_ngcontent-%COMP%], .simple-addition-animate-sum-ones[_ngcontent-%COMP%]   #sumOnesPath[_ngcontent-%COMP%], .simple-addition-animate-sum-tens[_ngcontent-%COMP%]   #sumTensPath[_ngcontent-%COMP%]{-webkit-animation:animationTerm 4s linear 1;animation:animationTerm 4s linear 1}.simple-addition-animate-addend.simple-addition-animation-restart[_ngcontent-%COMP%]   #addendPath[_ngcontent-%COMP%], .simple-addition-animate-augend.simple-addition-animation-restart[_ngcontent-%COMP%]   #augendPath[_ngcontent-%COMP%], .simple-addition-animate-sum-ones.simple-addition-animation-restart[_ngcontent-%COMP%]   #sumOnesPath[_ngcontent-%COMP%], .simple-addition-animate-sum-tens.simple-addition-animation-restart[_ngcontent-%COMP%]   #sumTensPath[_ngcontent-%COMP%], .simple-addition-animate-sum.simple-addition-animation-restart[_ngcontent-%COMP%]   #sumPath[_ngcontent-%COMP%]{-webkit-animation-name:animationTermRestart;animation-name:animationTermRestart}"]}),q);function A(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",9),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-multiplication-animate-multiplier")})),u.Bc(1),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.multiplierTransform),u.Bb(1),u.Dc(" ",i.multiplierText,"")}}function R(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",10),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-multiplication-animate-multiplicand")})),u.Bc(1),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.multiplicandTransform),u.Bb(1),u.Dc(" ",i.multiplicandText,"")}}function j(t,n){if(1&t){var e=u.Vb();u.fc(),u.ec(),u.Ub(0,"div",11),u.cc("click",(function(){return u.tc(e),u.gc().setAnimation("simple-multiplication-animate-product")})),u.Bc(1),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.productTransform),u.Bb(1),u.Dc("",i.productText," ")}}function E(t,n){return function(t,n){return"translate(".concat(24*t,"px, ").concat(24*n,"px)")}(t+2,n+2)}function L(t){var n=+t;return isNaN(n)?0:n}var D,$=((D=function(){function t(){_classCallCheck(this,t),this.multiplier=0,this.multiplicand=0,this.hiddenTerm=-1,this.colNum=4,this.rowNum=4,this.animationName="",this.clear()}return _createClass(t,[{key:"setAnimation",value:function(t){this.animationName=t?t===this.animationName?t+" simple-multiplication-animation-restart":t:""}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.clear();var n=L(this.multiplier),e=L(this.multiplicand),i=n*e;i>0&&(this.productPath="M0 0h".concat(n,"v").concat(e,"h").concat(-n,"z"),this.productText=2===this.hiddenTerm?"?":""+i,this.productTransform=E(n/2,e/2),this.multiplierPath="M0 ".concat(e,"a.5 .5 0 0 0 .5 .5h").concat(n/2-1,"a.5 .5 0 0 1 .5 .5a.5 .5 0 0 1 .5 -.5h").concat(n/2-1,"a.5 .5 0 0 0 .5 -.5"),this.multiplierText=0===this.hiddenTerm?"?":""+n,this.multiplierTransform=E(n/2,e+1.5),this.multiplicandPath="M".concat(n," 0a.5 .5 0 0 1 .5 .5v").concat(e/2-1,"a.5 .5 0 0 0 .5 .5a.5 .5 0 0 0 -.5 .5v").concat(e/2-1,"a.5 .5 0 0 1 -.5 .5"),this.multiplicandText=1===this.hiddenTerm?"?":""+e,this.multiplicandTransform=E(n+1.5,e/2),this.colNum+=n+1,this.rowNum+=e+1)}},{key:"clear",value:function(){this.multiplierPath=this.multiplicandPath=this.productPath="M0 0z",this.multiplierText=this.multiplierTransform=this.multiplicandText=this.multiplicandTransform=this.productText=this.productTransform=void 0,this.colNum=4,this.rowNum=4}}]),t}()).\u0275fac=function(t){return new(t||D)},D.\u0275cmp=u.Ib({type:D,selectors:[["app-simple-multiplication"]],inputs:{multiplier:"multiplier",multiplicand:"multiplicand",hiddenTerm:"hiddenTerm"},features:[u.zb],decls:9,vars:9,consts:[[3,"rowNum","colNum"],["appContentSvg","",3,"ngClass"],["transform","translate(2 2)"],["id","productPath","fill","#0f04","stroke","#444e","stroke-width","0.1"],["id","multiplierPath","fill","none","stroke","#444e","stroke-width","0.1"],["id","multiplicandPath","fill","none","stroke","#444e","stroke-width","0.1"],["class","simple-multiplication-box simple-multiplication-multiplier",3,"transform","click",4,"ngIf"],["class","simple-multiplication-box simple-multiplication-multiplicand",3,"transform","click",4,"ngIf"],["class","simple-multiplication-box simple-multiplication-product",3,"transform","click",4,"ngIf"],[1,"simple-multiplication-box","simple-multiplication-multiplier",3,"click"],[1,"simple-multiplication-box","simple-multiplication-multiplicand",3,"click"],[1,"simple-multiplication-box","simple-multiplication-product",3,"click"]],template:function(t,n){1&t&&(u.Ub(0,"app-squared-paper",0),u.fc(),u.Ub(1,"svg",1),u.Ub(2,"g",2),u.Pb(3,"path",3),u.Pb(4,"path",4),u.Pb(5,"path",5),u.Tb(),u.Tb(),u.zc(6,A,2,3,"div",6),u.zc(7,R,2,3,"div",7),u.zc(8,j,2,3,"div",8),u.Tb()),2&t&&(u.mc("rowNum",n.rowNum)("colNum",n.colNum),u.Bb(1),u.mc("ngClass",n.animationName),u.Bb(2),u.Cb("d",n.productPath),u.Bb(1),u.Cb("d",n.multiplierPath),u.Bb(1),u.Cb("d",n.multiplicandPath),u.Bb(1),u.mc("ngIf",n.multiplierText),u.Bb(1),u.mc("ngIf",n.multiplicandText),u.Bb(1),u.mc("ngIf",n.productText))},directives:[w,i.j,i.l],styles:[".simple-multiplication-box[_ngcontent-%COMP%]{position:absolute;left:-12px;top:-12px;background-color:rgba(34,34,34,.13);border-radius:12px;min-width:24px;text-align:center;cursor:pointer;transition:box-shadow .3s ease-in-out}.simple-multiplication-box[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 4px rgba(0,0,0,.53)}.simple-multiplication-product[_ngcontent-%COMP%]{color:rgba(68,68,68,.93);background-color:rgba(34,34,34,.13)}.simple-multiplication-multiplier[_ngcontent-%COMP%]{color:rgba(136,0,136,.93);background-color:rgba(136,0,136,.13)}.simple-multiplication-multiplicand[_ngcontent-%COMP%]{color:rgba(221,17,51,.93);background-color:rgba(221,17,51,.13)}@-webkit-keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTerm{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@-webkit-keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}@keyframes animationTermRestart{0%{stroke-dasharray:40;stroke-dashoffset:40;fill-opacity:0}to{stroke-dasharray:40;stroke-dashoffset:0}}.simple-multiplication-animate-multiplicand[_ngcontent-%COMP%]   #multiplicandPath[_ngcontent-%COMP%], .simple-multiplication-animate-multiplier[_ngcontent-%COMP%]   #multiplierPath[_ngcontent-%COMP%], .simple-multiplication-animate-product[_ngcontent-%COMP%]   #productPath[_ngcontent-%COMP%]{-webkit-animation:animationTerm 4s linear 1;animation:animationTerm 4s linear 1}.simple-multiplication-animate-multiplicand.simple-multiplication-animation-restart[_ngcontent-%COMP%]   #multiplicandPath[_ngcontent-%COMP%], .simple-multiplication-animate-multiplier.simple-multiplication-animation-restart[_ngcontent-%COMP%]   #multiplierPath[_ngcontent-%COMP%], .simple-multiplication-animate-product.simple-multiplication-animation-restart[_ngcontent-%COMP%]   #productPath[_ngcontent-%COMP%]{-webkit-animation-name:animationTermRestart;animation-name:animationTermRestart}"]}),D);function K(t,n){if(1&t&&u.Pb(0,"app-simple-addition",5),2&t){var e=u.gc();u.mc("augend",e.firstTermValue)("addend",e.secondTermValue)("hiddenTerm",e.hiddenTerm)}}function Y(t,n){if(1&t&&u.Pb(0,"app-simple-multiplication",6),2&t){var e=u.gc();u.mc("multiplier",e.firstTermValue)("multiplicand",e.secondTermValue)("hiddenTerm",e.hiddenTerm)}}var J,H=((J=function(){function t(n){_classCallCheck(this,t),this.item=n,this.title="",this.content="",this.contentType=null,this.firstTermValue=0,this.secondTermValue=0,this.hiddenTerm=-1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.item.inputIndex,n=this.item.expression;if(this.title=P(n,t),"addition"===n.name){this.firstTermValue=n.first.value,this.secondTermValue=n.second.value,this.content=function(t,n){return"first"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0435\u0440\u0432\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0441\u0443\u043c\u043c\u044b \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0432\u0442\u043e\u0440\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435.":"second"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0432\u0442\u043e\u0440\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0441\u0443\u043c\u043c\u044b \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u043f\u0435\u0440\u0432\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0435.":"result"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0441\u0443\u043c\u043c\u0443 (?), \u043d\u0430\u0434\u043e \u0441\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u043e\u0435 \u0438 \u0432\u0442\u043e\u0440\u043e\u0435 \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0435.":"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0441\u0443\u043c\u043c\u0443 (".concat(t.result.value,"), \u043d\u0430\u0434\u043e \u0441\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u043e\u0435 (").concat(t.first.value,") \u0438 \u0432\u0442\u043e\u0440\u043e\u0435 (").concat(t.second.value,") \u0441\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0435.")}(n,t),this.contentType="addition";var e=function(t,n){var e=t.first,i=t.second,a=t.result,o=i.value===a.value,r=e.value===a.value;return o&&r?"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043b\u044c \u043d\u0435 \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0439, \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f!":o&&"first"===n||r&&"second"===n?"\u041a\u0430\u043a\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u0447\u0438\u0441\u043b\u0443 ".concat(a.value," \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c?"):o&&"first"!==n?"\u0415\u0441\u043b\u0438 \u043a \u043d\u0443\u043b\u044e \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0438\u0441\u043b\u043e, \u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u0442\u043e \u0436\u0435 \u0441\u0430\u043c\u043e\u0435 \u0447\u0438\u0441\u043b\u043e.":r&&"second"!==n?"\u0415\u0441\u043b\u0438 \u043a \u043b\u044e\u0431\u043e\u043c\u0443 \u0447\u0438\u0441\u043b\u0443 \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c 0 \u0442\u043e \u044d\u0442\u043e \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e, \u0447\u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043a \u043d\u0435\u043c\u0443 \u043d\u0435 \u043f\u0440\u0438\u0431\u0430\u0432\u0438\u0442\u044c!":null}(n,t);e?(this.content=e,this.hiddenTerm=-1):this.hiddenTerm="first"===t?0:"second"===t?1:2}else if("subtraction"===n.name){this.firstTermValue=n.result.value,this.secondTermValue=n.second.value,this.contentType="addition",this.content=function(t,n){return"first"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0441\u043b\u043e\u0436\u0438\u0442\u044c \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u0438 \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435.":"second"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0433\u043e \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c.":"result"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c (?), \u043d\u0430\u0434\u043e \u0438\u0437 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0433\u043e \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435.":"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c (".concat(t.result.value,"), \u043d\u0430\u0434\u043e \u0438\u0437 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c\u043e\u0433\u043e (").concat(t.first.value,") \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0435 (").concat(t.second.value,").")}(n,t);var i=function(t,n){var e=t.first,i=t.second,a=t.result;return e.value===i.value?0===e.value?"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043b\u044c \u043d\u0435 \u043e\u0442\u043d\u0438\u043c\u0430\u0439, \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f!":"\u0420\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u0434\u0432\u0443\u0445 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0432\u043d\u0430 \u043d\u0443\u043b\u044e.":0===i.value?"second"===n?"\u041a\u0430\u043a\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043d\u044f\u0442\u044c \u043e\u0442 \u0447\u0438\u0441\u043b\u0430 ".concat(a.value," \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c?"):"\u041f\u0440\u0438 \u0432\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0438 \u043d\u0443\u043b\u044f \u0438\u0437 \u043b\u044e\u0431\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u044d\u0442\u043e \u0441\u0430\u043c\u043e\u0435 \u0447\u0438\u0441\u043b\u043e!":null}(n,t);i?(this.content=i,this.hiddenTerm=-1):this.hiddenTerm="first"===t?2:"second"===t?1:0}else"multiplication"===n.name?(this.firstTermValue=n.first.value,this.secondTermValue=n.second.value,this.contentType="multiplication",this.content=function(t,n){return"first"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (?), \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 (".concat(t.result.value,") \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (").concat(t.second.value,")."):"second"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (?), \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 (".concat(t.result.value,") \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (").concat(t.first.value,")."):"result"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b (?), \u043d\u0430\u0434\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (".concat(t.first.value,") \u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c (").concat(t.second.value,")."):"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b, \u043d\u0430\u0434\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c \u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c."}(n,t),this.hiddenTerm="first"===t?0:"second"===t?1:2):"division"===n.name&&(this.firstTermValue=n.result.value,this.secondTermValue=n.second.value,this.contentType="multiplication",this.content=function(t,n){return"first"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0435\u043b\u0438\u043c\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0447\u0430\u0441\u0442\u043d\u043e\u0435 (".concat(t.result.value,") \u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c (").concat(t.second.value,")."):"second"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c (?), \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0438\u043c\u043e\u0435 (".concat(t.first.value,") \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0447\u0430\u0441\u0442\u043d\u043e\u0435 (").concat(t.result.value,")."):"result"===n?"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0435 (?), \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0438\u043c\u043e\u0435 (".concat(t.first.value,") \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c (").concat(t.second.value,")."):"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0435, \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0438\u043c\u043e\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c."}(n,t),this.hiddenTerm="first"===t?2:"second"===t?1:0)}}]),t}()).\u0275fac=function(t){return new(t||J)(u.Ob(T.a))},J.\u0275cmp=u.Ib({type:J,selectors:[["app-math-expression-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],[3,"augend","addend","hiddenTerm",4,"ngIf"],[3,"multiplier","multiplicand","hiddenTerm",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],[3,"augend","addend","hiddenTerm"],[3,"multiplier","multiplicand","hiddenTerm"]],template:function(t,n){1&t&&(u.Ub(0,"h2",0),u.Bc(1),u.Tb(),u.Ub(2,"mat-dialog-content"),u.Ub(3,"p"),u.Bc(4),u.Tb(),u.zc(5,K,1,3,"app-simple-addition",1),u.zc(6,Y,1,3,"app-simple-multiplication",2),u.Tb(),u.Ub(7,"mat-dialog-actions",3),u.Ub(8,"button",4),u.Bc(9,"\u041f\u043e\u043d\u044f\u0442\u043d\u043e!"),u.Tb(),u.Tb()),2&t&&(u.Bb(1),u.Cc(n.title),u.Bb(3),u.Cc(n.content),u.Bb(1),u.mc("ngIf",n.hiddenTerm>=0&&"addition"===n.contentType),u.Bb(1),u.mc("ngIf",n.hiddenTerm>=0&&"multiplication"===n.contentType))},directives:[T.g,T.e,i.l,T.c,O.a,T.d,F,$],styles:[""]}),J),Q=e("NFeN"),G=e("jhN1");function X(t,n){if(1&t){var e=u.Vb();u.Ub(0,"button",1),u.cc("click",(function(){u.tc(e);var t=n.index;return u.gc().selectionChange.emit(t)})),u.Bc(1),u.Tb()}if(2&t){var i=n.$implicit;u.Bb(1),u.Cc(i)}}var W,Z=((W=function(){function t(){_classCallCheck(this,t),this.buttonNames=[],this.selectionChange=new u.n}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||W)},W.\u0275cmp=u.Ib({type:W,selectors:[["app-numpad"]],inputs:{buttonNames:"buttonNames"},outputs:{selectionChange:"selectionChange"},decls:1,vars:1,consts:[["type","button","mat-button","",3,"click",4,"ngFor","ngForOf"],["type","button","mat-button","",3,"click"]],template:function(t,n){1&t&&u.zc(0,X,2,1,"button",0),2&t&&u.mc("ngForOf",n.buttonNames)},directives:[i.k,O.a],styles:[".mat-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{color:inherit}"]}),W),tt=["itemInputs"];function nt(t,n){1&t&&(u.Ub(0,"span",14),u.Bc(1,"\u2714"),u.Tb())}function et(t,n){if(1&t){var e=u.Vb();u.Ub(0,"label",15),u.cc("click",(function(){u.tc(e);var t=u.gc().index;return u.gc().noteRequest.emit(t)})),u.Bc(1,"\u2217"),u.Tb()}}function it(t,n){if(1&t&&(u.Sb(0),u.Ub(1,"span",17),u.Bc(2),u.Tb(),u.Ub(3,"span",19),u.Bc(4,"="),u.Tb(),u.Rb()),2&t){var e=u.gc(2).$implicit;u.Bb(1),u.mc("title",e.expression.second.name),u.Bb(1),u.Cc(e.expression.second.value)}}function at(t,n){if(1&t&&(u.Ub(0,"label",16),u.Ub(1,"span",17),u.Bc(2),u.Tb(),u.Ub(3,"span",17),u.Bc(4),u.Tb(),u.zc(5,it,5,2,"ng-container",18),u.Tb()),2&t){var e=u.gc().$implicit;u.mc("for",e.inputName),u.Bb(1),u.mc("title",e.expression.first.name),u.Bb(1),u.Cc(e.expression.first.value),u.Bb(1),u.mc("title",e.expression.operator.name),u.Bb(1),u.Cc(e.expression.operator.notation),u.Bb(1),u.mc("ngIf","second"!==e.inputIndex)}}function ot(t,n){if(1&t&&(u.Sb(0),u.Ub(1,"span",17),u.Bc(2),u.Tb(),u.Ub(3,"span",17),u.Bc(4),u.Tb(),u.Rb()),2&t){var e=u.gc(2).$implicit;u.Bb(1),u.mc("title",e.expression.operator.name),u.Bb(1),u.Cc(e.expression.operator.notation),u.Bb(1),u.mc("title",e.expression.second.name),u.Bb(1),u.Cc(e.expression.second.value)}}function rt(t,n){if(1&t&&(u.Ub(0,"label",16),u.zc(1,ot,5,4,"ng-container",18),u.Ub(2,"span",19),u.Bc(3,"="),u.Tb(),u.Ub(4,"span",17),u.Bc(5),u.Tb(),u.Tb()),2&t){var e=u.gc().$implicit;u.mc("for",e.inputName),u.Bb(1),u.mc("ngIf","second"!==e.inputIndex),u.Bb(3),u.mc("title",e.expression.result.name),u.Bb(1),u.Cc(e.expression.result.value)}}function st(t,n){if(1&t){var e=u.Vb();u.Ub(0,"div",4),u.Ub(1,"div",5),u.Ub(2,"span",6),u.zc(3,nt,2,0,"span",7),u.zc(4,et,2,0,"label",8),u.Tb(),u.Tb(),u.Ub(5,"div",9),u.Ub(6,"div",10),u.zc(7,at,6,6,"label",11),u.Ub(8,"input",12,13),u.cc("ngModelChange",(function(t){u.tc(e);var i=n.$implicit,a=n.index,o=u.gc();return i.inputValue=t,o.itemChange.emit(a)}))("keyup.Enter",(function(){u.tc(e);var t=n.index;return u.gc().onInputEnter(t)}))("focus",(function(t){u.tc(e);var i=n.index,a=u.gc(),o=u.rc(1);return a.onInputFocus(t,o,i)})),u.Tb(),u.zc(10,rt,6,4,"label",11),u.Tb(),u.Tb(),u.Tb()}if(2&t){var i=n.$implicit,a=u.gc();u.Bb(3),u.mc("ngIf",i.isChecked&&i.isValid),u.Bb(1),u.mc("ngIf",i.hasNote),u.Bb(3),u.mc("ngIf","first"!==i.inputIndex),u.Bb(1),u.Fb("invalid",i.isChecked&&!i.isValid),u.mc("id",i.inputName)("name",i.inputName)("readonly",!a.active||i.isReadonly)("ngModel",i.inputValue),u.Cb("maxlength",i.inputLength),u.Bb(2),u.mc("ngIf","result"!==i.inputIndex)}}function ct(t,n){if(1&t){var e=u.Vb();u.Ub(0,"div",23),u.Ub(1,"app-numpad",24),u.cc("selectionChange",(function(t){return u.tc(e),u.gc(2).onInputNext(t)})),u.Tb(),u.Tb()}if(2&t){var i=u.gc(2);u.Bb(1),u.mc("buttonNames",i.buttons)}}function ut(t,n){if(1&t){var e=u.Vb();u.Ub(0,"div",20),u.Ub(1,"div",21),u.cc("click",(function(){u.tc(e);var t=u.gc();return t.showKeyboard=!t.showKeyboard})),u.Ub(2,"mat-icon"),u.Bc(3),u.Tb(),u.Tb(),u.zc(4,ct,2,1,"div",22),u.Tb()}if(2&t){var i=u.gc();u.yc("transform",i.keyboardTransform),u.Bb(3),u.Cc(i.toggleKeyboardIcon),u.Bb(1),u.mc("ngIf",i.showKeyboard)}}var lt,mt,pt=((mt=function(){function t(){_classCallCheck(this,t),this.active=!0,this.itemChange=new u.n,this.noteRequest=new u.n,this.buttons=["1","2","3","4","5","6","7","8","9","0","\u2190","OK"],this.showKeyboard=!1,this.keyboardTransform="",this.inputIndex=-1}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this.nextItemRequestFocus(0)}},{key:"ngOnChanges",value:function(t){var n=this,e=t.items;e&&(this.keyboardTransform="",this.inputIndex=-1,e.firstChange||setTimeout((function(){n.nextItemRequestFocus(0)}),100))}},{key:"ngOnInit",value:function(){}},{key:"onInputEnter",value:function(t){if(t>=0&&t<this.items.length){var n=this.items[t].inputValue;if(n&&!isNaN(+n))return this.nextItemRequestFocus(t+1)}return!0}},{key:"onInputFocus",value:function(t,n,e){this.inputIndex=e;var i=t.target;if(n&&i){var a=n.getBoundingClientRect(),o=i.getBoundingClientRect();this.keyboardTransform="translate(".concat(o.left-a.left,"px, ").concat(o.bottom-a.top,"px)")}}},{key:"onInputNext",value:function(t){var n=this.buttons[t];if(isNaN(+n))"\u2190"===n?this.onInputBack():"OK"===n&&(this.showKeyboard=this.onInputEnter(this.inputIndex));else if(this.inputIndex>=0&&this.inputIndex<this.items.length){var e=this.items[this.inputIndex];(!e.isReadonly||e.inputValue.length<e.inputLength)&&(e.inputValue=e.inputValue+n,this.itemChange.emit(this.inputIndex))}}},{key:"onInputBack",value:function(){if(this.inputIndex>=0&&this.inputIndex<this.items.length){var t=this.items[this.inputIndex],n=t.inputValue.length;!t.isReadonly&&n>0&&(t.inputValue=t.inputValue.substring(0,n-1),this.itemChange.emit(this.inputIndex))}}},{key:"nextItemRequestFocus",value:function(t){for(var n=this.inputList.toArray(),e=n.length,i=function(i){var a=n[(t+i)%e].nativeElement;if(a&&!a.value)return{v:(setTimeout((function(){a.focus()})),!0)}},a=0;a<e;a++){var o=i(a);if("object"==typeof o)return o.v}return!1}},{key:"toggleKeyboardIcon",get:function(){return this.showKeyboard?"keyboard_hide":"keyboard"}}]),t}()).\u0275fac=function(t){return new(t||mt)},mt.\u0275cmp=u.Ib({type:mt,selectors:[["app-math-input-group"]],viewQuery:function(t,n){var e;1&t&&u.Fc(tt,!0),2&t&&u.qc(e=u.dc())&&(n.inputList=e)},inputs:{active:"active",items:"items"},outputs:{itemChange:"itemChange",noteRequest:"noteRequest"},features:[u.zb],decls:4,vars:2,consts:[[1,"math-input-group"],["main",""],["class","math-input-group-item",4,"ngFor","ngForOf"],["class","math-input-group-keyboard",3,"transform",4,"ngIf"],[1,"math-input-group-item"],[1,"math-input-group-col-20"],[1,"math-input-group-item-pref"],["class","math-input-group-mark",4,"ngIf"],["class","math-input-group-note",3,"click",4,"ngIf"],[1,"math-input-group-col-80"],[1,"math-input-group-item-main"],[3,"for",4,"ngIf"],["type","text","placeholder","?","autocomplete","off",3,"id","name","readonly","ngModel","ngModelChange","keyup.Enter","focus"],["itemInputs",""],[1,"math-input-group-mark"],[1,"math-input-group-note",3,"click"],[3,"for"],[3,"title"],[4,"ngIf"],["title","equals"],[1,"math-input-group-keyboard"],[1,"math-input-group-keyboard-icon",3,"click"],["class","math-input-group-keyboard-dial",4,"ngIf"],[1,"math-input-group-keyboard-dial"],[3,"buttonNames","selectionChange"]],template:function(t,n){1&t&&(u.Ub(0,"div",0,1),u.zc(2,st,11,11,"div",2),u.zc(3,ut,5,4,"div",3),u.Tb()),2&t&&(u.Bb(2),u.mc("ngForOf",n.items),u.Bb(1),u.mc("ngIf",n.active&&n.keyboardTransform))},directives:[i.k,i.l,o.b,o.e,o.i,o.l,Q.a,Z],styles:['.math-input-group[_ngcontent-%COMP%]{position:relative;margin-right:96px}.math-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font:inherit;letter-spacing:inherit;border:none;background-color:transparent;margin-left:-6px;margin-right:6px;padding:0 0 0 6px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="1"][_ngcontent-%COMP%]{width:18px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="2"][_ngcontent-%COMP%]{width:42px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="3"][_ngcontent-%COMP%]{width:66px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="4"][_ngcontent-%COMP%]{width:90px}.math-input-group[_ngcontent-%COMP%]   input[maxlength="5"][_ngcontent-%COMP%]{width:114px}.math-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{letter-spacing:normal;outline:thin dashed #00f;background-color:#fed}.math-input-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{-webkit-text-decoration:solid red line-through;text-decoration:solid red line-through}.math-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.math-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{text-shadow:1px 1px 2px #cba}.math-input-group[_ngcontent-%COMP%]   .math-input-group-item[_ngcontent-%COMP%]{display:inline-block;width:50%;margin-bottom:24px}.math-input-group[_ngcontent-%COMP%]   .math-input-group-col-20[_ngcontent-%COMP%]{display:inline-block;width:20%}.math-input-group[_ngcontent-%COMP%]   .math-input-group-col-80[_ngcontent-%COMP%]{display:inline-block;width:80%}.math-input-group[_ngcontent-%COMP%]   .math-input-group-mark[_ngcontent-%COMP%]{color:red}.math-input-group[_ngcontent-%COMP%]   .math-input-group-note[_ngcontent-%COMP%]{color:#008}.math-input-group[_ngcontent-%COMP%]   .math-input-group-item-pref[_ngcontent-%COMP%]{margin-left:24px}.math-input-group[_ngcontent-%COMP%]   .math-input-group-item-main[_ngcontent-%COMP%], .math-input-group[_ngcontent-%COMP%]   .math-input-group-item-pref[_ngcontent-%COMP%]{letter-spacing:12px;padding-left:6px}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:transform .6s ease-in-out}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard-icon[_ngcontent-%COMP%]{cursor:pointer;height:24px;color:#bbf;transition:color .6s ease-in-out}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard-icon[_ngcontent-%COMP%]:hover{color:#008}.math-input-group[_ngcontent-%COMP%]   .math-input-group-keyboard-dial[_ngcontent-%COMP%]{position:relative;border:1px solid #bbf;border-radius:4px;padding:2px;top:-24px;left:24px;width:192px;color:#008;background-color:#ddf;box-shadow:2px 2px 4px #888}']}),mt),dt=((lt=function(){function t(n){_classCallCheck(this,t),this._ref=n}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){var n,e=null===(n=t._ref)||void 0===n?void 0:n.nativeElement;e&&e.focus()}))}}]),t}()).\u0275fac=function(t){return new(t||lt)(u.Ob(u.l))},lt.\u0275dir=u.Jb({type:lt,selectors:[["","appFocus",""]]}),lt),ht=e("STbY"),ft=["menuButton"];function gt(t,n){if(1&t&&(u.Ub(0,"button",14),u.Ub(1,"mat-icon"),u.Bc(2,"face"),u.Tb(),u.Tb()),2&t){var e=u.gc();u.mc("disabled",!("active"===e.primeStatus&&e.canPrimeSubmit))}}function bt(t,n){if(1&t){var e=u.Vb();u.Ub(0,"mat-icon",15),u.cc("click",(function(){u.tc(e);var t=u.gc();return t.victoryAnimation=!t.victoryAnimation})),u.Tb()}if(2&t){var i=u.gc();u.Fb("animate",i.victoryAnimation),u.mc("ngClass",i.victoryClass)}}function vt(t,n){if(1&t){var e=u.Vb();u.Sb(0),u.Ub(1,"button",16,17),u.Ub(3,"mat-icon"),u.Bc(4,"face"),u.Tb(),u.Tb(),u.Ub(5,"mat-menu",18,19),u.Ub(7,"button",20),u.cc("click",(function(){return u.tc(e),u.gc().onRefresh()})),u.Ub(8,"mat-icon",21),u.Bc(9,"refresh"),u.Tb(),u.Ub(10,"span"),u.Bc(11),u.Tb(),u.Tb(),u.Tb(),u.Rb()}if(2&t){var i=u.rc(6),a=u.gc();u.Bb(1),u.mc("matMenuTriggerFor",i),u.Bb(10),u.Cc(a.refreshButtonLabel)}}function yt(t,n){if(1&t&&(u.Ub(0,"span",22),u.Bc(1),u.Tb()),2&t){var e=u.gc();u.Bb(1),u.Cc(e.scoreMessage)}}function xt(t,n){if(1&t){var e=u.Vb();u.Ub(0,"form",5,23),u.cc("ngSubmit",(function(){u.tc(e);var t=u.rc(1);return u.gc().onExtraSubmit(t)})),u.Ub(2,"div",7),u.Bc(3),u.Tb(),u.Ub(4,"app-math-input-group",24),u.cc("itemChange",(function(t){return u.tc(e),u.gc().onExtraItemChange(t)}))("noteRequest",(function(t){return u.tc(e),u.gc().requestNoteFor(t)})),u.Tb(),u.Ub(5,"div",9),u.Ub(6,"button",25),u.Ub(7,"mat-icon"),u.Bc(8,"child_care"),u.Tb(),u.Tb(),u.Ub(9,"label"),u.Bc(10),u.Tb(),u.Tb(),u.Tb()}if(2&t){var i=u.gc();u.Bb(3),u.Cc(i.extraMessage),u.Bb(1),u.mc("items",i.extraItems)("active","active"===i.extraStatus),u.Bb(2),u.mc("disabled","active"!==i.extraStatus),u.Bb(3),u.Cb("for","done"===i.extraStatus?"onPrimeSubmitButton":"onExtraSubmitButton"),u.Bb(1),u.Cc(i.extraSubmitLabel)}}function Ct(t){return t.replace(/[^0-9]/g,"")}var Pt,kt=["first","second","result"],Tt="[School.Math.Grade-3.Mental-math]",Ot=((Pt=function(){function t(n,e,i,a){var o,r;_classCallCheck(this,t),this._dialog=a,this.primeMessage="\u041d\u0430\u0439\u0434\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f.",this.extraMessage="\u0420\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438:",this.canPrimeSubmit=!1,this.scoreMessage="",this.score=0,this.autoplay=new m.a,this.todayVictories=0,this.victoryAnimation=!1,this.expressionTypes=["a","s","m","d"],e.addSvgIcon("icon_sun",i.bypassSecurityTrustResourceUrl("assets/school/sun.svg"));var s=null===(o=n)||void 0===o?void 0:o.snapshot.queryParams.mode;if(s){var c=s.match(/([asmdASMD][0-9]*)/g);(null===(r=c)||void 0===r?void 0:r.length)>0&&(this.expressionTypes=c)}}return _createClass(t,[{key:"init",value:function(){this.autoplay.stop(),this.canPrimeSubmit=!1,this.score=0,this.scoreMessage="",this.primeStatus="active",this.primeItems=[],this.extraStatus=void 0,this.extraItems=void 0;for(var t=0;t<100&&this.primeItems.length<10;t++){var n=Object(l.c)(this.expressionTypes),e=+n.substring(1);switch(e=e?Math.max(Math.min(e,100),10):100,n[0]){case"a":this._addPrimeItem(g(e));break;case"s":this._addPrimeItem(v(e));break;case"m":this._addPrimeItem(C(10,e));break;case"d":this._addPrimeItem(y(10,e));break;case"A":this._addPrimeItem(g(e),"result");break;case"S":this._addPrimeItem(v(e),"result");break;case"M":this._addPrimeItem(C(10,e),"result");break;case"D":this._addPrimeItem(y(10,e),"result")}}}},{key:"_addPrimeItem",value:function(t,n){var e=P(t);if(!this.primeItems.find((function(t){return P(t.expression)===e}))){var i="mathExpression"+this.primeItems.length,a=n||Object(l.c)(kt),o=t[a].value.toString().length;this.primeItems.push({inputName:i,inputValue:"",inputIndex:a,inputLength:o,expression:t})}}},{key:"ngOnInit",value:function(){this.init();var t=localStorage.getItem(Tt);if(t){var n=JSON.parse(t);if(n){var e=n[Object(d.a)("YYYY-MM-DD")];"number"==typeof e&&e>this.todayVictories&&(this.todayVictories=e,this.victoryClass="step"+Math.min(5,this.todayVictories))}}}},{key:"ngOnDestroy",value:function(){this.autoplay.stop()}},{key:"onRefresh",value:function(){this.init()}},{key:"getPrimeSubmitStatus",value:function(){if("active"!==this.primeStatus)return!1;var t,n=_createForOfIteratorHelper(this.primeItems);try{for(n.s();!(t=n.n()).done;){var e=t.value;if(!e.inputValue||isNaN(+e.inputValue))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"getScore",value:function(){var t,n=0,e=_createForOfIteratorHelper(this.primeItems);try{for(e.s();!(t=e.n()).done;)t.value.isValid&&n++}catch(i){e.e(i)}finally{e.f()}return n/this.primeItems.length}},{key:"onPrimeChecked",value:function(){this.primeStatus="done",this.victoryAnimation=!1,this.scoreMessage="",this.score=this.getScore()}},{key:"onPrimeEnded",value:function(){var t=this.primeItems.filter((function(t){return!t.isValid})).map((function(t){return Object.assign(Object.assign({},t),{isChecked:!1,inputValue:"",inputName:t.inputName+"Extra",hasNote:!0})}));if(t.length>0)this.extraItems=t,this.extraStatus="active";else{this.todayVictories++,this.victoryClass="step"+Math.min(5,this.todayVictories),this.victoryAnimation=!0;try{var n=Object(d.a)("YYYY-MM-DD");localStorage.setItem(Tt,JSON.stringify(_defineProperty({},n,this.todayVictories)))}catch(e){console.warn("localStorage error:",e)}}}},{key:"onExtraSubmit",value:function(t){var n=this;this.extraStatus="validation";var e=this.extraItems,i=0;this.autoplay.timeout=200,this.autoplay.play((function(){for(;i<e.length;){var t=e[i++];if(!t.isChecked&&t.inputValue){t.expression[t.inputIndex].value===+t.inputValue?(t.isValid=t.isChecked=t.isReadonly=!0,t.hasNote=!1):t.inputValue="";break}}return!(i>=e.length&&(e.find((function(t){return!t.isChecked}))?n.extraStatus="active":(n.extraStatus="done",n.requestMenuButtonFocus()),1))}))}},{key:"onPrimeSubmit",value:function(t){var n=this;if(this.getPrimeSubmitStatus()){this.primeStatus="validation";var e=this.primeItems,i=0;this.autoplay.timeout=250,this.autoplay.play((function(){if(i<e.length){var t=e[i++];t.isChecked=!0,t.isValid=t.expression[t.inputIndex].value===+t.inputValue}if(i>=e.length){n.onPrimeChecked();var a=1===(o=n.score)?"5+ "+Object(l.c)(["","\u0417\u0434\u043e\u0440\u043e\u0432\u043e!","\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u043e!","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u041c\u043e\u043b\u043e\u0434\u0435\u0446!","\u0423\u043c\u043d\u0438\u0446\u0430!","\u0423\u043c\u043d\u0438\u0447\u043a\u0430!!!","\u0425\u0432\u0430\u043b\u044e!","\u0411\u0440\u0430\u0432\u043e!","\u0422\u0430\u043b\u0430\u043d\u0442!","\u041f\u0440\u0435\u0432\u043e\u0441\u0445\u043e\u0434\u043d\u043e!","\u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c!","\u0417\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e!","\u0427\u0443\u0434\u0435\u0441\u043d\u043e!"]):o>=.98?"5+":o>.9?"5":o>.8?"5-":o>.7?"4":o>.6?"4-":o>.5?"3":o>.4?"3-":o>.3?"2":o>=.2?"2-":"1 "+Object(l.c)(["","","","","\u041f\u043b\u043e\u0445\u043e.","\u041e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e.","\u0423\u0436\u0430\u0441\u043d\u043e.","\u0423\u0436\u0430\u0441!","\u0411\u0435\u0437\u043e\u0431\u0440\u0430\u0437\u043d\u043e!","\u041e\u0439 \u043a\u0430\u043a \u043f\u043b\u043e\u0445\u043e!","\u041d\u0435\u043a\u0440\u0430\u0441\u0438\u0432\u043e.","\u042f \u0432 \u0448\u043e\u043a\u0435!","\u0416\u0443\u0442\u044c!","\u0412\u0437\u0433\u043b\u044f\u043d\u0438 \u043a\u0430\u043a \u043d\u0435\u0445\u043e\u0440\u043e\u0448\u043e."]);return n.autoplay.timeout=100,n.autoplay.play((function(){var t=Object(p.a)(n.scoreMessage,a);return n.scoreMessage=t.length<a.length?a.substring(0,t.length+1):a,n.scoreMessage!==a||(n.onPrimeEnded(),!1)})),!1}var o;return!0}))}else console.warn("Cannot submit:",t.value)}},{key:"onPrimeItemChange",value:function(t){var n=this,e=this.primeItems[t];if(e){var i=Ct(e.inputValue).substring(0,e.inputLength);i!==e.inputValue?(this.canPrimeSubmit=!1,setTimeout((function(){e.inputValue=i,n.canPrimeSubmit=n.getPrimeSubmitStatus()}),100)):this.canPrimeSubmit=this.getPrimeSubmitStatus()}}},{key:"onExtraItemChange",value:function(t){var n=this.extraItems[t];if(n){var e=Ct(n.inputValue).substring(0,n.inputLength);e!==n.inputValue&&setTimeout((function(){n.inputValue=e}),100)}}},{key:"requestMenuButtonFocus",value:function(){var t=this;setTimeout((function(){var n,e=null===(n=t.menuButtonRef)||void 0===n?void 0:n.nativeElement;e&&e.focus()}))}},{key:"requestNoteFor",value:function(t){var n=this.extraItems[t];n&&this._dialog.open(H,{data:Object.assign({},n)})}},{key:"primeSubmitLabel",get:function(){switch(this.primeStatus){case"active":return this.canPrimeSubmit?"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043c?":"?";case"validation":return"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c...";case"done":return"\u041e\u0446\u0435\u043d\u043a\u0430: "}}},{key:"extraSubmitLabel",get:function(){switch(this.extraStatus){case"active":return"?";case"validation":return"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u044e...";case"done":return"!"}}},{key:"refreshButtonLabel",get:function(){return this.score>=1?"\u0415\u0449\u0451 \u0440\u0430\u0437?":"\u041f\u0435\u0440\u0435\u0438\u0433\u0440\u0430\u0442\u044c!"}}]),t}()).\u0275fac=function(t){return new(t||Pt)(u.Ob(r.a),u.Ob(Q.c),u.Ob(G.b),u.Ob(T.b))},Pt.\u0275cmp=u.Ib({type:Pt,selectors:[["app-mental-math"]],viewQuery:function(t,n){var e;1&t&&u.Fc(ft,!0,u.l),2&t&&u.qc(e=u.dc())&&(n.menuButtonRef=e.first)},decls:18,vars:9,consts:[["formPrimeSubmitButton",""],["appContentSvg",""],["x1","30","x2","30","y1","0","y2","41","stroke-width","0.1","stroke","#f00","fill","none"],[2,"position","absolute","right","0","top","0"],["class","mental-math-trophy","svgIcon","icon_sun",3,"ngClass","animate","click",4,"ngIf"],[3,"ngSubmit"],["formPrime","ngForm"],[1,"mental-math-topic"],[3,"items","active","itemChange"],[1,"mental-math-submit"],[4,"ngIf","ngIfElse"],["for","onPrimeSubmitButton"],["class","mental-math-teacher",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["id","onPrimeSubmitButton","mat-icon-button","","color","primary","aria-label","submission button","type","submit",3,"disabled"],["svgIcon","icon_sun",1,"mental-math-trophy",3,"ngClass","click"],["id","onPrimeSubmitButton","mat-icon-button","","color","warn","aria-label","refresh button","type","button","appFocus","",3,"matMenuTriggerFor"],["menuButton",""],["yPosition","above"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["color","primary"],[1,"mental-math-teacher"],["formExtra","ngForm"],[3,"items","active","itemChange","noteRequest"],["id","onExtraSubmitButton","mat-icon-button","","color","primary","aria-label","submission button","type","submit",3,"disabled"]],template:function(t,n){if(1&t){var e=u.Vb();u.zc(0,gt,3,1,"ng-template",null,0,u.Ac),u.Ub(2,"app-squared-paper"),u.fc(),u.Ub(3,"svg",1),u.Pb(4,"line",2),u.Tb(),u.ec(),u.Ub(5,"div",3),u.zc(6,bt,1,3,"mat-icon",4),u.Tb(),u.Ub(7,"form",5,6),u.cc("ngSubmit",(function(){u.tc(e);var t=u.rc(8);return n.onPrimeSubmit(t)})),u.Ub(9,"div",7),u.Bc(10),u.Tb(),u.Ub(11,"app-math-input-group",8),u.cc("itemChange",(function(t){return n.onPrimeItemChange(t)})),u.Tb(),u.Ub(12,"div",9),u.zc(13,vt,12,2,"ng-container",10),u.Ub(14,"label",11),u.Bc(15),u.Tb(),u.zc(16,yt,2,1,"span",12),u.Tb(),u.Tb(),u.zc(17,xt,11,6,"form",13),u.Tb()}if(2&t){var i=u.rc(1);u.Bb(6),u.mc("ngIf",n.todayVictories>0),u.Bb(4),u.Cc(n.primeMessage),u.Bb(1),u.mc("items",n.primeItems)("active","active"===n.primeStatus),u.Bb(2),u.mc("ngIf","done"===n.primeStatus)("ngIfElse",i),u.Bb(2),u.Cc(n.primeSubmitLabel),u.Bb(1),u.mc("ngIf","done"===n.primeStatus),u.Bb(1),u.mc("ngIf",n.extraItems)}},directives:[w,i.l,o.m,o.j,o.k,pt,O.a,Q.a,i.j,dt,ht.c,ht.d,ht.a],styles:[".mental-math-submit[_ngcontent-%COMP%]{height:72px}.mental-math-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:4px}.mental-math-submit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;vertical-align:top;margin-left:6px}.mental-math-submit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{text-shadow:1px 1px 2px #cba}.mental-math-topic[_ngcontent-%COMP%]{margin:24px 96px 24px 0;padding-left:6px;text-indent:48px}.mental-math-trophy[_ngcontent-%COMP%]{display:block;width:96px;height:96px}.mental-math-teacher[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-weight:400;font-size:32px;color:red;letter-spacing:normal;vertical-align:top}"]}),Pt);function Mt(t,n){1&t&&(u.fc(),u.Pb(0,"path")),2&t&&u.Cb("d",n.$implicit.path)}function _t(t,n){if(1&t){var e=u.Vb();u.Ub(0,"span",8),u.cc("click",(function(){u.tc(e);var t=n.index,i=u.gc().index;return u.gc().select(t,i)})),u.Bc(1),u.Tb()}if(2&t){var i=n.$implicit;u.Bb(1),u.Cc(i)}}function wt(t,n){if(1&t&&(u.Ub(0,"div"),u.zc(1,_t,2,1,"span",7),u.Tb()),2&t){var e=n.$implicit;u.Bb(1),u.mc("ngForOf",e)}}var It,Bt=function(){function t(){_classCallCheck(this,t),this.reset()}return _createClass(t,[{key:"next",value:function(){this.items.push({letters:"",path:"M0 0z"})}},{key:"clearActive",value:function(){var t=this.active;t.letters="",t.path="M0 0z",t.segment=null}},{key:"reset",value:function(){this.items=[],this.next()}},{key:"select",value:function(t){var n=this.items[t];if(n){var e=this.active;e.letters=n.letters,e.path=n.path,e.segment=n.segment}else this.clearActive()}},{key:"active",get:function(){return this.items[this.items.length-1]}}]),t}(),Ut=((It=function(){function t(){_classCallCheck(this,t),this.selections=new Bt,this.selectionChange=new u.n,this.showFrame=!0,this._init([])}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"select",value:function(t,n){var e=this.selections.active;if(e.segment&&e.segment.x1===t&&e.segment.x2===t&&e.segment.y1===n&&e.segment.y2===n)this.selections.clearActive();else{e.segment=function(t,n,e){if(e&&function(t,n,e){return(n-t.x1)*(t.y2-t.y1)==(e-t.y1)*(t.x2-t.x1)}(e,t,n)){var i=e.x1,a=e.x2,o=e.y1,r=e.y2;if(t===i&&i===a)return n<o?{x1:i,x2:a,y1:n,y2:r}:{x1:i,x2:a,y1:o,y2:n};if(n===o&&o===r)return t<i?{y1:o,y2:r,x1:t,x2:a}:{y1:o,y2:r,x1:i,x2:t};if(Math.abs(t-i)===Math.abs(n-o))return t<i?{x1:t,x2:a,y1:n,y2:r}:{x1:i,x2:t,y1:o,y2:n}}return{x1:t,y1:n,x2:t,y2:n}}(t,n,e.segment),e.path=function(t){var n=t.x1,e=t.y1,i=t.x2-n,a=t.y2-e,o=0,r=0,s="";return i>0?0===a?(o=n+.5+.354,r=e+.146,s="a.2 .2 0 0 0 .3 0a.5 .5 0 0 1 .7 0".repeat(i-1)+"a.2 .2 0 0 0 .3 0a.5 .5 0 1 1 0 .7"+"a.2 .2 0 0 0-.3 0a.5 .5 0 0 1-.7 0".repeat(i-1)+"a.2 .2 0 0 0-.3 0a.5 .5 0 1 1 0-.7"):i===a?(o=n+1,r=e+.5,s="a.5 .5 0 0 0 .5 .5a.5 .5 0 0 1 .5 .5".repeat(i-1)+"a.5 .5 0 0 0 .5 .5a.5 .5 0 1 1-.5 .5"+"a.5 .5 0 0 0-.5-.5a.5 .5 0 0 1-.5-.5".repeat(i-1)+"a.5 .5 0 0 0-.5-.5a.5 .5 0 1 1 .5-.5"):i===-a&&(o=n+.5,r=e,s="a.5 .5 0 0 0 .5-.5a.5 .5 0 0 1 .5-.5".repeat(i-1)+"a.5 .5 0 0 0 .5-.5a.5 .5 0 1 1 .5 .5"+"a.5 .5 0 0 0-.5 .5a.5 .5 0 0 1-.5 .5".repeat(i-1)+"a.5 .5 0 0 0-.5 .5a.5 .5 0 1 1-.5-.5"):0===i&&(a>0?(o=n+1-.146,r=e+.5+.354,s="a.2 .2 0 0 0 0 .3a.5 .5 0 0 1 0 .7".repeat(a-1)+"a.2 .2 0 0 0 0 .3a.5 .5 0 1 1-.7 0"+"a.2 .2 0 0 0 0-.3a.5 .5 0 0 1 0-.7".repeat(a-1)+"a.2 .2 0 0 0 0-.3a.5 .5 0 1 1 .7 0"):0===a&&(o=n+.5,r=e,s="a.5 .5 0 0 1 0 1a.5 .5 0 0 1 0 -1")),"M".concat(o," ").concat(r).concat(s,"z")}(e.segment);var i=e.segment,a=i.x1,o=i.y1,r=i.x2,s=i.y2;e.letters=this.letters[o][a];for(var c=r-a,u=s-o,l=Math.max(Math.abs(c),Math.abs(u)),m=1;m<=l;m++)e.letters+=this.letters[o+u*m/l][a+c*m/l]}this.selectionChange.emit(this.selections)}},{key:"_init",value:function(t){this._letters=t;var n=t.length,e=n>0?t[0].length:0;this.colNum=2+e,this.rowNum=2+n,this.pathFrame=function(t,n){var e=t>2?"q.5 -1 1 0".repeat(t-2):"h-2",i=t>2?"q-.5 1-1 0".repeat(t-2):"h 2";return"M0 1q-2-3 1-1".concat(e,"q 3-2 1 1").concat(n>2?"q 1 .5 0 1".repeat(n-2):"v-2","q 2 3-1 1").concat(i,"q-3 2-1-1").concat(n>2?"q-1-.5 0-1".repeat(n-2):"v 2","z")}(e,n),this.selections.reset()}},{key:"letters",set:function(t){this._init(t||[])},get:function(){return this._letters}}]),t}()).\u0275fac=function(t){return new(t||It)},It.\u0275cmp=u.Ib({type:It,selectors:[["app-letter-board"]],inputs:{letters:"letters",showFrame:"showFrame"},outputs:{selectionChange:"selectionChange"},decls:8,vars:7,consts:[[3,"colNum","rowNum"],["appContentSvg",""],["transform","translate(1 1)"],[1,"letter-board-frame"],[1,"letter-board-selections"],[4,"ngFor","ngForOf"],[1,"letter-board"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,n){1&t&&(u.Ub(0,"app-squared-paper",0),u.fc(),u.Ub(1,"svg",1),u.Ub(2,"g",2),u.Pb(3,"path",3),u.Ub(4,"g",4),u.zc(5,Mt,1,1,"path",5),u.Tb(),u.Tb(),u.Tb(),u.ec(),u.Ub(6,"div",6),u.zc(7,wt,2,1,"div",5),u.Tb(),u.Tb()),2&t&&(u.mc("colNum",n.colNum)("rowNum",n.rowNum),u.Bb(3),u.Fb("letter-board-frame-active",n.showFrame),u.Cb("d",n.pathFrame),u.Bb(2),u.mc("ngForOf",n.selections.items),u.Bb(2),u.mc("ngForOf",n.letters))},directives:[w,i.k],styles:[".letter-board[_ngcontent-%COMP%]{margin-left:24px;margin-top:24px}.letter-board[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;text-align:center;width:24px;min-width:24px;max-width:24px}.letter-board[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 4px rgba(0,0,0,.53);outline:2px outset rgba(0,0,136,.53);color:#008}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:rgba(68,68,68,.93);stroke-width:.1px}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+1){fill:rgba(255,0,0,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+2){fill:rgba(0,255,0,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+3){fill:rgba(0,0,255,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+4){fill:rgba(255,255,0,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+5){fill:rgba(0,255,255,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+6){fill:rgba(255,0,255,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+7){fill:rgba(136,0,0,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+8){fill:rgba(0,136,0,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n+9){fill:rgba(0,0,136,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(10n){fill:rgba(136,0,136,.27)}.letter-board-selections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:last-of-type{fill:hsla(0,0%,93.3%,.93);stroke:rgba(221,0,221,.53)}path.letter-board-frame[_ngcontent-%COMP%]{stroke:none;fill:transparent;transition:fill 2s linear}path.letter-board-frame.letter-board-frame-active[_ngcontent-%COMP%]{fill:rgba(0,136,0,.53)}"]}),It),St=e("FKr1");function Nt(t,n){1&t&&(u.Ub(0,"mat-icon",5),u.Bc(1,"emoji_events"),u.Tb())}function Vt(t,n){if(1&t){var e=u.Vb();u.Ub(0,"li",14),u.cc("click",(function(){u.tc(e);var t=n.$implicit,i=u.rc(2);return u.gc(2).playQuizAudio(i,t)})),u.Ub(1,"audio",null,15),u.Pb(3,"source",16),u.Pb(4,"source",17),u.Tb(),u.Ub(5,"mat-icon",3),u.Bc(6,"volume_up"),u.Tb(),u.Ub(7,"span"),u.Bc(8),u.Tb(),u.Tb()}if(2&t){var i=n.$implicit,a=u.gc(2);u.Bb(3),u.mc("src",a.getAudioSource(i.value,"ogg"),u.uc),u.Bb(1),u.mc("src",a.getAudioSource(i.value,"mp3"),u.uc),u.Bb(4),u.Cc(i.value)}}function zt(t,n){if(1&t&&(u.Ub(0,"li",14),u.cc("click",(function(){return n.$implicit.select()})),u.Ub(1,"span"),u.Bc(2),u.Tb(),u.Tb()),2&t){var e=n.$implicit,i=n.last;u.yc("transform",e.transform),u.Fb("word-search-game-answer-next",i)("word-search-game-answer-last",e.isLast),u.Bb(2),u.Cc(e.value)}}function qt(t,n){if(1&t){var e=u.Vb();u.Ub(0,"div",6),u.Ub(1,"div",7),u.Ub(2,"app-letter-board",8),u.cc("selectionChange",(function(t){return u.tc(e),u.gc().onSelectionChange(t)})),u.Tb(),u.Tb(),u.Ub(3,"div",9),u.Ub(4,"ul",10),u.zc(5,Vt,9,3,"li",11),u.Tb(),u.Ub(6,"ul",12),u.zc(7,zt,3,7,"li",13),u.Tb(),u.Tb(),u.Tb()}if(2&t){var i=u.gc();u.Bb(2),u.mc("showFrame",i.isDone)("letters",i.letters),u.Bb(3),u.mc("ngForOf",i.questions)("ngForTrackBy",i.trackByIndex),u.Bb(2),u.mc("ngForOf",i.answers)("ngForTrackBy",i.trackByIndex)}}var Ft="assets/school/english/word-search-game/";function At(t){return"translateY(".concat(-1-t,"50%)")}var Rt,jt=((Rt=function(){function t(n,e){_classCallCheck(this,t),this._route=n,this._http=e}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,n=this._route.snapshot.queryParams,e=n.game;e&&this._http.get("".concat(Ft).concat(e,"/data.json")).subscribe((function(i){t.mission=i.mission;var a=+n.index,o=a>0&&a<=i.puzzles.length?i.puzzles[a-1]:Object(l.c)(i.puzzles),r=i.blank||" ";t.letters=function(t,n,e){return function(t,n){if(n)return t.split(n);for(var e=Math.floor(Math.sqrt(t.length)),i=Array(e),a=0;a<e;a++)i[a]=t.substring(a*e,(a+1)*e);return i}(t,e).map((function(t){return t.split("").map(n)}))}(o,(function(t){return t===r?Object(p.c)(i.letters):t}),i.liner),t.questions=Object.keys(i.answers).map((function(t,n){var e=i.answers[t];return{index:n,value:"string"==typeof e?e:e[0],answerValue:t,answerIndex:-1}})),t.answers=[],t.name=e}))}},{key:"_nextAnswer",value:function(t){for(var n=this;this.answers.length<t.items.length;){var e=this.answers.length;this.answers.push({index:e,value:"",transform:At(e),select:function(){t.clearActive(),n.onSelectionChange(t)}})}}},{key:"onSelectionChange",value:function(t){var n=this;this._nextAnswer(t);var e=this.answers[this.answers.length-1];e.value=t.active.letters;var i=this.questions.find((function(t){return t.answerIndex<0&&t.answerValue===e.value}));i&&(i.answerIndex=e.index,e.isLast=i.index+1===this.questions.length,e.transform="translateY(".concat(i.index-e.index,"00%)"),e.select=function(){t.select(e.index),n.onSelectionChange(t)},t.next(),this._nextAnswer(t))}},{key:"getAudioSource",value:function(t,n){return"".concat(Ft).concat(this.name,"/audio/").concat(n,"/").concat(t,".").concat(n)}},{key:"trackByIndex",value:function(t){return t}},{key:"playQuizAudio",value:function(t,n){t&&(t.load(),t.play()),n.answerIndex>=0&&this.answers[n.answerIndex].select()}},{key:"isDone",get:function(){return this.questions&&this.answers&&this.answers.length>this.questions.length}}]),t}()).\u0275fac=function(t){return new(t||Rt)(u.Ob(r.a),u.Ob(a.a))},Rt.\u0275cmp=u.Ib({type:Rt,selectors:[["app-word-search-game"]],decls:8,vars:3,consts:[[1,"word-search-game-title"],["color","accent","style","vertical-align: text-top; transform: translate(-10px, -10px)",4,"ngIf"],[1,"word-search-game-info"],["color","primary"],["class","word-search-game",4,"ngIf"],["color","accent",2,"vertical-align","text-top","transform","translate(-10px, -10px)"],[1,"word-search-game"],[1,"word-search-game-board"],[3,"showFrame","letters","selectionChange"],[1,"word-search-game-plan"],[1,"word-search-game-questions"],["matRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"word-search-game-answers"],["matRipple","",3,"word-search-game-answer-next","word-search-game-answer-last","transform","click",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",3,"click"],["audio",""],["type","audio/ogg",3,"src"],["type","audio/mpeg",3,"src"]],template:function(t,n){1&t&&(u.Ub(0,"h2",0),u.Bc(1," Word Search Puzzle "),u.zc(2,Nt,2,0,"mat-icon",1),u.Tb(),u.Ub(3,"p",2),u.Ub(4,"mat-icon",3),u.Bc(5,"info"),u.Tb(),u.Bc(6),u.Tb(),u.zc(7,qt,8,6,"div",4)),2&t&&(u.Bb(2),u.mc("ngIf",n.isDone),u.Bb(4),u.Dc(" ",n.mission,"\n"),u.Bb(1),u.mc("ngIf",n.letters))},directives:[i.l,Q.a,Ut,i.k,St.m],styles:[".word-search-game-title[_ngcontent-%COMP%]{padding-left:72px;padding-top:12px}.word-search-game-info[_ngcontent-%COMP%]{padding-left:24px}.word-search-game[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;align-content:flex-start}.word-search-game-board[_ngcontent-%COMP%]{padding-left:24px;padding-bottom:24px}.word-search-game-plan[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:24px;margin-bottom:24px;padding-top:48px;border:1px solid #ddf;border-top:none;border-radius:0 0 6px 6px;background:linear-gradient(#eef,#eae)}.word-search-game-plan[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;font-size:20px}.word-search-game-plan[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;min-height:24px;max-height:24px;height:24px;display:flex;flex-direction:row;align-items:center;padding-left:12px;padding-right:0;background-color:rgba(153,153,255,.13)}.word-search-game-questions[_ngcontent-%COMP%]{margin:0;min-width:119px}.word-search-game-questions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#63b;background-color:rgba(153,153,255,.27)}.word-search-game-questions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-radius:0 0 0 6px}.word-search-game-answers[_ngcontent-%COMP%]{min-width:167px;margin:0 0 -24px}.word-search-game-answers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:all 2s cubic-bezier(.5,-.5,.25,1.5)}.word-search-game-answers[_ngcontent-%COMP%]   li.word-search-game-answer-last[_ngcontent-%COMP%]{border-radius:0 0 6px 0}.word-search-game-answers[_ngcontent-%COMP%]   li.word-search-game-answer-next[_ngcontent-%COMP%]{letter-spacing:4.8px;padding-left:0;padding-right:0;background-color:hsla(0,0%,100%,0)}"]}),Rt);e.d(n,"SchoolModule",(function(){return Dt}));var Et,Lt=[{path:"mental-math",component:Ot},{path:"word-puzzle",component:jt},{path:"",component:Ot}],Dt=((Et=function t(){_classCallCheck(this,t)}).\u0275mod=u.Mb({type:Et}),Et.\u0275inj=u.Lb({factory:function(t){return new(t||Et)},imports:[[r.c.forChild(Lt),i.c,o.d,a.b,s.a,c.a],r.c]}),Et)}}]);