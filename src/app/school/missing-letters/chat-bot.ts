/* eslint-disable @typescript-eslint/naming-convention */
import { randomItem } from 'src/app/common/array-utils';

const MESSAGES = {
  // Excellent
  A: [
      'Ð‘Ñ€Ð°Ð²Ð¾!',
      'Ð’Ð¾Ñ‚ Ð¸ Ð½Ð° Ð¼Ð¾ÐµÐ¹ ÑƒÐ»Ð¸Ñ†Ðµ Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¸Ðº!',
      'Ð’Ñ‹ÑÑˆÐ¸Ð¹ ÐºÐ»Ð°ÑÑ!.. Ð—Ð´Ð¾Ñ€Ð¾Ð²Ð¾!',
      'Ð’Ñ‹ÑˆÐµ Ð²ÑÑÐºÐ¸Ñ… Ð¿Ð¾Ñ…Ð²Ð°Ð»!',
      'Ð”Ð¸Ð²Ð¾ Ð´Ð¸Ð²Ð½Ð¾Ðµ!',
      'Ð—Ð°Ð¼ÐµÑ‡Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾!',
      'Ð—Ð´Ð¾Ñ€Ð¾Ð²Ð¾!',
      'ÐšÐ¾Ð¿ÐµÐµÑ‡ÐºÐ° Ð² ÐºÐ¾Ð¿ÐµÐµÑ‡ÐºÑƒ!',
      'ÐœÐ¾Ð»Ð¾Ð´ÐµÑ†!',
      'ÐÐµ Ð² Ð±Ñ€Ð¾Ð²ÑŒ, Ð° Ð² Ð³Ð»Ð°Ð·!',
      'ÐÐµ Ð¶Ð¸Ð·Ð½ÑŒ, Ð° Ð¼Ð°Ð»Ð¸Ð½Ð°!',
      'ÐÐµÐ¶Ð´Ð°Ð½Ð½Ð¾-Ð½ÐµÐ³Ð°Ð´Ð°Ð½Ð½Ð¾...',
      'ÐÐµÑ‚ ÑÐ»Ð¾Ð²!',
      'ÐÐ¸ Ð² ÑÐºÐ°Ð·ÐºÐµ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ð½Ð¸ Ð¿ÐµÑ€Ð¾Ð¼ Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ...',
      'ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾!',
      'ÐžÑ‡ÐµÐ½ÑŒ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾!',
      'ÐŸÑ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´Ð½Ð¾!',
      'ÐŸÑ€ÐµÐºÑ€Ð°ÑÐ½Ð¾!',
      'Ð¡Ð²ÐµÑ€ÑˆÐ¸Ð»Ð¾ÑÑŒ! ÐÐµ Ð²ÐµÑ€ÑŽ Ð³Ð»Ð°Ð·Ð°Ð¼ ÑÐ²Ð¾Ð¸Ð¼!',
      'Ð¡Ð´ÐµÐ»Ð°Ð½Ð¾ Ð½Ð° ÑÐ¾Ð²ÐµÑÑ‚ÑŒ!',
      'Ð¡Ð¸Ð»ÑŒÐ½Ð¾!',
      'Ð¢Ð°Ðº Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ!',
      'Ð¢Ð°Ð»Ð°Ð½Ñ‚!',
      'Ð¢Ð°Ð»Ð°ÌÐ½Ñ‚Ð¸Ñ‰Ðµ!',
      'Ð¢Ð¾Ð»ÐºÐ¾Ð²Ð¾!',
      'Ð£Ð¼Ð½Ð¸Ñ†Ð°!',
      'Ð£Ð¼Ð½Ð¸Ñ‡ÐºÐ°!!!',
      'Ð¥Ð²Ð°Ð»ÑŽ!',
      'Ð§ÑƒÐ´ÐµÑÐ° Ð´Ð° Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾!',
      'Ð§ÑƒÐ´ÐµÑÐ½Ð¾!',
      'Ð§ÑƒÐ´Ð¾!',
      'Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‡ÑƒÐ´Ð¾!',
  ],
  // Good
  B: [
    'Ð”ÑƒÐ¼Ð°ÑŽ, Ð¼Ð¾Ð³Ð»Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð»ÑƒÑ‡ÑˆÐµ.',
    'ÐœÐ¾Ð³Ð»Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð»ÑƒÑ‡ÑˆÐµ.',
    'ÐÐµÐ¿Ð»Ð¾Ñ…Ð°Ñ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ°, Ð½Ð¾...',
    'ÐÐµÐ¿Ð»Ð¾Ñ…Ð¾.',
    'Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾, Ð½Ð¾...',
  ],

  // Fair (Almost bad)
  C: [
    'ÐÐ° Ñ‚Ñ€Ð¾ÐµÑ‡ÐºÑƒ.',
    'ÐÐµ Ð°Ñ…Ñ‚Ð¸!',
    'ÐÐµ Ð´Ð¾ ÑÐ¼ÐµÑ…Ñƒ.',
    'ÐÐµ ÑÐ¾Ð²ÑÐµÐ¼ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚ÐµÐ»Ð¾ÑÑŒ Ð±Ñ‹...',
    'ÐÐ¸Ð¶Ðµ ÑÑ€ÐµÐ´Ð½ÐµÐ³Ð¾.',
    'ÐžÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð¶ÐµÐ»Ð°Ñ‚ÑŒ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾.',
    'Ð¡ Ð³Ð¾Ñ€ÐµÐ¼ Ð¿Ð¾Ð¿Ð¾Ð»Ð°Ð¼...',
    'Ð¡ÐµÑ€ÐµÐ´Ð¸Ð½ÐºÐ° Ð½Ð° Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½ÐºÑƒ.',
    'Ð¡Ñ€ÐµÐ´Ð½Ðµ.',
    'Ð§ÐµÑÑ‚Ð½Ð¾ Ð³Ð¾Ð²Ð¾Ñ€Ñ, Ð½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ.',
    'Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ.',
  ],

  // Bad
  D: [
    'Ð Ð²Ð¾Ñ‚ ÑÑ‚Ð¾ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ Ð³Ð¾Ð´Ð¸Ñ‚ÑÑ.',
    'ÐšÑƒÑ€Ð°Ð¼ Ð½Ð° ÑÐ¼ÐµÑ…!',
    'ÐÐµÑ‚, ÑÑ‚Ð¾ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ Ð³Ð¾Ð´Ð¸Ñ‚ÑÑ.',
    'ÐÑƒ, ÑÑ‚Ð¾ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ Ð³Ð¾Ð´Ð¸Ñ‚ÑÑ.',
    'ÐžÐ±Ð¸Ð´Ð½Ð¾.',
    'ÐŸÐ»Ð¾Ñ…Ð¾.',
    'Ð¢Ð°Ðº Ð´ÐµÐ»Ð¾ Ð½Ðµ Ð¿Ð¾Ð¹Ð´Ñ‘Ñ‚!',
  ],

  // Very bad
  E: [
    'Ð“Ð»Ð°Ð·Ð° Ð±Ñ‹ Ð¼Ð¾Ð¸ Ð½Ðµ Ð³Ð»ÑÐ´ÐµÐ»Ð¸!',
    'ÐšÑƒÑ€Ð°Ð¼ Ð½Ð° ÑÐ¼ÐµÑ…!',
    'ÐÐ¸Ð¶Ðµ Ð²ÑÑÐºÐ¾Ð¹ ÐºÑ€Ð¸Ñ‚Ð¸ÐºÐ¸!',
    'ÐÑƒ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ð»Ð¾Ñ…Ð¾.',
    'ÐžÑ‡ÐµÐ½ÑŒ Ð¿Ð»Ð¾Ñ…Ð¾.',
    'ÐŸÐ»Ð¾Ñ…Ð¾! ÐŸÐ»Ð¾Ñ…Ð¾! ÐŸÐ»Ð¾Ñ…Ð¾!',
    'Ð¡ÐºÐ²ÐµÑ€Ð½Ð¾!',
    'Ð¥Ð²Ð°Ñ‚Ð¸Ñ‚, ÑÑ‚Ð¾ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ Ð³Ð¾Ð´Ð¸Ñ‚ÑÑ!',
    'Ð­Ñ‚Ð¾Ð³Ð¾ ÐµÑ‰Ñ‘ Ð½Ðµ Ñ…Ð²Ð°Ñ‚Ð°Ð»Ð¾.',
  ],

  // Fail miserably
  F: [
    'Ð‘ÐµÐ´Ð°, Ð´Ð° Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾!',
    'Ð‘ÐµÐ·Ð¾Ð±Ñ€Ð°Ð·Ð½Ð¾!',
    'Ð’Ð·Ð³Ð»ÑÐ½Ð¸ ÐºÐ°Ðº Ð¿Ð»Ð¾Ñ…Ð¾.',
    'Ð”Ð°Ð»ÑŒÑˆÐµ ÐµÑ…Ð°Ñ‚ÑŒ Ð½ÐµÐºÑƒÐ´Ð°!',
    'Ð”ÐµÐ»Ð¾ Ð´Ñ€ÑÐ½ÑŒ!',
    'Ð–ÑƒÑ‚ÑŒ!',
    'ÐÐµÐºÑ€Ð°ÑÐ¸Ð²Ð¾.',
    'ÐÐ¾ÑÐ¸Ð¼ Ð²Ð¾Ð´Ñƒ Ñ€ÐµÑˆÐµÑ‚Ð¾Ð¼!',
    'ÐžÐ¹ ÐºÐ°Ðº Ð¿Ð»Ð¾Ñ…Ð¾!',
    'ÐžÑ‚Ð²Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾.',
    'Ð¡Ð¾Ð²ÑÐµÐ¼ Ð¿Ð»Ð¾Ñ…Ð¾, Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚.',
    'Ð£Ð¶Ð°Ñ!',
    'Ð£Ð¶Ð°ÑÐ½Ð¾.',
    'Ð¯ Ð² ÑˆÐ¾ÐºÐµ!',
  ],

  COMPLIMENTS: [
    'Ð’ÐµÐ»Ð¸ÐºÐ¾Ð»ÐµÐ¿Ð½Ð¾!',
    'Ð’Ñ‹ÑˆÐµ Ð²ÑÑÐºÐ¸Ñ… Ð¿Ð¾Ñ…Ð²Ð°Ð»!',
    'Ð“Ñ€Ð°Ð½Ð´Ð¸Ð¾Ð·Ð½Ð¾!',
    'Ð•Ñ‰Ðµ Ð»ÑƒÑ‡ÑˆÐµ, Ñ‡ÐµÐ¼ Ð¿Ñ€ÐµÐ¶Ð´Ðµ!',
    'Ð—Ð´Ð¾Ñ€Ð¾Ð²Ð¾!',
    'Ð˜Ð¼ÐµÐ½Ð½Ð¾ ÑÑ‚Ð¾Ð³Ð¾ Ð¼Ñ‹ Ð´Ð°Ð²Ð½Ð¾ Ð¶Ð´Ð°Ð»Ð¸!',
    'ÐšÐ°Ðº Ð² ÑÐºÐ°Ð·ÐºÐµ!',
    'ÐšÐ»Ð°ÑÑÐ½Ð¾!',
    'ÐšÑ€Ð°ÑÐ¾Ñ‚Ð°!',
    'ÐœÐ¾Ð¸ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ!',
    'ÐÐ°ÑƒÑ‡Ð¸ Ð¼ÐµÐ½Ñ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ‚Ð°Ðº Ð¶Ðµ!',
    'ÐÐµÐ·Ð°Ð±Ñ‹Ð²Ð°ÐµÐ¼Ð¾!',
    'ÐÐµÐ¿Ð¾Ð´Ñ€Ð°Ð¶Ð°ÐµÐ¼Ð¾!',
    'ÐÐµÑÑ€Ð°Ð²Ð½ÐµÐ½Ð½Ð¾!',
    'ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾!',
    'ÐžÑ‡ÐµÐ½ÑŒ Ð¿Ñ€Ð¸ÑÑ‚Ð½Ð¾ Ð¾Ð±Ñ‰Ð°Ñ‚ÑŒÑÑ Ñ Ñ‚Ð°ÐºÐ¸Ð¼ ÑƒÐ¼Ð½Ñ‹Ð¼ Ñ€ÐµÐ±Ñ‘Ð½ÐºÐ¾Ð¼.',
    'ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÑŽ!',
    'ÐŸÐ¾Ñ€Ð°Ð·Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾!',
    'ÐŸÐ¾Ñ‚Ñ€ÑÑÐ°ÑŽÑ‰Ðµ!',
    'ÐŸÑ€ÐµÐºÑ€Ð°ÑÐ½Ð¾!',
    'ÐŸÑ€ÐµÐºÑ€Ð°ÑÐ½Ð¾Ðµ Ð½Ð°Ñ‡Ð°Ð»Ð¾!',
    'Ð Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ñ‚Ð¾Ð±Ð¾Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ€Ð°Ð´Ð¾ÑÑ‚ÑŒ!',
    'Ð¡ ÐºÐ°Ð¶Ð´Ñ‹Ð¼ Ð´Ð½ÐµÐ¼ Ñƒ Ñ‚ÐµÐ±Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ Ð²ÑÑ‘ Ð»ÑƒÑ‡ÑˆÐµ!',
    'Ð¢Ð°Ðº Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ!',
    'Ð¢Ð°Ð»Ð°Ð½Ñ‚Ð»Ð¸Ð²Ð¾!',
    'Ð¢Ð²Ð¾Ð¹ Ð¼Ð¾Ð·Ð³ Ð¿Ð¾Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð» Ð½Ð° ÑÐ»Ð°Ð²Ñƒ.',
    'Ð¢Ñ‹ Ð½Ð° Ð²ÐµÑ€Ð½Ð¾Ð¼ Ð¿ÑƒÑ‚Ð¸!',
    'Ð¢Ñ‹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‡ÑƒÐ´Ð¾!',
    'Ð£ Ñ‚ÐµÐ±Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ!',
    'Ð£Ð´Ð¸Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾!',
    'Ð£Ñ…!!!',
    'Ð¤Ð°Ð½Ñ‚Ð°ÑÑ‚Ð¸ÐºÐ°!',
    'Ð­Ñ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾!',
    'Ð­Ñ‚Ð¾ ÐºÐ°Ðº Ñ€Ð°Ð· Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾!',
    'Ð­Ñ‚Ð¾ Ñ‚Ñ€Ð¾Ð³Ð°ÐµÑ‚ Ð¼ÐµÐ½Ñ Ð´Ð¾ Ð³Ð»ÑƒÐ±Ð¸Ð½Ñ‹ Ð´ÑƒÑˆÐ¸!',
    'Ð¯ Ð²ÐµÑ€ÑŽ Ð² Ñ‚ÐµÐ±Ñ.',
    'Ð¯ Ð³Ð¾Ñ€Ð¶ÑƒÑÑŒ Ñ‚ÐµÐ¼, Ñ‡Ñ‚Ð¾ Ñ‚ÐµÐ±Ðµ ÑÑ‚Ð¾ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ!',
    'Ð¯ Ð·Ð½Ð°Ð»Ð°, Ñ‡Ñ‚Ð¾ Ñ‚Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ ÑÑ‚Ð¾.',
    'Ð¯ Ñ‚Ð¾Ð±Ð¾Ð¹ Ð³Ð¾Ñ€Ð¶ÑƒÑÑŒ!',
  ],

  NO_MISTAKES: [
    'Ð‘ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº!',
    'Ð’ ÑÑ‚Ð¾Ñ‚ Ñ€Ð°Ð· Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº!',
    'Ð’ÑÑ‘ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾, Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð½ÐµÑ‚!',
    'ÐÐ¸ Ð¾Ð´Ð½Ð¾Ð¹ Ð¾ÑˆÐ¸Ð±ÐºÐ¸!',
    'ÐžÑˆÐ¸Ð±Ð¾Ðº Ð½ÐµÑ‚!',
  ],

  NO_MISTAKES_REPLY: [
    'ÐÑ…!',
    'Ð’Ð¾Ñ‚ ÑÑ‚Ð¾ Ð´Ð°!',
    'Ð—Ð´Ð¾Ñ€Ð¾Ð²Ð¾.',
    'ÐšÐ»Ð°ÑÑ!',
    'ÐšÐ¾Ð¼Ð°Ñ€ Ð½Ð¾ÑÐ° Ð½Ðµ Ð¿Ð¾Ð´Ñ‚Ð¾Ñ‡Ð¸Ñ‚!',
    'ÐœÐ½Ðµ Ð´Ð°Ð¶Ðµ Ð½Ðµ Ð²ÐµÑ€Ð¸Ñ‚ÑÑ.',
    'ÐÐ°ÐºÐ¾Ð½ÐµÑ†-Ñ‚Ð¾!',
    'ÐÐµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ!',
    'Ð£Ñ€Ð°!',
    'Ð£Ñ… Ñ‚Ñ‹!',
    'Ð§ÑƒÐ´ÐµÑÐ½Ð¾!',
    '\\ðŸ˜/',
  ],

  // Just one mistake.
  ONE_MISTAKE: [
    'Ð’ÑÐµÐ³Ð¾ Ð»Ð¸ÑˆÑŒ Ð¾Ð´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°.',
    'Ð’ÑÐµÐ³Ð¾ Ð¾Ð´Ð½Ð° Ð¾ÑˆÐ¸Ð±Ð¾Ñ‡ÐºÐ°!',
    'Ð•ÑÑ‚ÑŒ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ°Ñ Ð¾ÑˆÐ¸Ð±Ð¾Ñ‡ÐºÐ°...',
    'ÐÐ°Ð´Ð¾ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ð´Ð½Ñƒ Ð¾ÑˆÐ¸Ð±ÐºÑƒ.',
    'ÐÐ¾ ÐµÑÑ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ°.',
    'ÐÑƒ, Ñ ÐºÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°ÐµÑ‚... ÐžÐ´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°.',
    'ÐžÐ´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°.',
    'ÐžÑˆÐ¸Ð±ÐºÐ°.',
    'ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°, Ð¸ Ð²ÑÑ‘.',
    'Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°!',
    'Ð£ Ð½Ð°Ñ Ð²Ñ‹ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±Ð¾Ñ‡ÐºÐ°!',
  ],
  ONE_MISTAKE_REPLAY: [
    'ÐžÐ´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°?',
    'Ð’ÑÐµÐ³Ð¾ Ð¾Ð´Ð½Ð°!',
    'Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð½Ð°!',
    'Ð¯ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÑŽ!',
    'Ð¯... Ñ ÐµÑ‘ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÑŽ!',
  ],

  MISTAKES_REPLAY: [
    'Ð¯ Ð²ÑÑ‘ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÑŽ.',
    'Ð¯ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÑŽ!',
    'Ð¯... Ñ Ð²ÑÑ‘ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÑŽ!',
  ],

  // 2, 3 or 4 mistakes.
  COUNTABLE_MISTAKES: [
    '$ Ð¾ÑˆÐ¸Ð±ÐºÐ¸.',
    'Ð£ Ñ‚ÐµÐ±Ñ $ Ð¾ÑˆÐ¸Ð±ÐºÐ¸.',
    'Ð¦ÐµÐ»Ñ‹Ñ… $ Ð¾ÑˆÐ¸Ð±ÐºÐ¸.',
  ],

  // 5 and more mistakes.
  UNCOUNTABLE_MISTAKES: [
    'ÐœÐ½Ð¾Ð³Ð¾ Ð¾ÑˆÐ¸Ð±Ð¾Ðº!',
    'ÐžÑ‡ÐµÐ½ÑŒ Ð¼Ð½Ð¾Ð³Ð¾ Ð¾ÑˆÐ¸Ð±Ð¾Ðº!',
    'ÐžÑˆÐ¸Ð±ÐºÐ¸, Ð¾ÑˆÐ¸Ð±ÐºÐ¸, ÐºÑ€ÑƒÐ³Ð¾Ð¼ Ð¾Ð´Ð½Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ¸.',
  ],

  MISTAKE_EMPHASIS: [
    'Ð“Ñ€Ð°Ð¼Ð¾Ñ‚Ð½Ð¾ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ:',
    'Ð”Ð°Ð²Ð°Ð¹ Ð²Ð¼ÐµÑÑ‚Ðµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸Ð¼:',
    'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸ Ð¸ Ð¿Ð¸ÑˆÐ¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾:',
    'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸:',
    'ÐœÑ‹ Ð¿Ð¸ÑˆÐµÐ¼:',
    'ÐÐ°Ð´Ð¾ Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ:',
    'ÐŸÐ¸ÑˆÐµÐ¼ Ð³Ñ€Ð°Ð¼Ð¾Ñ‚Ð½Ð¾:',
    'ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€ÑÐ¹ Ð·Ð° Ð¼Ð½Ð¾Ð¹:',
    'ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ:',
    'Ð¡Ð»ÐµÐ´ÑƒÐµÑ‚ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ:',
    // 'Ð¡Ð¾Ð³Ð»Ð°ÑÐ½Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°Ð¼:',
    // 'ÐŸÐ¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°Ð¼:',
    // 'Ð’Ñ‹ÑƒÑ‡Ð¸',
    // 'Ð”ÐµÑ€Ð¶Ð¸ Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸',
    // 'Ð—Ð°Ñ€ÑƒÐ±Ð¸ ÑÐµÐ±Ðµ Ð½Ð° Ð½Ð¾ÑÑƒ',
    // 'Ð—Ð°ÑƒÑ‡Ð¸',
    // 'ÐÐ°Ð¼Ð¾Ñ‚Ð°Ð¹ ÑÐµÐ±Ðµ Ð½Ð° ÑƒÑ',
    // 'ÐŸÐ¾Ð¼Ð½Ð¸',
    // 'ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾',
    // 'ÐŸÑ€Ð¸Ð¼Ð¸ Ð²Ð¾ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ',
    // 'Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸ Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸',
    // 'Ð£ÑÑÐ½Ð¸',
  ],

  REMEMBER_EMPHASIS: [
    'Ð•Ñ‰Ñ‘ Ñ€Ð°Ð· Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸ Ð¸ Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐ½ÑŒÐºÐ¾ Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸.',
    'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸ ÑÑ‚Ð¸ ÑÐ»Ð¾Ð²Ð°.',
    'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸ ÑÑ‚Ð¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐ½ÑŒÐºÐ¾.',
    'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¸ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð¿ÑƒÑ‚Ð°Ð¹.',
    'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¸ Ð½Ðµ Ð·Ð°Ð±Ñ‹Ð²Ð°Ð¹ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°!',
    'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°.',
    'ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸ Ð¸ Ð½Ðµ Ð´ÐµÐ»Ð°Ð¹ Ñ‚Ð°ÐºÐ¸Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº!',
    'ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸!',
    'Ð¡Ñ‚Ð°Ñ€Ð°Ð¹ÑÑ Ð½Ð° ÑÐ¾Ð²ÐµÑÑ‚ÑŒ! Ð’Ð¾Ð´Ð° ÐºÐ°Ð¼ÐµÐ½ÑŒ Ñ‚Ð¾Ñ‡Ð¸Ñ‚.',
    'Ð¡Ñ‚Ð°Ñ€Ð°Ð¹ÑÑ! Ð‘ÐµÐ· Ñ‚Ñ€ÑƒÐ´Ð° Ð½Ðµ Ð²Ñ‹Ð»Ð¾Ð²Ð¸ÑˆÑŒ Ð¸ Ñ€Ñ‹Ð±ÐºÑƒ Ð¸Ð· Ð¿Ñ€ÑƒÐ´Ð°.',
    'Ð¢Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²ÑÑ‘, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸.',
  ],
};

/**
 * Returns score message.
 *
 * @param score in [0, 1]
 */
export function getScoreMessage(score: number): string {
  if (score === 1) {
    return randomItem(MESSAGES.A);
  } else if (score > 0.9) {
    return randomItem(MESSAGES.B);
  } else if (score > 0.8) {
    return randomItem(MESSAGES.C);
  } else if (score > 0.7) {
    return randomItem(MESSAGES.D);
  } else if (score > 0.6) {
    return randomItem(MESSAGES.E);
  } else {
    return randomItem(MESSAGES.F);
  }
}

export interface ChatBotItem {
  who: 'teacher' | 'student';
  message: string;
}

export interface Answer {
  userAnswer: string;
  realAnswer: string;
}

export function countErrors(answers: Answer[]) {
  let count = 0;
  for (const a of answers) {
    if (a.realAnswer !== a.userAnswer) {
      count++;
    }
  }
  return count;
}

export class ChatBot {
  items: ChatBotItem[] = [];
  selection = 0;

  get currentItem() {
    return this.items[this.selection];
  }

  next() {
    this.selection = Math.min(this.selection + 1, this.items.length);
  }

  prev() {
    this.selection = Math.max(this.selection - 1, 0);
  }

  addTeacher(message: string) {
    this.items.push({ who: 'teacher', message});
  }

  addStudent(message: string) {
    this.items.push({ who: 'student', message});
  }

  onStart(answers: Answer[]) {

  }

  onProgress(answers: Answer[]) {

  }

  onEnd(answers: Answer[]) {
    const errorCount = countErrors(answers);
    const answerCount = answers.length;

    this.addTeacher(getScoreMessage((answerCount - errorCount) / answerCount));

    if (errorCount === 0) {
      this.addTeacher(randomItem(MESSAGES.NO_MISTAKES));
      this.addTeacher(randomItem(MESSAGES.COMPLIMENTS));
      this.addStudent(randomItem(MESSAGES.NO_MISTAKES_REPLY));
    } else if (errorCount === 1) {
      this.addTeacher(randomItem(MESSAGES.ONE_MISTAKE));
      this.addStudent(randomItem(MESSAGES.ONE_MISTAKE_REPLAY));
    } else if (errorCount >= 2 && errorCount <= 4) {
      this.addTeacher(randomItem(MESSAGES.COUNTABLE_MISTAKES).replace('$', '' + errorCount));
      this.addStudent(randomItem(MESSAGES.MISTAKES_REPLAY));
    } else {
      this.addTeacher(randomItem(MESSAGES.UNCOUNTABLE_MISTAKES));
      this.addStudent(randomItem(MESSAGES.MISTAKES_REPLAY));
    }

    if (errorCount > 0) {
      this.markErrors(answers);
    }
  }

  markErrors(answers: Answer[]) {
    this.addTeacher(randomItem(MESSAGES.MISTAKE_EMPHASIS));
    for (const a of answers) {
      if (a.userAnswer !== a.realAnswer) {
        this.addTeacher(`<mark>${a.realAnswer}</mark>`);
        this.addStudent(`<strong>${a.realAnswer}</strong>`);
      }
    }
    this.addTeacher(randomItem(MESSAGES.REMEMBER_EMPHASIS));
  }
}
